(this.webpackJsonpmyexpenses=this.webpackJsonpmyexpenses||[]).push([[0],{173:function(e){e.exports=JSON.parse('{"MONTHS":{"1":"January","2":"February","3":"March","4":"April","5":"May","6":"June","7":"July","8":"August","9":"September","10":"October","11":"November","12":"December"},"HEADER":{"TITLE":"MyExpenses","GROUP":"Group","LABEL":"Label","EXPENSE":"Expense","SETTINGS":"Settings","IMPORT":"Import","LOGOUT":"Logout","LOGIN":"Login"},"SEARCH":{"GROUP":"Group","MONTH":"Month","YEAR":"Year","ACTION":"Search","HEADER":"Search by"},"AUTH":{"FACEBOOK":"Facebook","BY_FACEBOOK":"Login by Facebook","EMAIL":"Email","EMAIL_PLACEHOLDER":"Enter email","PASSWORD":"Password","PASSWORD_PLACEHOLDER":"Enter password","LOGIN":"Login","BY_EMAIL":"Login by email","ERROR":"Something went wrong. Try again later."},"GROUP":{"TITLE":"Groups","ADD":"Add new group","ERROR":"Something went wrong. Try again later.","YOU":"You","EDIT":"Edit","DELETE":"Delete","MODAL":{"ADD_TITLE":"Add new group","EDIT_TITLE":"Edit group","ADD_ACTION":"Add","EDIT_ACTION":"Edit","NAME":"Name","NAME_PLACEHOLDER":"Enter name","USERS":"Users"}},"LABEL":{"TITLE":"Labels","ADD":"Add new label","ERROR":"Something went wrong. Try again later.","EDIT":"Edit","DELETE":"Delete","TAB_ITEMS":"Items","TAB_GRAPH":"Graph","CURRENT_MONTH":"This month","LAST_MONTH":"Last month","AVERAGE":"Average","MODAL":{"ADD_TITLE":"Add new label","EDIT_TITLE":"Edit label","ADD_ACTION":"Add","EDIT_ACTION":"Edit","NAME":"Name","NAME_PLACEHOLDER":"Enter name"}},"EXPENSE":{"TITLE":"Expenses","ADD":"Add new expense","ERROR":"Something went wrong. Try again later.","EDIT":"Edit","DELETE":"Delete","SUMMARY":"Summary","INCOMING":"Incoming","OUTCOMING":"Outcoming","VALUE":"Value","DATE":"Date","LABEL":"Label","DATE_FORMAT":"dd/MM/yy","FIELD_DATE_FORMAT":"yyyy-MM-dd","TOTAL_INCOMING":"Total incoming","TOTAL_OUTCOMING":"Total outcoming","TOTAL_LEFT":"Total left","MODAL":{"ADD_TITLE":"Add new expense","EDIT_TITLE":"Edit expense","ADD_ACTION":"Add","EDIT_ACTION":"Edit","TYPE":"Type","NAME":"Name","VALUE":"Value","DATE":"Date","LABEL":"Label","COMMENTS":"Comments","NAME_PLACEHOLDER":"Enter name","VALUE_PLACEHOLDER":"Enter value","COMMENTS_PLACEHOLDER":"Enter comments"}},"SETTINGS":{"TITLE":"Settings","DARK_THEME":"Dark theme","DISPLAY_NAME":"Display name","DISPLAY_NAME_PLACEHOLDER":"Enter display name","UPDATE":"Update","ERROR":"Something went wrong. Try again later."},"IMPORT":{"TITLE":"Import","GROUP":"Group","SEPARATOR":"Separator","DATA":"Import data","DATA_TEXT":"Format per line: TYPE;NAME;VALUE;DATE;LABEL;COMMENTS","DATA_PLACEHOLDER":"0;Some drinks;8.79;20/12/2020;Pub;2x\\n1;Some food;20.55;25/12/2020;Meal;5 Old Mill\\n0;Some groceries;18.34;27/12/2020;Market;Aldi","ACTION":"Process","TABLE":{"NUMBER":"#","STATUS":"Status","TYPE":"Type","NAME":"Name","VALUE":"Value","DATE":"Date","DATE_FORMAT":"dd/MM/yy","INVALID_DATE":"Invalid date","LABEL":"Label","COMMENTS":"Comments"}}}')},188:function(e,t,a){e.exports=a(342)},202:function(e,t,a){},342:function(e,t,a){"use strict";a.r(t);var n=a(17),r=a(0),c=a.n(r),u=a(44),o=a.n(u),l=a(172);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i=a(141),s=a(90),m={en:{translation:a(173)}};i.a.use(s.e).init({resources:m,lng:"en",fallbackLng:"en",interpolation:{escapeValue:!1}});i.a,a(202);var E,b=a(23),p=a(35),O=a(138),d=a.n(O),f=function(e){return null!==e&&void 0!==e&&("string"!==typeof e&&!Array.isArray(e)||e.length>0)},h=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.find((function(e){return f(e)}))};!function(e){e.FIREBASE="FIREBASE",e.LOCAL_STORAGE="LOCAL_STORAGE",e.TOTAL_FAKE="TOTAL_FAKE",e.TEST_API="TEST_API"}(E||(E={}));var v=function e(){Object(b.a)(this,e),this.apiUrl="http://localhost:5000/",this.buildVersion="local",this.requestDelay=1e3,this.firebaseApiKey="AIzaSyDMDE7eTQbjwkQglMJf5KnFtMr48-pAoVM",this.firebaseProject="lfmachadodasilva-dev",this.useHashRouter=!0},A=function(){function e(){Object(b.a)(this,e)}return Object(p.a)(e,null,[{key:"get",value:function(){var e=d.a.get("ApplicationConfiguration"),t=new v;return Object.assign(t,e),t}}]),e}();A.set=function(e){d.a.set({ApplicationConfiguration:e},{freeze:!1})};var j=a(5),g=a(82),T=a(24),k=a(41),L=a.n(k),x=a(176),R=a(53),S=(a(152),a(177)),y=a.n(S),N=a(4),C=a.n(N),I=a(10),D=a(30),M=a(349),w=a(15),U=a(42),P=a(91),_=a(70),G=a(76),B=function e(){Object(b.a)(this,e)};B.home="/",B.auth="/auth",B.settings="/settings",B.import="/import",B.group="/group",B.label="/label",B.expense="/expense";var F,H,V=Object(r.createContext)({initialising:!1,isReady:!1,isDarkTheme:!1,setDarkTheme:function(e){}}),K=a(56),X=a(55),Y=[{id:"1",displayName:"User 1",email:"user1@email.com"},{id:"2",displayName:"User 2",email:"user2@email.com"},{id:"3",displayName:"User 3",email:"user3@email.com"},{id:"4",displayName:"User 4",email:"user4@email.com"},{id:"5",displayName:"User 5",email:"user5@email.com"}];!function(e){e[e.READY=0]="READY",e[e.LOADING=1]="LOADING",e[e.LOADED=2]="LOADED",e[e.ERROR=3]="ERROR"}(F||(F={})),function(e){e[e.OK=200]="OK",e[e.ERROR=500]="ERROR"}(H||(H={}));var z=function(){var e=Object(I.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.response&&t.response.status>=H.OK&&(console.error("Request Failed:",t.config),console.error("Status:",t.response.status),console.error("Data:",t.response.data),console.error("Headers:",t.response.headers)),e.abrupt("return",Promise.reject(t));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),J=function(){function e(t){Object(b.a)(this,e),this.config=t}return Object(p.a)(e,[{key:"resolveMockData",value:function(){var e=Object(I.a)(C.a.mark((function e(t){var a=this;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){setTimeout((function(){e(t)}),a.config.requestDelay)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"rejectMockData",value:function(){var e=Object(I.a)(C.a.mark((function e(){var t=this;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){setTimeout((function(){a()}),t.config.requestDelay)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"get",value:function(){var e=Object(I.a)(C.a.mark((function e(t,a){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.get(t,{baseURL:this.config.apiUrl,withCredentials:!0,headers:{Accept:"application/json; charset=utf=8",Authorization:"Bearer "+L.a.defaults.headers.common.Authorization},params:a});case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",z(e.t0));case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"post",value:function(){var e=Object(I.a)(C.a.mark((function e(t,a,n){var r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.post(t,n,{baseURL:this.config.apiUrl,withCredentials:!0,headers:{Accept:"application/json; charset=utf=8",Authorization:"Bearer "+L.a.defaults.headers.common.Authorization},params:a});case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",z(e.t0));case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"put",value:function(){var e=Object(I.a)(C.a.mark((function e(t,a,n){var r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.put(t,n,{baseURL:this.config.apiUrl,withCredentials:!0,headers:{Accept:"application/json; charset=utf=8",Authorization:"Bearer "+L.a.defaults.headers.common.Authorization},params:a});case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",z(e.t0));case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(I.a)(C.a.mark((function e(t){var a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.delete(t,{baseURL:this.config.apiUrl,withCredentials:!0,headers:{Accept:"application/json; charset=utf=8",Authorization:"Bearer "+L.a.defaults.headers.common.Authorization}});case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",z(e.t0));case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),q=function(e){Object(K.a)(a,e);var t=Object(X.a)(a);function a(e){var n;return Object(b.a)(this,a),(n=t.call(this,e)).config=e,n.baseUrl="/api/user",n}return Object(p.a)(a,[{key:"addOrUpdate",value:function(){var e=Object(I.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config.apiUrl!==E.FIREBASE){e.next=3;break}e.next=8;break;case 3:if(this.config.apiUrl!==E.LOCAL_STORAGE){e.next=6;break}e.next=8;break;case 6:if(this.config.apiUrl!==E.TOTAL_FAKE){e.next=8;break}return e.abrupt("return",this.resolveMockData(Y[0]));case 8:return e.next=10,this.post("/api/user",{},t);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAll",value:function(){var e=Object(I.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config.apiUrl!==E.FIREBASE){e.next=3;break}e.next=8;break;case 3:if(this.config.apiUrl!==E.LOCAL_STORAGE){e.next=6;break}e.next=8;break;case 6:if(this.config.apiUrl!==E.TOTAL_FAKE){e.next=8;break}return e.abrupt("return",this.resolveMockData(Y));case 8:return e.next=10,this.get(this.baseUrl);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"remove",value:function(){var e=Object(I.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config.apiUrl!==E.FIREBASE){e.next=3;break}e.next=8;break;case 3:if(this.config.apiUrl!==E.LOCAL_STORAGE){e.next=6;break}e.next=8;break;case 6:if(this.config.apiUrl!==E.TOTAL_FAKE){e.next=8;break}return e.abrupt("return",this.resolveMockData(void 0));case 8:return e.next=10,this.delete(this.baseUrl+"/"+t);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),a}(J),W=new R.auth.FacebookAuthProvider,Q=function(){var e=Object(I.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(R.auth)().signInWithPopup(W);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),console.error(e.t0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=Object(I.a)(C.a.mark((function e(t,a){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(R.auth)().signInWithEmailAndPassword(t,a);case 3:e.next=9;break;case 5:throw e.prev=5,e.t0=e.catch(0),console.error(e.t0),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,a){return e.apply(this,arguments)}}(),Z=function(){var e=Object(I.a)(C.a.mark((function e(t,a,n){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,null===a||void 0===a?void 0:a.updateProfile({displayName:n});case 3:return e.next=5,new q(t).addOrUpdate({id:a.uid,email:a.email,displayName:a.displayName,photoUrl:a.photoURL});case 5:e.next=11;break;case 7:throw e.prev=7,e.t0=e.catch(0),console.error(e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a,n){return e.apply(this,arguments)}}(),ee=function(e){var t,a;return f(e)?f(e.displayName)?null===(a=e.displayName)||void 0===a?void 0:a.split(" ")[0]:null===(t=e.email)||void 0===t?void 0:t.split("@")[0]:""};function te(){var e=Object(D.a)(["\n    .navbar-brand {\n        cursor: pointer;\n    };\n"]);return te=function(){return e},e}var ae=Object(T.b)(te()),ne=Object(r.memo)((function(e){var t=Object(r.useContext)(V),a=t.user,n=t.initialising,u=t.isReady,o=Object(w.g)(),l=Object(M.a)(),i=Object(j.a)(l,1)[0],s=Object(r.useState)(!1),m=Object(j.a)(s,2),E=m[0],b=m[1],p=Object(r.useCallback)((function(e){b(e)}),[]),O=Object(r.useCallback)((function(e){b(!1),f(o.location.search)?o.push({pathname:e,search:o.location.search}):o.push(e)}),[o]),d=Object(r.useCallback)(Object(I.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(R.auth)().signOut();case 2:setTimeout((function(){return o.push(B.home)}));case 3:case"end":return e.stop()}}),e)}))),[o]),h=Object(r.useMemo)((function(){if(f(a)){var e=ee(a);return c.a.createElement(U.a,null,c.a.createElement(G.a,{title:e,id:"collasible-nav-dropdown"},c.a.createElement(G.a.Item,{onClick:function(){return O(B.settings)}},i("HEADER.SETTINGS")),c.a.createElement(G.a.Item,{onClick:function(){return O(B.import)}},i("HEADER.IMPORT")),c.a.createElement(G.a.Divider,null),c.a.createElement(G.a.Item,{onClick:d},i("HEADER.LOGOUT"))))}return c.a.createElement(U.a,null,c.a.createElement(U.a.Link,{onClick:function(){return O(B.auth)}},i("HEADER.LOGIN")))}),[a,O,d,i]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(ae,null),c.a.createElement(P.a,{bg:"dark",variant:"dark",expand:"sm",onToggle:p,expanded:E},c.a.createElement(_.a,null,c.a.createElement(P.a.Brand,{onClick:function(){return O(B.home)}},i("HEADER.TITLE")),c.a.createElement(P.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),c.a.createElement(P.a.Collapse,{id:"responsive-navbar-nav",className:"mr-auto "},u&&c.a.createElement(U.a,{className:"mr-auto"},c.a.createElement(U.a.Link,{onClick:function(){return O(B.group)}},i("HEADER.GROUP")),c.a.createElement(U.a.Link,{onClick:function(){return O(B.label)}},i("HEADER.LABEL")),c.a.createElement(U.a.Link,{onClick:function(){return O(B.expense)}},i("HEADER.EXPENSE"))),!u&&c.a.createElement(U.a,{className:"mr-auto"}),!n&&h))))}));function re(){var e=Object(D.a)(["\n  body {\n    background: ",";\n    color: ",";\n  };\n\n  .table {\n    color: ",";\n  };\n  \n  .card {\n    background: ",";\n    color: ",";\n    border-color:",";\n  };\n  .card-header {\n    background: ",";\n    color: ",";\n    border-color:",";\n  };\n\n  .form-control {\n    background-color: ",";\n    color: ",";\n  };\n\n  .modal-content {\n    background-color: ",";\n    border-color:",";\n  };\n  .modal-header {\n    background-color: ",";\n    border-color:",";\n  };\n  .modal-body {\n    background-color: ",";\n    border-color:",";\n  };\n  .modal-footer {\n    background-color: ",";\n    border-color:",";\n  };\n  .close {\n    background-color: ",";\n    color: ",";\n    border-color:",";\n    text-shadow: none;\n  };\n\n  .nav-tabs .nav-link.active, .nav-tabs .nav-item.show .nav-link  {\n      background-color: ",";\n      color: ",";\n      border-color: ",";\n  };\n  "]);return re=function(){return e},e}var ce=Object(T.b)(re(),(function(e){return e.theme.body}),(function(e){return e.theme.text}),(function(e){return e.theme.text}),(function(e){return e.theme.body}),(function(e){return e.theme.text}),(function(e){return e.theme.toggleBorder}),(function(e){return e.theme.body}),(function(e){return e.theme.text}),(function(e){return e.theme.toggleBorder}),(function(e){return e.theme.body}),(function(e){return e.theme.text}),(function(e){return e.theme.body}),(function(e){return e.theme.toggleBorder}),(function(e){return e.theme.body}),(function(e){return e.theme.toggleBorder}),(function(e){return e.theme.body}),(function(e){return e.theme.toggleBorder}),(function(e){return e.theme.body}),(function(e){return e.theme.toggleBorder}),(function(e){return e.theme.body}),(function(e){return e.theme.text}),(function(e){return e.theme.toggleBorder}),(function(e){return e.theme.body}),(function(e){return e.theme.text}),(function(e){return e.theme.toggleBorder})),ue={body:"#f8f9fa",text:"#343a40",toggleBorder:"#595959",gradient:"linear-gradient(#39598A, #79D7ED)"},oe={body:"#363537",text:"#fff",toggleBorder:"#646464",gradient:"linear-gradient(#091236, #1E215D)"},le=a(86),ie=a.n(le),se=a(52),me=a(28),Ee=a(111),be=a(9),pe=a(26),Oe=Object(r.memo)((function(e){return f(e.message)?c.a.createElement("div",{className:"alert alert-danger",role:"alert"},e.message):c.a.createElement(c.a.Fragment,null)}));function de(){var e=Object(D.a)([""]);return de=function(){return e},e}var fe=Object(T.b)(de()),he=Object(r.memo)((function(e){var t=Object(M.a)(),a=Object(j.a)(t,1)[0],n=Object(w.g)(),u=Object(r.useState)(!1),o=Object(j.a)(u,2),l=o[0],i=o[1],s=Object(r.useState)(""),m=Object(j.a)(s,2),E=m[0],b=m[1],p=Object(r.useState)(""),O=Object(j.a)(p,2),d=O[0],f=O[1],h=Object(r.useState)(""),v=Object(j.a)(h,2),A=v[0],g=v[1],T=Object(r.useCallback)(Object(I.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),b(""),e.prev=2,e.next=5,Q();case 5:setTimeout((function(){return n.push(B.home)})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),b(a("AUTH.ERROR"));case 11:return e.prev=11,i(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[2,8,11,14]])}))),[n,a]),k=Object(r.useCallback)((function(e){f(e.target.value)}),[]),L=Object(r.useCallback)((function(e){g(e.target.value)}),[]),x=Object(r.useCallback)(Object(I.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),b(""),e.prev=2,e.next=5,$(d,A);case 5:setTimeout((function(){return n.push(B.home)})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),b(a("AUTH.ERROR"));case 11:return e.prev=11,i(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[2,8,11,14]])}))),[d,A,n,a]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(fe,null),c.a.createElement(_.a,{className:"p-4"},c.a.createElement(Oe,{message:E}),c.a.createElement(Ee.a,null,c.a.createElement(se.a,{className:"p-1",xs:12,sm:6},c.a.createElement(pe.a,{className:"p-4"},c.a.createElement(pe.a.Title,null,a("AUTH.BY_FACEBOOK")),c.a.createElement(pe.a.Body,null,c.a.createElement(me.a,{onClick:T},a("AUTH.FACEBOOK"))))),c.a.createElement(se.a,{className:"p-1",xs:12,sm:6},c.a.createElement(pe.a,{className:"p-4"},c.a.createElement(pe.a.Title,null,a("AUTH.BY_EMAIL")),c.a.createElement(pe.a.Body,null,c.a.createElement(be.a,null,c.a.createElement(be.a.Group,{controlId:"formBasicEmail"},c.a.createElement(be.a.Label,null,a("AUTH.EMAIL")),c.a.createElement(be.a.Control,{type:"email",placeholder:a("AUTH.EMAIL_PLACEHOLDER"),onChange:k})),c.a.createElement(be.a.Group,{controlId:"formBasicPassword"},c.a.createElement(be.a.Label,null,a("AUTH.PASSWORD")),c.a.createElement(be.a.Control,{type:"password",placeholder:a("AUTH.PASSWORD_PLACEHOLDER"),onChange:L})),c.a.createElement(me.a,{variant:"primary",onClick:x,disabled:l},a("AUTH.LOGIN")))))))))})),ve=a(63),Ae=a(115),je=Object(r.memo)((function(e){var t;return c.a.createElement("div",{className:"d-flex justify-content-between mb-2"},c.a.createElement("h4",null,e.title),c.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:e.onAction,disabled:null!==(t=e.disableAction)&&void 0!==t&&t},e.action))})),ge=Object(r.memo)((function(e){return e.isLoading?c.a.createElement("div",{className:"m-2 text-center"},c.a.createElement("div",{className:"spinner-border",role:"status"},c.a.createElement("span",{className:"sr-only"},"Loading..."))):c.a.createElement(c.a.Fragment,null,e.children)})),Te=a(124),ke=a(182),Le=Object(r.createContext)({isLoading:!0,labels:[],groups:[],years:[],group:0,month:1,year:2020});function xe(){var e=Object(D.a)(["\n    .search-component {\n        .card-header {\n            padding: 5px;\n            border: none;\n        }\n        .card-body {\n            padding-top: 0;\n            padding-bottom: 0;\n            padding-right: 10px;\n            padding-left: 10px;\n        }\n        .search-header {\n            margin: 0px;\n        }\n    }\n"]);return xe=function(){return e},e}var Re,Se=Object(T.b)(xe()),ye=Object(r.memo)((function(e){var t=Object(M.a)(),a=Object(j.a)(t,1)[0],n=Object(w.g)(),u=Object(r.useContext)(Le),o=Object(r.useState)([1,2,3,4,5,6,7,8,9,10,11,12]),l=Object(j.a)(o,1)[0],i=Object(r.useState)(u.group),s=Object(j.a)(i,2),m=s[0],E=s[1],b=Object(r.useState)(u.month),p=Object(j.a)(b,2),O=p[0],d=p[1],f=Object(r.useState)(u.year),h=Object(j.a)(f,2),v=h[0],A=h[1],g=Object(r.useState)(!1),T=Object(j.a)(g,2),k=T[0],L=T[1];Object(r.useEffect)((function(){E(u.group),d(u.month),A(u.year)}),[u.group,u.month,u.year]);var x=Object(r.useCallback)((function(e){E(e.target.value)}),[]),R=Object(r.useCallback)((function(e){d(e.target.value)}),[]),S=Object(r.useCallback)((function(e){A(e.target.value)}),[]),y=Object(r.useCallback)((function(){n.push({pathname:n.location.pathname,search:ie.a.stringify({group:m,month:O,year:v})})}),[n,m,O,v]),N=Object(r.useCallback)((function(){L(!k)}),[k]),C=Object(r.useMemo)((function(){return u.groups.map((function(e){return c.a.createElement("option",{key:"GROUP_"+e.id,value:e.id},e.name)}))}),[u.groups]),I=Object(r.useMemo)((function(){return l.map((function(e){return c.a.createElement("option",{key:"MONTH_"+e,value:e},a("MONTHS."+e))}))}),[l,a]),D=Object(r.useMemo)((function(){return u.years.map((function(e){return c.a.createElement("option",{key:"YEAR_"+e,value:e},e)}))}),[u.years]),U=Object(r.useMemo)((function(){if(u.isLoading)return c.a.createElement("div",{className:"text-center"},c.a.createElement(ke.a,{"data-testid":"search-loading",animation:"border",role:"status",size:"sm"},c.a.createElement("span",{className:"sr-only"},"Loading...")));if(k)return c.a.createElement("strong",null,c.a.createElement("p",{className:"search-header"},a("SEARCH.HEADER")));var e=u.groups.find((function(e){return e.id===m}));return c.a.createElement("div",{className:"d-flex justify-content-around"},c.a.createElement("p",{className:"search-header"},null===e||void 0===e?void 0:e.name),c.a.createElement("p",{className:"search-header"},a("MONTHS."+O)),c.a.createElement("p",{className:"search-header"},v))}),[k,u.isLoading,u.groups,m,O,v,a]);return c.a.createElement("div",{className:"search-component mb-2"},c.a.createElement(Se,null),c.a.createElement(Te.a,null,c.a.createElement(pe.a,null,c.a.createElement(pe.a.Header,null,c.a.createElement(Te.a.Toggle,{as:pe.a.Header,eventKey:"0",onClick:N},U)),c.a.createElement(Te.a.Collapse,{eventKey:"0"},c.a.createElement(pe.a.Body,null,c.a.createElement(Ee.a,null,c.a.createElement(se.a,{xs:12,sm:5},c.a.createElement(be.a.Group,null,c.a.createElement(be.a.Label,null,a("SEARCH.GROUP")),c.a.createElement(be.a.Control,{as:"select",size:"sm",value:m,onChange:x},C))),c.a.createElement(se.a,{xs:12,sm:4},c.a.createElement(be.a.Group,null,c.a.createElement(be.a.Label,null,a("SEARCH.MONTH")),c.a.createElement(be.a.Control,{as:"select",size:"sm",value:O,onChange:R},I))),c.a.createElement(se.a,{xs:12,sm:3},c.a.createElement(be.a.Group,null,c.a.createElement(be.a.Label,null,a("SEARCH.YEAR")),c.a.createElement(be.a.Control,{as:"select",size:"sm",value:v,onChange:S},D)))),c.a.createElement("div",{className:"d-flex justify-content-end"},c.a.createElement(me.a,{className:"mb-2",onClick:y,size:"sm"},"Search")))))))}));!function(e){e[e.INCOMING=0]="INCOMING",e[e.OUTCOMING=1]="OUTCOMING"}(Re||(Re={}));var Ne=[{id:1,name:"Group 1",users:Y.map((function(e){return e.id}))},{id:2,name:"Group 2",users:Y.map((function(e){return e.id}))},{id:3,name:"Group 3",users:Y.map((function(e){return e.id}))},{id:4,name:"Group 4",users:Y.map((function(e){return e.id}))}],Ce=[{id:1,name:"Group 1",users:Y},{id:2,name:"Group 2",users:Y},{id:3,name:"Group 3",users:Y},{id:4,name:"Group 4",users:Y}],Ie=[{id:1,name:"Label 1",groupId:1},{id:2,name:"Label 2",groupId:1},{id:3,name:"Label 3",groupId:2},{id:4,name:"Label 4",groupId:2}],De=[{id:1,name:"Label 1",groupId:1,currValue:1.11,lastValue:5,avgValue:6.33},{id:2,name:"Label 2",groupId:1,currValue:2.11,lastValue:4,avgValue:5.33},{id:3,name:"Label 3",groupId:2,currValue:3.11,lastValue:3,avgValue:4.33},{id:4,name:"Label 4",groupId:2,currValue:4.11,lastValue:2,avgValue:3.33}],Me=[{id:1,name:"Expense 1",type:Re.OUTCOMING,value:1.11,date:new Date(2020,0,1),comments:"Comments 1",groupId:Ne[0].id,labelId:Ie[0].id},{id:2,name:"Expense 2",type:Re.OUTCOMING,value:2.11,date:new Date,comments:"Comments 2",groupId:Ne[0].id,labelId:Ie[1].id},{id:3,name:"Expense 3",type:Re.INCOMING,value:3.11,date:new Date,comments:"Comments 3",groupId:Ne[0].id,labelId:Ie[2].id},{id:4,name:"Expense 4",type:Re.INCOMING,value:4.11,date:new Date,comments:"Comments 3",groupId:Ne[0].id,labelId:Ie[3].id}],we=[{id:1,name:"Expense 1",type:Re.OUTCOMING,value:1.11,date:new Date(2020,0,1),comments:"Comments 1",groupId:Ne[0].id,label:Ie[0]},{id:2,name:"Expense 2",type:Re.OUTCOMING,value:2.11,date:new Date,comments:"Comments 2",groupId:Ne[0].id,label:Ie[1]},{id:3,name:"Expense 3",type:Re.INCOMING,value:3.11,date:new Date,comments:"Comments 3",groupId:Ne[0].id,label:Ie[2]},{id:4,name:"Expense 4",type:Re.INCOMING,value:4.11,date:new Date,comments:"Comments 4",groupId:Ne[0].id,label:Ie[3]}],Ue=[2015,2016,2017,2018,2019,2020],Pe=function(e){Object(K.a)(a,e);var t=Object(X.a)(a);function a(e){var n;return Object(b.a)(this,a),(n=t.call(this,e)).config=e,n.baseUrl="/api/expense",n}return Object(p.a)(a,[{key:"getYears",value:function(){var e=Object(I.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config.apiUrl!==E.FIREBASE){e.next=3;break}e.next=8;break;case 3:if(this.config.apiUrl!==E.LOCAL_STORAGE){e.next=6;break}e.next=8;break;case 6:if(this.config.apiUrl!==E.TOTAL_FAKE){e.next=8;break}return e.abrupt("return",this.resolveMockData(Ue));case 8:return e.next=10,this.get(this.baseUrl+"/years",{group:t});case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAllFull",value:function(){var e=Object(I.a)(C.a.mark((function e(t,a,n){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config.apiUrl!==E.FIREBASE){e.next=3;break}e.next=8;break;case 3:if(this.config.apiUrl!==E.LOCAL_STORAGE){e.next=6;break}e.next=8;break;case 6:if(this.config.apiUrl!==E.TOTAL_FAKE){e.next=8;break}return e.abrupt("return",this.resolveMockData(we));case 8:return e.next=10,this.get(this.baseUrl+"/full",{group:t,month:a,year:n});case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"getAll",value:function(){var e=Object(I.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config.apiUrl!==E.FIREBASE){e.next=3;break}e.next=8;break;case 3:if(this.config.apiUrl!==E.LOCAL_STORAGE){e.next=6;break}e.next=8;break;case 6:if(this.config.apiUrl!==E.TOTAL_FAKE){e.next=8;break}return e.abrupt("return",this.resolveMockData(Me));case 8:return e.next=10,this.get(this.baseUrl,{group:t});case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Object(I.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config.apiUrl!==E.FIREBASE){e.next=3;break}e.next=8;break;case 3:if(this.config.apiUrl!==E.LOCAL_STORAGE){e.next=6;break}e.next=8;break;case 6:if(this.config.apiUrl!==E.TOTAL_FAKE){e.next=8;break}return e.abrupt("return",this.resolveMockData(Me[0]));case 8:return e.next=10,this.post(this.baseUrl,{},t);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=Object(I.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config.apiUrl!==E.FIREBASE){e.next=3;break}e.next=8;break;case 3:if(this.config.apiUrl!==E.LOCAL_STORAGE){e.next=6;break}e.next=8;break;case 6:if(this.config.apiUrl!==E.TOTAL_FAKE){e.next=8;break}return e.abrupt("return",this.resolveMockData(void 0));case 8:return e.next=10,this.put(this.baseUrl,{},t);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"remove",value:function(){var e=Object(I.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config.apiUrl!==E.FIREBASE){e.next=3;break}e.next=8;break;case 3:if(this.config.apiUrl!==E.LOCAL_STORAGE){e.next=6;break}e.next=8;break;case 6:if(this.config.apiUrl!==E.TOTAL_FAKE){e.next=8;break}return e.abrupt("return",this.resolveMockData(void 0));case 8:return e.next=10,this.delete(this.baseUrl+"/"+t);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),a}(J),_e=a(348),Ge=a(183),Be=a(31),Fe=Object(r.memo)((function(e){var t=Object(M.a)(),a=Object(j.a)(t,1)[0];return c.a.createElement("div",{className:"item-component"},c.a.createElement(pe.a,{key:"".concat(e.id,"_").concat(e.name),className:"mb-2 mt-2"},c.a.createElement(pe.a.Title,{className:"mt-2 mr-2 ml-2 mb-0"},c.a.createElement("div",{className:"d-flex justify-content-between"},e.name,c.a.createElement(Ge.a,{size:"sm",variant:"secondary",title:"",id:"menu-".concat(e.id)},c.a.createElement(Be.a.Item,{eventKey:"1",onClick:function(){return e.onEdit(e.id)}},a("LABEL.EDIT")),c.a.createElement(Be.a.Divider,null),c.a.createElement(Be.a.Item,{eventKey:"2",onClick:function(){return e.onDelete(e.id)}},a("LABEL.DELETE"))))),c.a.createElement(pe.a.Body,{className:"p-2"},e.children)))})),He=Object(r.memo)((function(e){var t=Object(M.a)(),a=Object(j.a)(t,1)[0];return c.a.createElement(c.a.Fragment,null,e.items.map((function(t){return c.a.createElement(Fe,{key:t.id,id:t.id,name:t.name,onEdit:function(){return e.onEdit(t.id)},onDelete:function(){return e.onDelete(t.id)}},c.a.createElement("div",{className:"d-flex justify-content-between"},c.a.createElement("p",{className:"no-margin"},c.a.createElement("small",null,a("EXPENSE.VALUE")),c.a.createElement("br",null),t.value.toFixed(2)),c.a.createElement("p",{className:"no-margin"},c.a.createElement("small",null,a("EXPENSE.DATE")),c.a.createElement("br",null),Object(_e.a)(new Date(t.date),a("EXPENSE.DATE_FORMAT"))),c.a.createElement("p",{className:"no-margin"},c.a.createElement("small",null,a("EXPENSE.LABEL")),c.a.createElement("br",null),t.label.name)))})))})),Ve=Object(r.memo)((function(e){var t=Object(M.a)(),a=Object(j.a)(t,1)[0],n=e.incoming,u=e.outcoming,o=Object(r.useState)(0),l=Object(j.a)(o,2),i=l[0],s=l[1],m=Object(r.useState)(0),E=Object(j.a)(m,2),b=E[0],p=E[1],O=Object(r.useState)(0),d=Object(j.a)(O,2),f=d[0],h=d[1],v=Object(r.useState)(0),A=Object(j.a)(v,2),g=A[0],T=A[1];return Object(r.useEffect)((function(){var e=n.reduce((function(e,t){return e+t.value}),0),t=u.reduce((function(e,t){return e+t.value}),0);s(e),p(t);var a=e-t;h(a),T(a/e*100)}),[n,u]),c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"mt-2 row"},c.a.createElement("div",{className:"col"},c.a.createElement("p",null,a("EXPENSE.TOTAL_INCOMING"))),c.a.createElement("div",{className:"col"},i.toFixed(2))),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col"},c.a.createElement("p",null,a("EXPENSE.TOTAL_OUTCOMING"))),c.a.createElement("div",{className:"col"},b.toFixed(2))),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col"},c.a.createElement("p",null,a("EXPENSE.TOTAL_LEFT"))),c.a.createElement("div",{className:"col"},"".concat(f.toFixed(2)," - ").concat(g.toFixed(2),"%"))))})),Ke=a(22),Xe=Object(r.memo)((function(e){var t=Object(M.a)(),a=Object(j.a)(t,1)[0],u=Object(r.useContext)(Le),o=u.group,l=u.labels,i=Object(r.useState)(""),s=Object(j.a)(i,2),m=s[0],E=s[1],b=Object(r.useState)(A.get()),p=Object(j.a)(b,1)[0],O=Object(r.useState)(Re.OUTCOMING),d=Object(j.a)(O,2),h=d[0],v=d[1],g=Object(r.useState)(""),T=Object(j.a)(g,2),k=T[0],L=T[1],x=Object(r.useState)(),R=Object(j.a)(x,2),S=R[0],y=R[1],N=Object(r.useState)(new Date),D=Object(j.a)(N,2),w=D[0],U=D[1],P=Object(r.useState)(),_=Object(j.a)(P,2),G=_[0],B=_[1],F=Object(r.useState)([]),H=Object(j.a)(F,2),V=H[0],K=H[1],X=Object(r.useState)(""),Y=Object(j.a)(X,2),z=Y[0],J=Y[1],q=Object(r.useState)(!1),W=Object(j.a)(q,2),Q=W[0],$=W[1],Z=Object(r.useCallback)((function(e){v(+e.target.value)}),[]),ee=Object(r.useCallback)((function(e){L(e.target.value)}),[]),te=Object(r.useCallback)((function(e){y(+e.target.value)}),[]),ae=Object(r.useCallback)((function(e){U(e.target.value)}),[]),ne=Object(r.useCallback)((function(e){B(+e.target.value),localStorage.setItem("label",e.target.value)}),[]),re=Object(r.useCallback)((function(e){J(e.target.value)}),[]),ce=Object(r.useCallback)(Object(I.a)(C.a.mark((function t(){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if($(!0),!f(e.expense)){t.next=16;break}return t.prev=2,t.next=5,new Pe(p).update(Object(n.a)(Object(n.a)({},e.expense),{},{type:h,name:k,value:S,date:w,labelId:G,groupId:o,comments:z}));case 5:e.onAction(),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(2),E(a("EXPENSE.ERROR"));case 11:return t.prev=11,$(!1),t.finish(11);case 14:t.next=29;break;case 16:return $(!0),t.prev=17,t.next=20,new Pe(p).add({type:h,name:k,value:S,date:w,labelId:G,groupId:o,comments:z});case 20:e.onAction(),t.next=26;break;case 23:t.prev=23,t.t1=t.catch(17),E(a("EXPENSE.ERROR"));case 26:return t.prev=26,$(!1),t.finish(26);case 29:case"end":return t.stop()}}),t,null,[[2,8,11,14],[17,23,26,29]])}))),[h,k,S,w,G,z,a,p,e,o]);Object(r.useEffect)((function(){if(e.show)if(K(l),E(""),e.expense){var t,a,n,r,c,u;v(null===(t=e.expense)||void 0===t?void 0:t.type),L(null===(a=e.expense)||void 0===a?void 0:a.name),y(null===(n=e.expense)||void 0===n?void 0:n.value),U(null===(r=e.expense)||void 0===r?void 0:r.date),B(null===(c=e.expense)||void 0===c?void 0:c.label.id),J(null===(u=e.expense)||void 0===u?void 0:u.comments)}else{v(Re.OUTCOMING),L(""),y(void 0),U(new Date);var o=localStorage.getItem("label");f(o)&&l.some((function(e){return e.id===+o}))?B(+o):B(l.length>0?l[0].id:void 0),J("")}}),[e,l]);var ue=Object(r.useMemo)((function(){return!(!Q&&!f(m)&&f(k)&&f(S)&&f(w)&&f(G))}),[m,k,S,w,G,Q]),oe=Object(r.useMemo)((function(){return V.map((function(e){return c.a.createElement("option",{key:e.id,value:e.id},e.name)}))}),[V]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ke.a,{show:e.show,onHide:e.onHide,size:"lg",centered:!0},c.a.createElement(Ke.a.Header,{closeButton:!0},c.a.createElement(Ke.a.Title,null,f(e.expense)?a("EXPENSE.MODAL.EDIT_TITLE"):a("EXPENSE.MODAL.ADD_TITLE"))),c.a.createElement(Ke.a.Body,null,c.a.createElement(Oe,{message:m}),c.a.createElement(be.a,null,c.a.createElement(be.a.Group,{controlId:"formLabel"},c.a.createElement(be.a.Label,null,a("EXPENSE.MODAL.TYPE")),c.a.createElement(be.a.Control,{as:"select",value:null!==h&&void 0!==h?h:"",onChange:Z},c.a.createElement("option",{key:Re.OUTCOMING,value:Re.OUTCOMING},a("EXPENSE.OUTCOMING")),c.a.createElement("option",{key:Re.INCOMING,value:Re.INCOMING},a("EXPENSE.INCOMING")))),c.a.createElement(be.a.Group,{controlId:"formName"},c.a.createElement(be.a.Label,null,a("EXPENSE.MODAL.NAME")),c.a.createElement(be.a.Control,{"data-testid":"expense-name-field",type:"text",value:k,placeholder:a("EXPENSE.MODAL.NAME_PLACEHOLDER"),onChange:ee})),c.a.createElement(be.a.Group,{controlId:"formValue"},c.a.createElement(be.a.Label,null,a("EXPENSE.MODAL.VALUE")),c.a.createElement(be.a.Control,{"data-testid":"expense-value-field",type:"number",value:null!==S&&void 0!==S?S:"",placeholder:a("EXPENSE.MODAL.VALUE_PLACEHOLDER"),onChange:te})),c.a.createElement(be.a.Group,{controlId:"formDate"},c.a.createElement(be.a.Label,null,a("EXPENSE.MODAL.DATE")),c.a.createElement(be.a.Control,{"data-testid":"expense-date-field",type:"date",value:Object(_e.a)(new Date(w),a("EXPENSE.FIELD_DATE_FORMAT")),onChange:ae})),c.a.createElement(be.a.Group,{controlId:"formLabel"},c.a.createElement(be.a.Label,null,a("EXPENSE.MODAL.LABEL")),c.a.createElement(be.a.Control,{as:"select",value:null!==G&&void 0!==G?G:"",onChange:ne},oe)),c.a.createElement(be.a.Group,{controlId:"formComments"},c.a.createElement(be.a.Label,null,a("EXPENSE.MODAL.COMMENTS")),c.a.createElement(be.a.Control,{"data-testid":"expense-comments-field",as:"textarea",rows:2,value:z,placeholder:a("EXPENSE.MODAL.COMMENTS_PLACEHOLDER"),onChange:re})))),c.a.createElement(Ke.a.Footer,null,c.a.createElement(me.a,{variant:"primary",onClick:ce,disabled:ue},f(e.expense)?a("EXPENSE.MODAL.EDIT_ACTION"):a("EXPENSE.MODAL.ADD_ACTION")))))}));function Ye(){var e=Object(D.a)(["\n    .no-margin {\n        margin: 0px;\n    };\n    canvas {\n        max-width: 500px;\n    };\n    .red-text {\n        color: #dc3545;\n    }\n"]);return Ye=function(){return e},e}var ze=Object(T.b)(Ye()),Je=Object(r.memo)((function(e){var t=Object(M.a)(),a=Object(j.a)(t,1)[0],n=Object(r.useContext)(Le),u=Object(r.useState)(A.get()),o=Object(j.a)(u,1)[0],l=Object(r.useState)(""),i=Object(j.a)(l,2),s=i[0],m=i[1],E=Object(r.useState)(!1),b=Object(j.a)(E,2),p=b[0],O=b[1],d=Object(r.useState)([]),f=Object(j.a)(d,2),h=f[0],v=f[1],g=Object(r.useState)(),T=Object(j.a)(g,2),k=T[0],L=T[1],x=Object(r.useState)(!1),R=Object(j.a)(x,2),S=R[0],y=R[1],N=Object(r.useState)(!1),D=Object(j.a)(N,2),w=D[0],U=D[1];Object(r.useEffect)((function(){n.isLoading||function(){var e=Object(I.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),e.prev=1,e.next=4,new Pe(o).getAllFull(n.group,n.month,n.year);case 4:t=e.sent,v(t),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),v([]),m(a("LABEL.ERROR"));case 12:return e.prev=12,O(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,8,12,15]])})));return function(){return e.apply(this,arguments)}}()()}),[n,o,a,w]);var P=Object(r.useCallback)((function(){L(void 0),y(!0)}),[]),_=Object(r.useCallback)((function(e){L(h.find((function(t){return t.id===e}))),y(!0)}),[h]),G=Object(r.useCallback)(function(){var e=Object(I.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new Pe(o).remove(t);case 3:setTimeout((function(){U(!w)}),o.requestDelay),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),m(a("LABEL.ERROR"));case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),[o,a,w]),B=Object(r.useCallback)((function(){y(!1)}),[]),F=Object(r.useCallback)((function(){y(!1),setTimeout((function(){U(!w)}),o.requestDelay)}),[o,w]),H=Object(r.useMemo)((function(){return h.filter((function(e){return e.type===+Re.INCOMING}))}),[h]),V=Object(r.useMemo)((function(){return h.filter((function(e){return e.type===+Re.OUTCOMING}))}),[h]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(ze,null),c.a.createElement(ye,null),c.a.createElement(je,{title:a("EXPENSE.TITLE"),action:a("EXPENSE.ADD"),onAction:P,disableAction:p||n.isLoading}),c.a.createElement(Oe,{message:s}),c.a.createElement(ge,{isLoading:p||n.isLoading},c.a.createElement(Ae.a,{defaultActiveKey:"summary"},c.a.createElement(ve.a,{eventKey:"summary",title:a("EXPENSE.SUMMARY")},c.a.createElement(Ve,{incoming:H,outcoming:V})),c.a.createElement(ve.a,{eventKey:"incoming",title:a("EXPENSE.INCOMING")},c.a.createElement(He,{items:H,onEdit:_,onDelete:G})),c.a.createElement(ve.a,{eventKey:"outcoming",title:a("EXPENSE.OUTCOMING")},c.a.createElement(He,{items:V,onEdit:_,onDelete:G})))),c.a.createElement(Xe,{show:S,expense:k,onHide:B,onAction:F}))})),qe=function(e){Object(K.a)(a,e);var t=Object(X.a)(a);function a(e){var n;return Object(b.a)(this,a),(n=t.call(this,e)).config=e,n.baseUrl="/api/group",n}return Object(p.a)(a,[{key:"getAllFull",value:function(){var e=Object(I.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config.apiUrl!==E.FIREBASE){e.next=3;break}e.next=8;break;case 3:if(this.config.apiUrl!==E.LOCAL_STORAGE){e.next=6;break}e.next=8;break;case 6:if(this.config.apiUrl!==E.TOTAL_FAKE){e.next=8;break}return e.abrupt("return",this.resolveMockData(Ce));case 8:return e.next=10,this.get(this.baseUrl+"/full",{user:t});case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAll",value:function(){var e=Object(I.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config.apiUrl!==E.FIREBASE){e.next=3;break}e.next=8;break;case 3:if(this.config.apiUrl!==E.LOCAL_STORAGE){e.next=6;break}e.next=8;break;case 6:if(this.config.apiUrl!==E.TOTAL_FAKE){e.next=8;break}return e.abrupt("return",this.resolveMockData(Ne));case 8:return e.next=10,this.get(this.baseUrl);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Object(I.a)(C.a.mark((function e(t){var a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config.apiUrl!==E.FIREBASE){e.next=3;break}e.next=8;break;case 3:if(this.config.apiUrl!==E.LOCAL_STORAGE){e.next=6;break}e.next=8;break;case 6:if(this.config.apiUrl!==E.TOTAL_FAKE){e.next=8;break}return e.abrupt("return",this.resolveMockData(Ne[0]));case 8:return e.next=10,this.post(this.baseUrl,{},Object(n.a)(Object(n.a)({},t),{},{users:null===(a=t.users)||void 0===a?void 0:a.map((function(e){return{id:e}}))}));case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=Object(I.a)(C.a.mark((function e(t){var a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config.apiUrl!==E.FIREBASE){e.next=3;break}e.next=8;break;case 3:if(this.config.apiUrl!==E.LOCAL_STORAGE){e.next=6;break}e.next=8;break;case 6:if(this.config.apiUrl!==E.TOTAL_FAKE){e.next=8;break}return e.abrupt("return",this.resolveMockData(void 0));case 8:return e.next=10,this.put(this.baseUrl,{},Object(n.a)(Object(n.a)({},t),{},{users:null===(a=t.users)||void 0===a?void 0:a.map((function(e){return{id:e}}))}));case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"remove",value:function(){var e=Object(I.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config.apiUrl!==E.FIREBASE){e.next=3;break}e.next=8;break;case 3:if(this.config.apiUrl!==E.LOCAL_STORAGE){e.next=6;break}e.next=8;break;case 6:if(this.config.apiUrl!==E.TOTAL_FAKE){e.next=8;break}return e.abrupt("return",this.resolveMockData(void 0));case 8:return e.next=10,this.delete(this.baseUrl+"/"+t);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),a}(J),We=Object(r.memo)((function(e){var t=Object(M.a)(),a=Object(j.a)(t,1)[0],n=Object(r.useContext)(V).user,u=Object(r.useState)(""),o=Object(j.a)(u,2),l=o[0],i=o[1],s=Object(r.useState)(A.get()),m=Object(j.a)(s,1)[0],E=Object(r.useState)(""),b=Object(j.a)(E,2),p=b[0],O=b[1],d=Object(r.useState)([]),h=Object(j.a)(d,2),v=h[0],g=h[1],T=Object(r.useState)([]),k=Object(j.a)(T,2),L=k[0],x=k[1],R=Object(r.useState)(!1),S=Object(j.a)(R,2),y=S[0],N=S[1],D=Object(r.useState)(!1),w=Object(j.a)(D,2),U=w[0],P=w[1],_=Object(r.useCallback)((function(e){O(e.target.value)}),[]),G=Object(r.useCallback)((function(e){g(Array.from(e.target.selectedOptions,(function(e){return e.value})))}),[]),B=Object(r.useCallback)(Object(I.a)(C.a.mark((function t(){var n;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(P(!0),!f(e.group)){t.next=16;break}return t.prev=2,t.next=5,new qe(m).update({id:null===(n=e.group)||void 0===n?void 0:n.id,name:p,users:v});case 5:e.onAction(),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(2),i(a("GROUP.ERROR"));case 11:return t.prev=11,P(!1),t.finish(11);case 14:t.next=29;break;case 16:return P(!0),t.prev=17,t.next=20,new qe(m).add({name:p,users:v});case 20:e.onAction(),t.next=26;break;case 23:t.prev=23,t.t1=t.catch(17),i(a("GROUP.ERROR"));case 26:return t.prev=26,P(!1),t.finish(26);case 29:case"end":return t.stop()}}),t,null,[[2,8,11,14],[17,23,26,29]])}))),[p,v,a,m,e]);Object(r.useEffect)((function(){var t,a;e.show&&(e.group?(O(null===(t=e.group)||void 0===t?void 0:t.name),g(null===(a=e.group)||void 0===a?void 0:a.users.map((function(e){return e.id})))):(O(""),g([])))}),[e]),Object(r.useEffect)((function(){(function(){var e=Object(I.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(!0),i(""),e.prev=2,e.next=5,new q(m).getAll();case 5:t=e.sent,x(t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),i(a("GROUP.ERROR"));case 12:return e.prev=12,N(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[2,9,12,15]])})));return function(){return e.apply(this,arguments)}})()()}),[a,m]);var F=Object(r.useMemo)((function(){return!!U||(!!f(l)||(!f(p)||!f(v)))}),[l,p,v,U]),H=Object(r.useMemo)((function(){return L.map((function(e){return(null===n||void 0===n?void 0:n.uid)===e.id?c.a.createElement("option",{key:e.id,value:e.id},a("GROUP.YOU")):c.a.createElement("option",{key:e.id,value:e.id},"".concat(e.displayName," (").concat(e.email,")"))}))}),[L,n,a]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ke.a,{show:e.show,onHide:e.onHide,size:"lg",centered:!0},c.a.createElement(Ke.a.Header,{closeButton:!0},c.a.createElement(Ke.a.Title,null,f(e.group)?a("GROUP.MODAL.EDIT_TITLE"):a("GROUP.MODAL.ADD_TITLE"))),c.a.createElement(Ke.a.Body,null,c.a.createElement(Oe,{message:l}),c.a.createElement(be.a,null,c.a.createElement(be.a.Group,{controlId:"exampleForm.ControlInput1"},c.a.createElement(be.a.Label,null,a("GROUP.MODAL.NAME")),c.a.createElement(be.a.Control,{"data-testid":"group-name-field",type:"text",value:p,placeholder:a("GROUP.MODAL.NAME_PLACEHOLDER"),onChange:_})),c.a.createElement(be.a.Group,{controlId:"exampleForm.ControlSelect2"},c.a.createElement(be.a.Label,null,a("GROUP.MODAL.USERS")),c.a.createElement(be.a.Control,{"data-testid":"group-users-field",as:"select",multiple:!0,value:v,readOnly:y&&f(l),onChange:G},H)))),c.a.createElement(Ke.a.Footer,null,c.a.createElement(me.a,{variant:"primary",onClick:B,disabled:F},f(e.group)?a("GROUP.MODAL.EDIT_ACTION"):a("GROUP.MODAL.ADD_ACTION")))))}));function Qe(){var e=Object(D.a)([""]);return Qe=function(){return e},e}var $e,Ze=Object(T.b)(Qe()),et=Object(r.memo)((function(e){var t=Object(M.a)(),a=Object(j.a)(t,1)[0],n=Object(r.useContext)(V).user,u=Object(r.useState)(A.get()),o=Object(j.a)(u,1)[0],l=Object(r.useState)(!1),i=Object(j.a)(l,2),s=i[0],m=i[1],E=Object(r.useState)(),b=Object(j.a)(E,2),p=b[0],O=b[1],d=Object(r.useState)([]),f=Object(j.a)(d,2),h=f[0],v=f[1],g=Object(r.useState)(""),T=Object(j.a)(g,2),k=T[0],L=T[1],x=Object(r.useState)(!1),R=Object(j.a)(x,2),S=R[0],y=R[1],N=Object(r.useState)(!1),D=Object(j.a)(N,2),w=D[0],U=D[1],P=Object(r.useCallback)((function(){O(void 0),y(!0)}),[]),_=Object(r.useCallback)((function(e){O(h.find((function(t){return t.id===e}))),y(!0)}),[h]),G=Object(r.useCallback)(function(){var e=Object(I.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new qe(o).remove(t);case 3:setTimeout((function(){U(!w)}),o.requestDelay),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),L(a("GROUP.ERROR"));case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),[o,w,a]),B=Object(r.useCallback)((function(){y(!1)}),[]),F=Object(r.useCallback)((function(){y(!1),setTimeout((function(){U(!w)}),o.requestDelay)}),[o,w]);Object(r.useEffect)((function(){(function(){var e=Object(I.a)(C.a.mark((function e(){var t,r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.prev=1,e.next=4,new qe(o).getAllFull(null!==(t=null===n||void 0===n?void 0:n.uid)&&void 0!==t?t:"");case 4:r=e.sent,v(r),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),v([]),L(a("GROUP.ERROR"));case 12:return e.prev=12,m(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,8,12,15]])})));return function(){return e.apply(this,arguments)}})()()}),[o,n,w,a]);var H=Object(r.useMemo)((function(){return h.map((function(e,t){return c.a.createElement(Fe,{key:e.id,id:e.id,name:e.name,onEdit:_,onDelete:G},c.a.createElement("div",{key:"GROUP_USERS_".concat(t),className:"d-flex flex-wrap justify-content-start"},e.users.map((function(e,a){return c.a.createElement("small",{key:"GROUP_SMALL_".concat(t,"_").concat(a),className:"mr-2"},ee(e))}))))}))}),[h,_,G]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ze,null),c.a.createElement(je,{title:a("GROUP.TITLE"),action:a("GROUP.ADD"),onAction:P,disableAction:s}),c.a.createElement(Oe,{message:k}),c.a.createElement(ge,{isLoading:s},H),c.a.createElement(We,{show:S,group:p,onHide:B,onAction:F}))})),tt=a(185),at=(a(341),a(186)),nt=a(75),rt=function(e){Object(K.a)(a,e);var t=Object(X.a)(a);function a(e){var n;return Object(b.a)(this,a),(n=t.call(this,e)).config=e,n.baseUrl="/api/label",n}return Object(p.a)(a,[{key:"getAllFull",value:function(){var e=Object(I.a)(C.a.mark((function e(t,a,n){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config.apiUrl!==E.FIREBASE){e.next=3;break}e.next=8;break;case 3:if(this.config.apiUrl!==E.LOCAL_STORAGE){e.next=6;break}e.next=8;break;case 6:if(this.config.apiUrl!==E.TOTAL_FAKE){e.next=8;break}return e.abrupt("return",this.resolveMockData(De));case 8:return e.next=10,this.get(this.baseUrl+"/full",{group:t,month:a,year:n});case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"getAll",value:function(){var e=Object(I.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config.apiUrl!==E.FIREBASE){e.next=3;break}e.next=8;break;case 3:if(this.config.apiUrl!==E.LOCAL_STORAGE){e.next=6;break}e.next=8;break;case 6:if(this.config.apiUrl!==E.TOTAL_FAKE){e.next=8;break}return e.abrupt("return",this.resolveMockData(Ie));case 8:return e.next=10,this.get(this.baseUrl,{group:t});case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Object(I.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config.apiUrl!==E.FIREBASE){e.next=3;break}e.next=8;break;case 3:if(this.config.apiUrl!==E.LOCAL_STORAGE){e.next=6;break}e.next=8;break;case 6:if(this.config.apiUrl!==E.TOTAL_FAKE){e.next=8;break}return e.abrupt("return",this.resolveMockData(Ie[0]));case 8:return e.next=10,this.post(this.baseUrl,{group:t.groupId},t);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=Object(I.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config.apiUrl!==E.FIREBASE){e.next=3;break}e.next=8;break;case 3:if(this.config.apiUrl!==E.LOCAL_STORAGE){e.next=6;break}e.next=8;break;case 6:if(this.config.apiUrl!==E.TOTAL_FAKE){e.next=8;break}return e.abrupt("return",this.resolveMockData(void 0));case 8:return e.next=10,this.put(this.baseUrl,{},t);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"remove",value:function(){var e=Object(I.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config.apiUrl!==E.FIREBASE){e.next=3;break}e.next=8;break;case 3:if(this.config.apiUrl!==E.LOCAL_STORAGE){e.next=6;break}e.next=8;break;case 6:if(this.config.apiUrl!==E.TOTAL_FAKE){e.next=8;break}return e.abrupt("return",this.resolveMockData(void 0));case 8:return e.next=10,this.delete(this.baseUrl+"/"+t);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),a}(J),ct=Object(r.memo)((function(e){var t=Object(M.a)(),a=Object(j.a)(t,1)[0],u=e.show,o=e.label,l=Object(r.useContext)(Le).group,i=Object(r.useState)(""),s=Object(j.a)(i,2),m=s[0],E=s[1],b=Object(r.useState)(A.get()),p=Object(j.a)(b,1)[0],O=Object(r.useState)(""),d=Object(j.a)(O,2),h=d[0],v=d[1],g=Object(r.useState)(!1),T=Object(j.a)(g,2),k=T[0],L=T[1],x=Object(r.useCallback)((function(e){v(e.target.value)}),[]),R=Object(r.useCallback)(Object(I.a)(C.a.mark((function t(){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(L(!0),!f(e.label)){t.next=16;break}return t.prev=2,t.next=5,new rt(p).update(Object(n.a)(Object(n.a)({},e.label),{},{name:h}));case 5:e.onAction(),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(2),E(a("LABEL.ERROR"));case 11:return t.prev=11,L(!1),t.finish(11);case 14:t.next=29;break;case 16:return L(!0),t.prev=17,t.next=20,new rt(p).add({name:h,groupId:l});case 20:e.onAction(),t.next=26;break;case 23:t.prev=23,t.t1=t.catch(17),E(a("LABEL.ERROR"));case 26:return t.prev=26,L(!1),t.finish(26);case 29:case"end":return t.stop()}}),t,null,[[2,8,11,14],[17,23,26,29]])}))),[h,a,p,e,l]);Object(r.useEffect)((function(){var e;u&&v(o&&null!==(e=null===o||void 0===o?void 0:o.name)&&void 0!==e?e:"")}),[u,o]);var S=Object(r.useMemo)((function(){return!(!k&&!f(m)&&f(h))}),[m,h,k]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ke.a,{show:e.show,onHide:e.onHide,size:"lg",centered:!0},c.a.createElement(Ke.a.Header,{closeButton:!0},c.a.createElement(Ke.a.Title,null,f(e.label)?a("LABEL.MODAL.EDIT_TITLE"):a("LABEL.MODAL.ADD_TITLE"))),c.a.createElement(Ke.a.Body,null,c.a.createElement(Oe,{message:m}),c.a.createElement(be.a,null,c.a.createElement(be.a.Group,{controlId:"exampleForm.ControlInput1"},c.a.createElement(be.a.Label,null,a("LABEL.MODAL.NAME")),c.a.createElement(be.a.Control,{"data-testid":"label-name-field",type:"text",value:h,placeholder:a("LABEL.MODAL.NAME_PLACEHOLDER"),onChange:x})))),c.a.createElement(Ke.a.Footer,null,c.a.createElement(me.a,{variant:"primary",onClick:R,disabled:S},f(e.label)?a("LABEL.MODAL.EDIT_ACTION"):a("LABEL.MODAL.ADD_ACTION")))))}));function ut(){var e=Object(D.a)(["\n    .no-margin {\n        margin: 0px;\n    };\n    canvas {\n        max-width: 500px;\n    };\n"]);return ut=function(){return e},e}!function(e){e[e.CURRENT_MONTH=1]="CURRENT_MONTH",e[e.LAST_MONTH=2]="LAST_MONTH",e[e.AVERAGE=3]="AVERAGE"}($e||($e={}));var ot,lt=Object(T.b)(ut()),it=Object(r.memo)((function(e){var t=Object(M.a)(),a=Object(j.a)(t,1)[0],n=Object(r.useContext)(Le),u=Object(r.useState)(A.get()),o=Object(j.a)(u,1)[0],l=Object(r.useState)(""),i=Object(j.a)(l,2),s=i[0],m=i[1],E=Object(r.useState)(!1),b=Object(j.a)(E,2),p=b[0],O=b[1],d=Object(r.useState)([]),f=Object(j.a)(d,2),h=f[0],v=f[1],g=Object(r.useState)(),T=Object(j.a)(g,2),k=T[0],L=T[1],x=Object(r.useState)(!1),R=Object(j.a)(x,2),S=R[0],y=R[1],N=Object(r.useState)(!1),D=Object(j.a)(N,2),w=D[0],U=D[1],P=Object(r.useState)($e.CURRENT_MONTH),_=Object(j.a)(P,2),G=_[0],B=_[1];Object(r.useEffect)((function(){n.isLoading||function(){var e=Object(I.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(!0),e.prev=1,e.next=4,new rt(o).getAllFull(n.group,n.month,n.year);case 4:t=e.sent,v(t),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),v([]),m(a("LABEL.ERROR"));case 12:return e.prev=12,O(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,8,12,15]])})));return function(){return e.apply(this,arguments)}}()()}),[n,o,a,w]);var F=Object(r.useCallback)((function(){L(void 0),y(!0)}),[]),H=Object(r.useCallback)((function(e){L(h.find((function(t){return t.id===e}))),y(!0)}),[h]),V=Object(r.useCallback)(function(){var e=Object(I.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new rt(o).remove(t);case 3:setTimeout((function(){U(!w)}),o.requestDelay),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),m(a("LABEL.ERROR"));case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),[o,a,w]),K=Object(r.useCallback)((function(){y(!1)}),[]),X=Object(r.useCallback)((function(){y(!1),setTimeout((function(){U(!w)}),o.requestDelay)}),[o,w]),Y=Object(r.useCallback)((function(e){B(e)}),[]),z=Object(r.useMemo)((function(){return h.map((function(e){var t=e.currValue>e.lastValue||e.currValue>e.avgValue?"text-danger":"",n=e.lastValue>e.avgValue?"text-danger":"";return c.a.createElement(Fe,{key:e.id,id:e.id,name:e.name,onEdit:H,onDelete:V},c.a.createElement("div",{className:"d-flex justify-content-between"},c.a.createElement("p",{className:"no-margin ".concat(t)},c.a.createElement("small",null,a("LABEL.CURRENT_MONTH")),c.a.createElement("br",null),e.currValue.toFixed(2)),c.a.createElement("p",{className:"no-margin ".concat(n)},c.a.createElement("small",null,a("LABEL.LAST_MONTH")),c.a.createElement("br",null),e.lastValue.toFixed(2)),c.a.createElement("p",{className:"no-margin"},c.a.createElement("small",null,a("LABEL.AVERAGE")),c.a.createElement("br",null),e.avgValue.toFixed(2))))}))}),[h,H,V,a]),J=Object(r.useMemo)((function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(tt.Pie,{key:G,data:h.length>0?{labels:h.map((function(e){return e.name})),datasets:[{data:h.map((function(e){return G===$e.CURRENT_MONTH?e.currValue:G===$e.LAST_MONTH?e.lastValue:e.avgValue})),borderWidth:0}]}:{labels:["Empty"],datasets:[{data:[1],borderWidth:0}]},options:{plugins:{colorschemes:{scheme:"office.Excel16"}}},width:100,height:100}))}),[h,G]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(lt,null),c.a.createElement(ye,null),c.a.createElement(je,{title:a("LABEL.TITLE"),action:a("LABEL.ADD"),onAction:F,disableAction:p||n.isLoading}),c.a.createElement(Oe,{message:s}),c.a.createElement(ge,{isLoading:p||n.isLoading},c.a.createElement(Ae.a,{defaultActiveKey:"items"},c.a.createElement(ve.a,{eventKey:"items",title:a("LABEL.TAB_ITEMS")},z),c.a.createElement(ve.a,{eventKey:"graph",title:a("LABEL.TAB_GRAPH")},c.a.createElement("div",{className:"m-2 d-flex justify-content-center"},c.a.createElement(at.a,{type:"radio",name:"options",value:G,onChange:Y},c.a.createElement(nt.a,{value:$e.CURRENT_MONTH},a("LABEL.CURRENT_MONTH")),c.a.createElement(nt.a,{value:$e.LAST_MONTH},a("LABEL.LAST_MONTH")),c.a.createElement(nt.a,{value:$e.AVERAGE},a("LABEL.AVERAGE")))),c.a.createElement("div",{className:"d-flex justify-content-center"},J)))),c.a.createElement(ct,{show:S,label:k,onHide:K,onAction:X}))})),st=Object(r.memo)((function(e){var t=Object(r.useContext)(V),a=Object(M.a)(),n=Object(j.a)(a,1)[0],u=Object(r.useState)(""),o=Object(j.a)(u,2),l=o[0],i=o[1],s=Object(r.useState)(!1),m=Object(j.a)(s,2),E=m[0],b=m[1],p=Object(r.useState)(A.get()),O=Object(j.a)(p,1)[0],d=Object(r.useState)(""),f=Object(j.a)(d,2),h=f[0],v=f[1],g=Object(r.useCallback)((function(e){t.setDarkTheme(e.target.checked)}),[t]),T=Object(r.useCallback)((function(e){i(e.target.value)}),[]),k=Object(r.useCallback)(Object(I.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(!0),e.prev=1,e.next=4,Z(O,t.user,l);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),v(n("SETTINGS.ERROR"));case 9:return e.prev=9,b(!1),e.finish(9);case 12:case"end":return e.stop()}}),e,null,[[1,6,9,12]])}))),[l,O,t.user,n]);return Object(r.useEffect)((function(){var e,a;i(null!==(e=null===(a=t.user)||void 0===a?void 0:a.displayName)&&void 0!==e?e:"")}),[t.user]),c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"m-2 d-flex justify-content-center"},c.a.createElement("div",{className:"col-xs-12 col-sm-8 col-md-6"},c.a.createElement(je,{title:n("SETTINGS.TITLE"),action:n("SETTINGS.UPDATE"),onAction:k,disableAction:E}),c.a.createElement(Oe,{message:h}),c.a.createElement(be.a,null,c.a.createElement(be.a.Check,{className:"mb-2",type:"switch",id:"custom-switch",label:n("SETTINGS.DARK_THEME"),checked:t.isDarkTheme,onChange:g}),c.a.createElement(be.a.Group,{controlId:"formBasicEmail"},c.a.createElement(be.a.Label,null,n("SETTINGS.DISPLAY_NAME")),c.a.createElement(be.a.Control,{type:"text",placeholder:n("SETTINGS.DISPLAY_NAME_PLACEHOLDER"),value:l,onChange:T}))))))})),mt=a(187),Et=function(e){var t=e.component;e.path,Object(mt.a)(e,["component","path"]);return Object(r.useContext)(V).user?c.a.createElement(t,null):c.a.createElement(w.a,{to:"/auth"})},bt=a(184),pt=a(347),Ot=Object(r.memo)((function(e){var t,a=Object(M.a)(),u=Object(j.a)(a,1)[0],o=Object(r.useContext)(Le),l=o.groups,i=o.group,s=o.labels,m=Object(r.useState)(A.get()),E=Object(j.a)(m,1)[0];!function(e){e.NOT_PROCESSED="to do",e.PROCESSING="doing",e.PROCESSED="done",e.ERROR="error"}(t||(t={}));var b=Object(r.useState)(!1),p=Object(j.a)(b,2),O=p[0],d=p[1],h=Object(r.useState)(i),v=Object(j.a)(h,2),g=v[0],T=v[1],k=Object(r.useState)(""),L=Object(j.a)(k,2),x=L[0],R=L[1],S=Object(r.useState)([]),y=Object(j.a)(S,2),N=y[0],D=y[1],w=Object(r.useState)([]),U=Object(j.a)(w,2),P=U[0],_=U[1],G=Object(r.useState)(";"),B=Object(j.a)(G,2),F=B[0],H=B[1],V=Object(r.useState)(""),K=Object(j.a)(V,2),X=K[0],Y=K[1],z=Object(r.useMemo)((function(){return l.map((function(e){return c.a.createElement("option",{key:"GROUP_"+e.id,value:e.id},e.name)}))}),[l]),J=Object(r.useMemo)((function(){return!(f(F)&&!O)}),[F,O]),q=Object(r.useCallback)(Object(I.a)(C.a.mark((function e(){var a,r,c;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d(!0),a=C.a.mark((function e(a){var r,c,u;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=N[a],P[a]=t.PROCESSING,_(Object(n.a)({},P)),c=s.find((function(e){return e.name.trim().toLowerCase()===r.label.name.trim().toLowerCase()})),f(c)){e.next=17;break}return e.prev=5,e.next=8,new rt(E).add({name:r.label.name.trim(),groupId:g});case 8:c=e.sent,s.push(c),e.next=17;break;case 12:return e.prev=12,e.t0=e.catch(5),P[a]=t.ERROR,_(Object(n.a)({},P)),e.abrupt("return",{v:void 0});case 17:return e.prev=17,e.next=20,new Pe(E).add(Object(n.a)(Object(n.a)({},r),{},{labelId:null===(u=c)||void 0===u?void 0:u.id}));case 20:e.next=27;break;case 22:return e.prev=22,e.t1=e.catch(17),P[a]=t.ERROR,_(Object(n.a)({},P)),e.abrupt("return",{v:void 0});case 27:P[a]=t.PROCESSED,_(Object(n.a)({},P));case 29:case"end":return e.stop()}}),e,null,[[5,12],[17,22]])})),r=0;case 3:if(!(r<N.length)){e.next=11;break}return e.delegateYield(a(r),"t0",5);case 5:if("object"!==typeof(c=e.t0)){e.next=8;break}return e.abrupt("return",c.v);case 8:r++,e.next=3;break;case 11:d(!1);case 12:case"end":return e.stop()}}),e)}))),[g,s,N,E,P,t.ERROR,t.PROCESSING,t.PROCESSED]),W=Object(r.useCallback)((function(e){T(+e.target.value)}),[]),Q=Object(r.useCallback)((function(e){H(e.target.value)}),[]),$=Object(r.useCallback)((function(e){R(e.target.value)}),[]);Object(r.useEffect)((function(){if(f(F))try{var e=function(e,t,a,n,r){var c=[];try{t.split(a).forEach((function(t){var a=t.split(n);a.length<5||c.push({id:0,type:+a[0],name:a[1],value:+a[2],date:Object(pt.a)(a[3],r,new Date),label:{id:0,name:a[4],groupId:e},groupId:e,comments:a[5]})}))}catch(u){return[]}return c}(g,x,"\n",F,u("EXPENSE.DATE_FORMAT"));_(e.map((function(e){return t.NOT_PROCESSED}))),D(e)}catch(a){Y("IMPORT.ERROR"),D([])}else D([])}),[F,x,g,u,t.NOT_PROCESSED]);var Z=Object(r.useMemo)((function(){return N.map((function(e,a){return c.a.createElement("tr",{key:a},c.a.createElement("th",{scope:"row"},a),c.a.createElement("td",{className:P[a]===t.ERROR?"text-danger":P[a]===t.PROCESSED?"text-success":""},P[a].toString()),c.a.createElement("td",null,e.type===Re.INCOMING?u("EXPENSE.INCOMING"):u("EXPENSE.OUTCOMING")),c.a.createElement("td",null,e.name),c.a.createElement("td",null,e.value.toFixed(2)),c.a.createElement("td",null,Object(bt.a)(e.date)?Object(_e.a)(new Date(e.date),u("IMPORT.TABLE.DATE_FORMAT")):u("IMPORT.TABLE.INVALID_DATE")),c.a.createElement("td",null,e.label.name),c.a.createElement("td",null,e.comments))}))}),[N,P,u,t.ERROR,t.PROCESSED]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(je,{title:u("IMPORT.TITLE"),action:u("IMPORT.ACTION"),onAction:q,disableAction:J}),c.a.createElement(Oe,{message:X}),c.a.createElement(be.a,null,c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-sm-12 col-md-6 col-lg-4"},c.a.createElement(be.a.Group,null,c.a.createElement(be.a.Label,null,u("IMPORT.GROUP")),c.a.createElement(be.a.Control,{as:"select",value:g,onChange:W,"data-testid":"import-group-field"},z))),c.a.createElement("div",{className:"col-sm-12 col-md-6 col-lg-4"},c.a.createElement(be.a.Group,null,c.a.createElement(be.a.Label,null,u("IMPORT.SEPARATOR")),c.a.createElement(be.a.Control,{type:"text",value:F,onChange:Q,"data-testid":"import-separator-field"}))),c.a.createElement("div",{className:"col-sm-12"},c.a.createElement(be.a.Group,{controlId:"formImportData"},c.a.createElement(be.a.Label,null,u("IMPORT.DATA")),c.a.createElement(be.a.Text,{className:"text-muted"},u("IMPORT.DATA_TEXT")),c.a.createElement(be.a.Control,{as:"textarea",rows:10,placeholder:u("IMPORT.DATA_PLACEHOLDER"),value:x,onChange:$,"data-testid":"import-data-field"}))))),c.a.createElement("div",{className:"table-responsive"},c.a.createElement("table",{className:"table table-striped"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{scope:"col"},u("IMPORT.TABLE.NUMBER")),c.a.createElement("th",{scope:"col"},u("IMPORT.TABLE.STATUS")),c.a.createElement("th",{scope:"col"},u("IMPORT.TABLE.TYPE")),c.a.createElement("th",{scope:"col"},u("IMPORT.TABLE.NAME")),c.a.createElement("th",{scope:"col"},u("IMPORT.TABLE.VALUE")),c.a.createElement("th",{scope:"col"},u("IMPORT.TABLE.DATE")),c.a.createElement("th",{scope:"col"},u("IMPORT.TABLE.LABEL")),c.a.createElement("th",{scope:"col"},u("IMPORT.TABLE.COMMENTS")))),c.a.createElement("tbody",null,Z))))})),dt=Object(r.memo)((function(e){var t,a=Object(r.useContext)(V).isReady,n=Object(w.g)(),u=Object(w.h)(),o=Object(r.useState)(A.get()),l=Object(j.a)(o,1)[0],i=Object(r.useState)(!1),s=Object(j.a)(i,2),m=s[0],E=s[1],b=Object(r.useState)(!1),p=Object(j.a)(b,2),O=p[0],d=p[1],h=Object(r.useState)(!1),v=Object(j.a)(h,2),g=v[0],T=v[1],k=Object(r.useState)(!1),L=Object(j.a)(k,2),x=L[0],R=L[1],S=Object(r.useState)(!1),y=Object(j.a)(S,2),N=y[0],D=y[1],M=Object(r.useState)(!1),U=Object(j.a)(M,2),P=U[0],G=U[1],F=Object(r.useState)(!1),H=Object(j.a)(F,2),K=H[0],X=H[1],Y=Object(r.useMemo)((function(){return m&&O&&g&&x&&N&&P&&K}),[m,O,g,x,N,P,K]),z=Object(r.useState)([]),J=Object(j.a)(z,2),q=J[0],W=J[1],Q=Object(r.useState)([]),$=Object(j.a)(Q,2),Z=$[0],ee=$[1],te=Object(r.useState)([]),ae=Object(j.a)(te,2),ne=ae[0],re=ae[1],ce=Object(r.useState)(),ue=Object(j.a)(ce,2),oe=ue[0],le=ue[1],se=Object(r.useState)(),me=Object(j.a)(se,2),Ee=me[0],be=me[1],pe=Object(r.useState)(),Oe=Object(j.a)(pe,2),de=Oe[0],fe=Oe[1],ve=Object(r.useMemo)((function(){var e=JSON.stringify(ie.a.parse(u.search));return JSON.parse(e)}),[u]);Object(r.useEffect)((function(){(function(){var e=Object(I.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],a){e.next=4;break}return ee(t),e.abrupt("return");case 4:return E(!0),e.prev=5,e.next=8,new qe(l).getAll();case 8:t=e.sent,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(5),t=[];case 14:console.log("load Groups",t),ee(t),E(!1);case 17:case"end":return e.stop()}}),e,null,[[5,11]])})));return function(){return e.apply(this,arguments)}})()()}),[a,l]),Object(r.useEffect)((function(){if(a&&f(Z)){var e;R(!0);var t=localStorage.getItem("group");f(ve.group)&&Z.some((function(e){return e.id===+ve.group}))?e=Z.find((function(e){return e.id===+ve.group})):f(t)&&Z.some((function(e){return e.id===+t}))?e=Z.find((function(e){return e.id===+t})):f(Z)&&(e=Z[0]),console.log("setGroup",e,ve.group),le(e),e&&localStorage.setItem("group",e.id.toString()),R(!1)}else le(void 0)}),[Z,a,ve.group]),Object(r.useEffect)((function(){(function(){var e=Object(I.a)(C.a.mark((function e(){var t,n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],a&&f(oe)){e.next=4;break}return W(t),e.abrupt("return");case 4:return d(!0),e.prev=5,e.next=8,new rt(l).getAll(null!==(n=null===oe||void 0===oe?void 0:oe.id)&&void 0!==n?n:0);case 8:t=e.sent,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(5),t=[];case 14:console.log("load Labels",t),W(t),d(!1);case 17:case"end":return e.stop()}}),e,null,[[5,11]])})));return function(){return e.apply(this,arguments)}})()()}),[a,l,oe]),Object(r.useEffect)((function(){(function(){var e=Object(I.a)(C.a.mark((function e(){var t,n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],a&&f(oe)){e.next=4;break}return re(t),e.abrupt("return");case 4:return T(!0),e.prev=5,e.next=8,new Pe(l).getYears(null!==(n=null===oe||void 0===oe?void 0:oe.id)&&void 0!==n?n:0);case 8:t=e.sent,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(5),t=[];case 14:f(t)||(t=[(new Date).getFullYear()]),console.log("load Years",t,oe),re(t),T(!1);case 18:case"end":return e.stop()}}),e,null,[[5,11]])})));return function(){return e.apply(this,arguments)}})()()}),[a,l,oe]),Object(r.useEffect)((function(){if(a&&f(ne)){G(!0);var e=(new Date).getFullYear(),t=localStorage.getItem("year");f(ve.year)&&ne.some((function(e){return e===+ve.year}))?e=+ve.year:f(t)&&ne.some((function(e){return e===+t}))&&(e=+t),console.log("setYear",e,+ve.year),fe(e),localStorage.setItem("year",e.toString()),G(!1)}}),[ne,a,ve.year]),Object(r.useEffect)((function(){if(a){D(!0);var e=(new Date).getMonth(),t=localStorage.getItem("month");f(ve.month)&&ve.month>=1&&ve.month<=12?e=ve.month:f(t)&&+t>=1&&+t<=12&&(e=+t),console.log("setMonth",e,ve.month),be(e),localStorage.setItem("month",e.toString()),D(!1)}}),[a,ve.month]),Object(r.useEffect)((function(){a&&f(oe)&&f(de)&&f(Ee)&&!x&&!N&&!P&&(X(!1),console.log("history.push",oe,Ee,de),n.push({pathname:u.pathname,search:ie.a.stringify({group:null===oe||void 0===oe?void 0:oe.id,month:Ee,year:de})}),X(!0))}),[a,oe,Ee,de,n,u.pathname,x,N,P]);var Ae=Object(r.useMemo)((function(){return a}),[a]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(Le.Provider,{value:{isLoading:Y,labels:q,groups:Z,years:ne,group:null!==(t=null===oe||void 0===oe?void 0:oe.id)&&void 0!==t?t:0,month:null!==Ee&&void 0!==Ee?Ee:0,year:null!==de&&void 0!==de?de:0}},c.a.createElement(_.a,{className:"mt-2"},c.a.createElement(w.d,null,Ae&&c.a.createElement(Et,{key:B.group,path:B.group,component:et}),Ae&&c.a.createElement(Et,{key:B.label,path:B.label,component:it}),Ae&&c.a.createElement(Et,{key:B.expense,path:B.expense,component:Je}),Ae&&c.a.createElement(Et,{key:B.settings,path:B.settings,component:st}),Ae&&c.a.createElement(Et,{key:B.import,path:B.import,component:Ot}),c.a.createElement(w.b,{key:B.auth,path:B.auth,component:he}),c.a.createElement(w.b,{key:B.home,exact:!0,path:B.home},c.a.createElement(c.a.Fragment,null,c.a.createElement("h3",null,"HOME"),c.a.createElement("h6",null,"Build Version: ",l.buildVersion))),a&&c.a.createElement(w.b,{key:"*",path:"*"},c.a.createElement("h1",null," 404 "))))))})),ft=Object(r.memo)((function(e){var t=Object(r.useState)(A.get()),a=Object(j.a)(t,1)[0],n=Object(x.a)(Object(R.auth)()),u=Object(j.a)(n,2),o=u[0],l=u[1],i=Object(r.useState)(),s=Object(j.a)(i,2),m=s[0],E=s[1],b=Object(r.useState)(!1),p=Object(j.a)(b,2),O=p[0],d=p[1],h=y()("(prefers-color-scheme: dark)"),v=Object(r.useCallback)((function(e){E(e)}),[]),k=Object(r.useMemo)((function(){var e=h;return f(localStorage.getItem("darkTheme"))&&(e=JSON.parse(localStorage.getItem("darkTheme")),E(e)),f(m)&&e!==m&&(E(e=m),localStorage.setItem("darkTheme",e.toString())),e?oe:ue}),[m,h]);return Object(r.useEffect)((function(){!l&&o&&f(o)&&o.getIdTokenResult().then((function(e){L.a.defaults.headers.common.Authorization=e.token,new q(a).addOrUpdate({id:o.uid,email:o.email,displayName:o.displayName,photoUrl:o.photoURL}),d(!0)}))}),[o,l,a]),c.a.createElement(c.a.Fragment,null,c.a.createElement(T.a,{theme:k},c.a.createElement(c.a.Fragment,null,c.a.createElement(ce,null),c.a.createElement(V.Provider,{value:{user:o,initialising:l,isReady:O,isDarkTheme:null===m||void 0===m||m,setDarkTheme:v}},a.useHashRouter&&c.a.createElement(g.b,{basename:"/"},c.a.createElement(ne,null),c.a.createElement(dt,null)),!a.useHashRouter&&c.a.createElement(g.a,{basename:"/"},c.a.createElement(ne,null),c.a.createElement(dt,null))))))})),ht=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=new v;return a=Object(n.a)(Object(n.a)({},a),{},{buildVersion:h("100",t.buildVersion,a.buildVersion),apiUrl:h("TOTAL_FAKE",t.apiUrl,a.apiUrl),useHashRouter:"true"===h("true",null===t||void 0===t||null===(e=t.useHashRouter)||void 0===e?void 0:e.toString(),a.useHashRouter.toString())}),A.set(Object(n.a)(Object(n.a)({},a),t)),A.get()}();Object(l.initializeApp)(Object(n.a)({},(ot=h("lfmachadodasilva-dev",ht.firebaseProject),{apiKey:h("AIzaSyDMDE7eTQbjwkQglMJf5KnFtMr48-pAoVM",ht.firebaseApiKey),authDomain:"".concat(ot,".firebaseapp.com"),databaseURL:"https://".concat(ot,".firebaseio.com"),projectId:ot,storageBucket:ot,messagingSenderId:"my-sender-id"}))),o.a.render(c.a.createElement(r.StrictMode,null,c.a.createElement(ft,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[188,1,2]]]);
//# sourceMappingURL=main.3c48f6d7.chunk.js.map