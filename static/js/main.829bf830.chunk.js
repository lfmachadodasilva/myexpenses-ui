(this.webpackJsonpmyexpenses=this.webpackJsonpmyexpenses||[]).push([[0],{242:function(e){e.exports=JSON.parse('{"HEADER":{"TITLE":"MyExpenses","GROUPS":"Groups","LABELS":"Labels","EXPENSES":"Expenses","SETTINGS":"Settings","LOGOUT":"Logout","LOGIN_REGISTER":"Login/Register"},"AUTH":{"EMAIL":"Email","PASSWORD":"Password","FACEBOOK":{"BUTTON":"Facebook"},"LOGIN":{"TITLE":"Login by email","BUTTON":"Login"},"REGISTER":{"TITLE":"Register by email","BUTTON":"Register"},"RESET":{"TITLE":"Reset password","BUTTON":"Reset"}},"GROUPS":{"LIST":{"TITLE":"Show all groups"},"MANAGE":{"ADD":{"TITLE":"Add new group"},"EDIT":{"TITLE":"Edit group"},"USERS":"Users"}},"LABELS":{"LIST":{"TITLE":"Show all labels","CURRENT_VALUE":"Value","LAST_VALUE":"Last Month","AVERAGE_VALUE":"Average","ITEMS_TAB":"Items","GRAPH_TAB":"Graph"},"MANAGE":{"ADD":{"TITLE":"Add new label"},"EDIT":{"TITLE":"Edit label"}}},"EXPENSES":{"LIST":{"TITLE":"Show all expenses","TOTAL":"Total","TOTAL_INCOMING":"Total incoming","TOTAL_OUTCOMING":"Total outcoming","TOTAL_LEFT":"Total left"},"MANAGE":{"ADD":{"TITLE":"Add new expense"},"EDIT":{"TITLE":"Edit expense"},"TYPE":"Type","LABEL":"Label","VALUE":"Value","DATE":"Date","COMMENTS":"Comments"},"INCOMING":"Incoming","OUTCOMING":"Outcoming"},"SETTINGS":{"DISPLAY_NAME":"Display name","EMAIL":"Email","DARK_THEME":"Dark theme","BUTTON":"Update"},"IMPORT_EXPORT":{"IMPORT":"Import","EXPORT":"Export","LABEL":"Label","EXPENSE":"Expense","GROUP":"Group"},"SEARCH":{"TITLE":"Search","BUTTON":"Search","MONTHS":{"1":"January","2":"February","3":"March","4":"April","5":"May","6":"June","7":"July","8":"August","9":"September","10":"October","11":"November","12":"December"},"GROUP":"Group","YEAR":"Year","MONTH":"Month"},"COMMON":{"DATE_FORMAT":"dd/MM/yy","YOU":"You","SUMMARY":"Summary","NAME":"Name","ADD":"Add","EDIT":"Edit","ERROR_TITLE":"Error","ERROR":"An error occurred. Please try again later.","INFO_TITLE":"Info","EMPTY":"Empty list. Please create new item."}}')},288:function(e,a,t){e.exports=t(464)},295:function(e,a,t){},339:function(e,a,t){},464:function(e,a,t){"use strict";t.r(a);var n=t(86),r=t(0),c=t.n(r),l=t(19),i=t.n(l),o=t(59),u=t.n(o),s=(t(295),t(191)),m=t(114),p={en:{translation:t(242)}};s.a.use(m.e).init({resources:p,lng:"en",fallbackLng:"en",interpolation:{escapeValue:!1}});s.a;var E,d=t(6),f=t(177),b=t(60),h=t.n(b),O=t(509),g=t(522),v=t(259),j=t(548),y=t(549),S=t(531),T=t(512),k=t(8),C=t.n(k),A=t(12),x=t(39),w=t(18),N=t(556),I=t(557),L=t(261),M=t(518),R=t(519),U=t(520),D=t(521),G=t(511),P=t(513),F=t(62),V=t(514),B=t(137),_=t(517),z=t(468),H=t(553),X=t(182),W=t.n(X),Y=t(246),q=t.n(Y),J=t(245),K=t.n(J),Q=t(181),Z=t.n(Q),$=t(110),ee=t.n($),ae=t(111),te=t.n(ae),ne=t(184),re=t.n(ne),ce=t(183),le=t.n(ce),ie=c.a.createContext({user:null,initialising:!1,isReady:!1,isDarkTheme:!0,setDarkTheme:function(e){}}),oe=function(e){return null!==e&&void 0!==e&&("string"!==typeof e&&!Array.isArray(e)||e.length>0)},ue=function(){for(var e=arguments.length,a=new Array(e),t=0;t<e;t++)a[t]=arguments[t];return a.find((function(e){return oe(e)}))},se=(t(313),t(35)),me=t(46),pe=t(79),Ee=t(78);!function(e){e[e.OK=200]="OK"}(E||(E={}));var de=function(){var e=Object(A.a)(C.a.mark((function e(a){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.response&&a.response.status>=E.OK&&(console.error("Request Failed:",a.config),console.error("Status:",a.response.status),console.error("Data:",a.response.data),console.error("Headers:",a.response.headers)),e.abrupt("return",Promise.reject(a));case 2:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),fe=function(){function e(a){Object(se.a)(this,e),this.config=a}return Object(me.a)(e,[{key:"get",value:function(){var e=Object(A.a)(C.a.mark((function e(a,t){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.get(a,{baseURL:this.config.apiUrl,withCredentials:!0,headers:{Accept:"application/json; charset=utf=8",Authorization:"Bearer "+h.a.defaults.headers.common.Authorization},params:t});case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",de(e.t0));case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(a,t){return e.apply(this,arguments)}}()},{key:"post",value:function(){var e=Object(A.a)(C.a.mark((function e(a,t,n){var r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.post(a,n,{baseURL:this.config.apiUrl,withCredentials:!0,headers:{Accept:"application/json; charset=utf=8",Authorization:"Bearer "+h.a.defaults.headers.common.Authorization},params:t});case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",de(e.t0));case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(a,t,n){return e.apply(this,arguments)}}()},{key:"put",value:function(){var e=Object(A.a)(C.a.mark((function e(a,t,n){var r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.put(a,n,{baseURL:this.config.apiUrl,withCredentials:!0,headers:{Accept:"application/json; charset=utf=8",Authorization:"Bearer "+h.a.defaults.headers.common.Authorization},params:t});case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",de(e.t0));case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(a,t,n){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(A.a)(C.a.mark((function e(a){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,h.a.delete(a,{baseURL:this.config.apiUrl,withCredentials:!0,headers:{Accept:"application/json; charset=utf=8",Authorization:"Bearer "+h.a.defaults.headers.common.Authorization}});case 3:return t=e.sent,e.abrupt("return",t.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",de(e.t0));case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(a){return e.apply(this,arguments)}}()}]),e}(),be=function(e){Object(pe.a)(t,e);var a=Object(Ee.a)(t);function t(e){var n;return Object(se.a)(this,t),(n=a.call(this,e)).config=e,n}return Object(me.a)(t,[{key:"getAll",value:function(){var e=Object(A.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get("/api/user");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addOrUpdate",value:function(){var e=Object(A.a)(C.a.mark((function e(a){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.post("/api/user",{},a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(a){return e.apply(this,arguments)}}()}]),t}(fe),he=function e(){Object(se.a)(this,e),this.apiUrl="https://myexpenses-backend-dev.herokuapp.com",this.buildVersion="local"},Oe=t(178),ge=t.n(Oe),ve=function(){function e(){Object(se.a)(this,e)}return Object(me.a)(e,null,[{key:"get",value:function(){var e=ge.a.get("ApplicationConfiguration"),a=new he;return Object.assign(a,e),a}}]),e}();ve.set=function(e){ge.a.set({ApplicationConfiguration:e},{freeze:!1})};var je=new o.auth.FacebookAuthProvider,ye=function(){var e=Object(A.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.auth().signInWithPopup(je);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),console.error(e.t0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),Se=function(){var e=Object(A.a)(C.a.mark((function e(a,t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.auth().signInWithEmailAndPassword(a,t);case 3:e.next=9;break;case 5:throw e.prev=5,e.t0=e.catch(0),console.error(e.t0),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(a,t){return e.apply(this,arguments)}}(),Te=function(){var e=Object(A.a)(C.a.mark((function e(a,t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.auth().createUserWithEmailAndPassword(a,t);case 3:e.next=9;break;case 5:throw e.prev=5,e.t0=e.catch(0),console.error(e.t0),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(a,t){return e.apply(this,arguments)}}(),ke=function(){var e=Object(A.a)(C.a.mark((function e(a){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.auth().sendPasswordResetEmail(a);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),console.error(e.t0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(a){return e.apply(this,arguments)}}(),Ce=function(){var e=Object(A.a)(C.a.mark((function e(a,t){var n,r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,null===a||void 0===a?void 0:a.updateProfile({displayName:t});case 3:return n=ve.get(),r=a,e.next=7,new be(n).addOrUpdate({id:r.uid,email:r.email,displayName:r.displayName,photoUrl:r.photoURL});case 7:return e.abrupt("return",e.sent);case 10:throw e.prev=10,e.t0=e.catch(0),console.error(e.t0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(a,t){return e.apply(this,arguments)}}(),Ae=function e(){Object(se.a)(this,e)};Ae.home="/",Ae.auth="/auth",Ae.settings="/settings",Ae.importExport="/importExport",Ae.groups="/groups",Ae.labels="/labels",Ae.expenses="/expenses";var xe,we=Object(O.a)((function(e){var a;return{root:{flexGrow:1,display:"flex"},appBar:(a={zIndex:e.zIndex.drawer+999},Object(x.a)(a,e.breakpoints.up("sm"),{zIndex:e.zIndex.drawer}),Object(x.a)(a,"position","static"),a),title:{flexGrow:1,cursor:"pointer"},buttons:{color:"inherit"},menu:{paper:{width:240}},sectionMobile:Object(x.a)({display:"flex"},e.breakpoints.up("sm"),{display:"none"}),sectionDesktop:Object(x.a)({display:"none"},e.breakpoints.up("sm"),{display:"flex"}),drawer:{width:240,flexShrink:0},drawerPaper:{width:240},drawerContainer:{overflow:"auto"},container:{padding:0},small:{width:e.spacing(3),height:e.spacing(3)}}})),Ne=Object(r.memo)((function(){var e,a,t,n=Object(r.useContext)(ie).user,l=Object(w.g)(),i=Object(w.h)(),o=Object(N.a)(),s=Object(d.a)(o,1)[0],m=Object(r.useState)(!1),p=Object(d.a)(m,2),E=p[0],f=p[1],b=we(),h=Object(r.useState)(null),O=Object(d.a)(h,2),g=O[0],v=O[1],j=Object(r.useCallback)((function(){v(null)}),[]),y=Object(r.useCallback)((function(){f(!E)}),[E]),S=Object(r.useCallback)((function(){f(!1),v(null),l.push(Ae.home)}),[l]),k=Object(r.useCallback)((function(){f(!1),v(null),l.push(Ae.groups)}),[l]),x=Object(r.useCallback)((function(){f(!1),v(null),oe(i.search)?l.push({pathname:Ae.labels,search:i.search}):l.push(Ae.labels)}),[l,i]),X=Object(r.useCallback)((function(){f(!1),v(null),oe(i.search)?l.push({pathname:Ae.expenses,search:i.search}):l.push(Ae.expenses)}),[l,i]),Y=Object(r.useCallback)((function(){f(!1),v(null),l.push(Ae.settings)}),[l]),J=Object(r.useCallback)((function(){f(!1),v(null),l.push(Ae.auth)}),[l]),Q=Object(r.useCallback)(Object(A.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(null),f(!1),e.next=4,u.a.auth().signOut();case 4:setTimeout((function(){return l.push(Ae.home)}));case 5:case"end":return e.stop()}}),e)}))),[l]),$=null!==(e=null===n||void 0===n?void 0:n.email)&&void 0!==e?e:"",ae=null!==(a=null===n||void 0===n?void 0:n.displayName)&&void 0!==a?a:"",ne=null!==(t=null===n||void 0===n?void 0:n.photoURL)&&void 0!==t?t:"",ce=Object(r.useMemo)((function(){return oe(ne)?c.a.createElement(I.a,{alt:$,src:ne,className:b.small}):c.a.createElement(Z.a,null)}),[b.small,$,ne]),ue=Object(r.useMemo)((function(){return oe(ae)?ae.split(" ")[0]:$}),[ae,$]);return c.a.createElement("div",{className:b.root},c.a.createElement(G.a,{className:b.appBar},c.a.createElement(T.a,{maxWidth:"md",className:b.container},c.a.createElement(P.a,null,c.a.createElement(B.a,{edge:"start",color:"inherit","aria-label":"menu",className:b.sectionMobile,onClick:y},c.a.createElement(K.a,null)),c.a.createElement(F.a,{variant:"h6",className:b.title,onClick:S},s("HEADER.TITLE")),c.a.createElement("div",{className:b.sectionDesktop},c.a.createElement(V.a,{className:b.buttons,size:"small",onClick:k,startIcon:c.a.createElement(W.a,null)},s("HEADER.GROUPS")),c.a.createElement(V.a,{className:b.buttons,size:"small",onClick:x,startIcon:c.a.createElement(ee.a,null)},s("HEADER.LABELS")),c.a.createElement(V.a,{className:b.buttons,size:"small",onClick:X,startIcon:c.a.createElement(te.a,null)},s("HEADER.EXPENSES")),c.a.createElement(B.a,{"data-testid":"avatar-element",edge:"end","aria-label":"account of current user","aria-controls":"primary-search-account-menu","aria-haspopup":"true",onClick:function(e){oe(n)?v(e.currentTarget):(v(null),J())},color:"inherit"},ce),c.a.createElement(L.a,{"data-testid":"avatar-menu-element",id:"simple-menu",anchorEl:g,keepMounted:!0,open:Boolean(g),onClose:j},c.a.createElement(M.a,{onClick:j},c.a.createElement(R.a,null,ce),c.a.createElement(U.a,{primary:ue})),c.a.createElement(M.a,{onClick:Y},c.a.createElement(R.a,null,c.a.createElement(le.a,{fontSize:"small"})),c.a.createElement(U.a,{primary:s("HEADER.SETTINGS")})),c.a.createElement(D.a,null),c.a.createElement(M.a,{onClick:Q},c.a.createElement(R.a,null,c.a.createElement(re.a,{fontSize:"small"})),c.a.createElement(U.a,{primary:s("HEADER.LOGOUT")}))))))),c.a.createElement(H.a,{className:b.drawer.concat(b.sectionMobile),open:E,classes:{paper:b.drawerPaper},onClose:function(){return f(!1)},onOpen:function(){return f(!0)}},c.a.createElement(P.a,null),c.a.createElement("div",{className:b.drawerContainer},c.a.createElement(_.a,null,c.a.createElement(z.a,{button:!0,key:"home"},c.a.createElement(R.a,null,c.a.createElement(q.a,null)),c.a.createElement(U.a,{primary:"Home",onClick:S})),c.a.createElement(D.a,null),c.a.createElement(z.a,{button:!0,key:"groups",onClick:k},c.a.createElement(R.a,null,c.a.createElement(W.a,null)),c.a.createElement(U.a,{primary:s("HEADER.GROUPS")})),c.a.createElement(z.a,{button:!0,key:"labels",onClick:x},c.a.createElement(R.a,null,c.a.createElement(ee.a,null)),c.a.createElement(U.a,{primary:s("HEADER.LABELS")})),c.a.createElement(z.a,{button:!0,key:"expenses",onClick:X},c.a.createElement(R.a,null,c.a.createElement(te.a,null)),c.a.createElement(U.a,{primary:s("HEADER.EXPENSES")}))),c.a.createElement(D.a,null),oe(n)&&c.a.createElement(_.a,null,c.a.createElement(z.a,{button:!0,key:"user"},c.a.createElement(R.a,null,ce),c.a.createElement(U.a,{primary:ue})),c.a.createElement(z.a,{button:!0,key:"logout",onClick:Y},c.a.createElement(R.a,null,c.a.createElement(le.a,null)),c.a.createElement(U.a,{primary:s("HEADER.SETTINGS")})),c.a.createElement(z.a,{button:!0,key:"logout",onClick:Q},c.a.createElement(R.a,null,c.a.createElement(re.a,null)),c.a.createElement(U.a,{primary:s("HEADER.LOGOUT")}))),!oe(n)&&c.a.createElement(_.a,null,c.a.createElement(z.a,{button:!0,key:"login",onClick:J},c.a.createElement(R.a,null,c.a.createElement(Z.a,null)),c.a.createElement(U.a,{primary:s("HEADER.LOGIN_REGISTER")}))))))})),Ie=t(523),Le=t(525),Me=t(552),Re=t(524),Ue=t(526);!function(e){e[e.circular=0]="circular",e[e.linear=1]="linear"}(xe||(xe={}));var De,Ge=Object(O.a)((function(e){return Object(g.a)({linear:{width:"100%","& > * + *":{marginTop:e.spacing(2)}}})})),Pe=Object(r.memo)((function(e){var a,t=Ge(),n=Object(N.a)(),r=Object(d.a)(n,1)[0];return oe(e.error)?c.a.createElement(Ie.a,{container:!0,justify:"center",alignItems:"center"},c.a.createElement(Me.a,{severity:"error"},c.a.createElement(Re.a,null,r("COMMON.ERROR_TITLE")),e.error)):oe(e.info)?c.a.createElement(Ie.a,{container:!0,justify:"center",alignItems:"center"},c.a.createElement(Me.a,{severity:"info"},c.a.createElement(Re.a,null,r("COMMON.INFO_TITLE")),e.info)):e.showLoading?c.a.createElement(Ie.a,{container:!0,justify:"center",alignItems:"center"},(!oe(e.type)||e.type===xe.circular)&&c.a.createElement(Le.a,{size:null!==(a=e.size)&&void 0!==a?a:40,"data-testid":"loading-element"}),e.type===xe.linear&&c.a.createElement("div",{className:t.linear},c.a.createElement(Ue.a,{"data-testid":"loading-element"}))):c.a.createElement(c.a.Fragment,null,e.children)})),Fe=t(112),Ve=t.n(Fe),Be=function(e){Object(pe.a)(t,e);var a=Object(Ee.a)(t);function t(e){var n;return Object(se.a)(this,t),(n=a.call(this,e)).config=e,n.baseUrl="/api/group",n}return Object(me.a)(t,[{key:"getAll",value:function(){var e=Object(A.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get(this.baseUrl);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getFullAll",value:function(){var e=Object(A.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get(this.baseUrl+"/full");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Object(A.a)(C.a.mark((function e(a){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.post(this.baseUrl,{},a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(a){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=Object(A.a)(C.a.mark((function e(a){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.put(this.baseUrl,{},a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(a){return e.apply(this,arguments)}}()},{key:"remove",value:function(){var e=Object(A.a)(C.a.mark((function e(a){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.delete(this.baseUrl+"/"+a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(a){return e.apply(this,arguments)}}()}]),t}(fe),_e=t(100),ze=function(e){var a=e.component;e.path,Object(_e.a)(e,["component","path"]);return Object(r.useContext)(ie).user?c.a.createElement(a,null):c.a.createElement(w.a,{to:"/auth"})},He=t(98),Xe=t.n(He),We=t(186),Ye=t.n(We),qe=t(185),Je=t.n(qe),Ke=t(527),Qe=t(247),Ze=t.n(Qe),$e=(t(339),Object(O.a)((function(e){return{cards:{flex:1},header:{padding:e.spacing(2),paddingBottom:0},content:{padding:e.spacing(2),"&:last-child":{paddingBottom:e.spacing(2)}},deleteButton:{marginLeft:e.spacing(3)},menu:{padding:0},moreButton:{padding:0},menuButton:{padding:0}}})));!function(e){e[e.Row=0]="Row",e[e.Column=1]="Column",e[e.Menu=2]="Menu"}(De||(De={}));var ea,aa=c.a.memo((function(e){var a=$e(),t=c.a.useState(!1),n=Object(d.a)(t,2),r=n[0],l=n[1],i=c.a.useState(!1),o=Object(d.a)(i,2),u=o[0],s=o[1],m=c.a.useState(null),p=Object(d.a)(m,2),E=p[0],f=p[1],b=function(){f(null)},h=c.a.useCallback((function(){(b(),l(!0),oe(e.onEdit))&&(0,e.onEdit)(e.id).then((function(){})).finally((function(){return l(!1)}))}),[e]),O=c.a.useCallback((function(){(b(),s(!0),oe(e.onDelete))&&(0,e.onDelete)(e.id).then((function(){})).finally((function(){return s(!1)}))}),[e]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(z.a,{divider:!0,dense:!0,disableGutters:!0},c.a.createElement(U.a,{key:e.id,primary:e.title,secondary:e.children}),c.a.createElement(Ke.a,null,(oe(e.onEdit)||oe(e.onDelete))&&e.type===De.Menu&&c.a.createElement(c.a.Fragment,null,c.a.createElement(B.a,{onClick:function(e){f(e.currentTarget)},disableRipple:!0,className:a.moreButton},c.a.createElement(Ze.a,{fontSize:"inherit",className:a.moreButton})),c.a.createElement(L.a,{id:"simple-menu-"+e.id,anchorEl:E,keepMounted:!0,open:Boolean(E),onClose:b},oe(e.onEdit)&&c.a.createElement(M.a,{onClick:h},c.a.createElement(R.a,null,c.a.createElement(Je.a,{fontSize:"small"})),c.a.createElement(U.a,{primary:"Edit"})),oe(e.onDelete)&&c.a.createElement(M.a,{onClick:O},c.a.createElement(R.a,null,c.a.createElement(Ye.a,{fontSize:"small"})),c.a.createElement(U.a,{primary:"Delete"})))),oe(e.type)&&e.type!==De.Menu&&c.a.createElement(Ie.a,{container:!0,direction:e.type===De.Row?"row":"column",justify:"center",spacing:2},c.a.createElement(Ie.a,{item:!0},oe(e.onEdit)&&c.a.createElement(B.a,{size:"small",onClick:h,disabled:u},c.a.createElement(Pe,{showLoading:r,size:17},c.a.createElement(Je.a,{fontSize:"inherit","data-testid":"edit-element"})))),c.a.createElement(Ie.a,{item:!0},oe(e.onDelete)&&c.a.createElement(B.a,{size:"small",onClick:O,disabled:r},c.a.createElement(Pe,{showLoading:u,size:17},c.a.createElement(Ye.a,{fontSize:"inherit","data-testid":"delete-element"}))))))))})),ta=t(533),na=t(534),ra=t(559),ca=t(472),la=t(5),ia=t(25),oa=t(532),ua=t(528),sa=t(529),ma=t(530),pa=t(113),Ea=t.n(pa),da=Object(la.a)((function(e){var a,t;return Object(g.a)({root:(a={marginTop:50},Object(x.a)(a,e.breakpoints.up("sm"),{marginTop:0}),Object(x.a)(a,"padding",e.spacing(2)),a),closeButton:(t={marginTop:50},Object(x.a)(t,e.breakpoints.up("sm"),{marginTop:0}),Object(x.a)(t,"position","absolute"),Object(x.a)(t,"right",e.spacing(1)),Object(x.a)(t,"top",e.spacing(1)),Object(x.a)(t,"color",e.palette.grey[500]),t)})}))((function(e){var a=e.children,t=e.classes,n=e.onClose,r=Object(_e.a)(e,["children","classes","onClose"]);return c.a.createElement(ua.a,Object.assign({disableTypography:!0,className:t.root},r),c.a.createElement(F.a,{variant:"h6"},a),n?c.a.createElement(B.a,{"aria-label":"close",className:t.closeButton,onClick:n},c.a.createElement(Ea.a,null)):null)})),fa=Object(la.a)((function(e){return{root:{padding:e.spacing(2)}}}))(sa.a),ba=Object(la.a)((function(e){return{root:{margin:0,padding:e.spacing(1)}}}))(ma.a),ha=c.a.memo((function(e){var a=Object(ia.a)(),t=Object(N.a)(),n=Object(d.a)(t,1)[0],r=Object(S.a)(a.breakpoints.down("xs")),l=c.a.useState(!1),i=Object(d.a)(l,2),o=i[0],u=i[1],s=c.a.useState(""),m=Object(d.a)(s,2),p=m[0],E=m[1],f=c.a.useCallback((function(){e.onClose()}),[e]),b=c.a.useCallback((function(){u(!0),e.onAction().catch((function(){return E(n("COMMON.ERROR"))})).finally((function(){return u(!1)}))}),[e,n]);return c.a.useEffect((function(){E("")}),[e.show]),c.a.createElement(c.a.Fragment,null,c.a.createElement(oa.a,{fullScreen:r,open:e.show,onClose:f,"aria-labelledby":"responsive-dialog-title"},c.a.createElement(da,{id:"responsive-dialog-title",onClose:f},e.title),c.a.createElement(fa,null,c.a.createElement(c.a.Fragment,null,oe(p)&&c.a.createElement(Me.a,{severity:"error"},p),e.children)),c.a.createElement(ba,null,c.a.createElement(V.a,{variant:"contained",autoFocus:!0,color:"primary",onClick:b,endIcon:o&&c.a.createElement(Le.a,{size:12}),startIcon:oe(p)&&c.a.createElement(Ea.a,{color:"secondary"}),disabled:e.disableAction||o},e.actionText))))})),Oa=t(558),ga=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return e.id===a?t:oe(e.displayName)?e.displayName.split(" ")[0]:e.email.split("@")[0]},va=Object(O.a)((function(){return{chip:{margin:2}}})),ja=Object(r.memo)((function(e){var a=va(),t=Object(r.useContext)(ie).user,n=Object(N.a)(),l=Object(d.a)(n,1)[0];return c.a.createElement(Oa.a,{label:ga(e.user,null===t||void 0===t?void 0:t.uid,l("COMMON.YOU")),className:a.chip,avatar:c.a.createElement(I.a,{alt:e.user.email,src:e.user.photoUrl},ga(e.user)[0])})})),ya=Object(r.memo)((function(e){var a=Object(r.useContext)(ie).user,t=Object(N.a)(),n=Object(d.a)(t,1)[0];return c.a.createElement(c.a.Fragment,null,c.a.createElement(R.a,null,c.a.createElement(I.a,{alt:e.user.email,src:e.user.photoUrl},ga(e.user)[0])),c.a.createElement(U.a,{primary:ga(e.user,null===a||void 0===a?void 0:a.uid,n("COMMON.YOU")),secondary:e.user.email}))})),Sa=Object(O.a)((function(e){return Object(g.a)({formControl:{margin:e.spacing(1),minWidth:120,maxWidth:300},chips:{display:"flex",flexWrap:"wrap"},chip:{margin:2},noLabel:{marginTop:e.spacing(3)}})})),Ta={PaperProps:{style:{maxHeight:143,width:250}}},ka=c.a.memo((function(e){var a=c.a.useContext(ie).user,t=Sa(),n=Object(N.a)(),r=Object(d.a)(n,1)[0],l=c.a.useState(ve.get()),i=Object(d.a)(l,1)[0],o=c.a.useState(""),u=Object(d.a)(o,2),s=u[0],m=u[1],p=c.a.useState(""),E=Object(d.a)(p,2),f=E[0],b=E[1],h=c.a.useState(!1),O=Object(d.a)(h,2),g=O[0],v=O[1],j=c.a.useState(""),y=Object(d.a)(j,2),S=y[0],T=y[1],k=c.a.useState([]),x=Object(d.a)(k,2),w=x[0],I=x[1],L=c.a.useState(!1),R=Object(d.a)(L,2),U=R[0],D=R[1],G=c.a.useState([]),P=Object(d.a)(G,2),F=P[0],V=P[1],B=c.a.useState(""),_=Object(d.a)(B,2),z=_[0],H=_[1],X=c.a.useMemo((function(){return w.map((function(e){return e.id}))}),[w]),W=c.a.useCallback((function(e){T(e.target.value)}),[]),Y=c.a.useCallback((function(){v(!1),e.onClose()}),[e]),q=c.a.useCallback((function(e){var a=e.target.value.map((function(e){return F.find((function(a){return a.id===e}))}));I(a)}),[F]),J=c.a.useCallback(Object(A.a)(C.a.mark((function a(){var t;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!oe(e.group)){a.next=4;break}return a.abrupt("return",new Be(i).update({id:null===(t=e.group)||void 0===t?void 0:t.id,name:S,users:w}).then((function(){e.onAction(),Y()})));case 4:return a.abrupt("return",new Be(i).add({id:0,name:S,users:w}).then((function(){e.onAction(),Y()})));case 5:case"end":return a.stop()}}),a)}))),[e,S,w,i,Y]),K=c.a.useMemo((function(){return F.map((function(e){return c.a.createElement(M.a,{key:"menu-".concat(e.id),value:e.id,disabled:e.id===(null===a||void 0===a?void 0:a.uid)},c.a.createElement(ya,{user:e}))}))}),[a,F]),Q=c.a.useCallback((function(e){return c.a.createElement("div",{className:t.chips},e.map((function(e){return c.a.createElement(ja,{key:"multiple-".concat(e),user:F.find((function(a){return a.id===e}))})})))}),[F,t.chips]);return c.a.useEffect((function(){if(v(e.show),e.show)if(e.show&&0===F.length&&(D(!0),new be(i).getAll().then((function(e){return V(e)})).catch((function(){return H(r("COMMON.ERROR"))})).finally((function(){return D(!1)}))),oe(e.group)){var t=e.group;T(t.name),I(t.users),m(r("GROUPS.MANAGE.EDIT.TITLE")),b(r("COMMON.EDIT"))}else T(""),oe(F)&&I([F.find((function(e){return e.id===(null===a||void 0===a?void 0:a.uid)}))]),m(r("GROUPS.MANAGE.ADD.TITLE")),b(r("COMMON.ADD"))}),[e,i,F,a,r]),c.a.createElement(c.a.Fragment,null,c.a.createElement(ha,{show:g,title:s,actionText:f,disableAction:!oe(S)||!oe(w)||U,onAction:J,onClose:Y},c.a.createElement(Ie.a,{container:!0,spacing:3},c.a.createElement(Ie.a,{item:!0,xs:12},c.a.createElement(ta.a,{fullWidth:!0},c.a.createElement(na.a,{htmlFor:"name"},r("COMMON.NAME")),c.a.createElement(ca.a,{required:!0,id:"name",onChange:W,value:S}))),c.a.createElement(Ie.a,{item:!0,xs:12},c.a.createElement(ta.a,{fullWidth:!0},c.a.createElement(na.a,{id:"mutiple-users-label"},r("GROUPS.MANAGE.USERS")),c.a.createElement(Pe,{showLoading:U,error:z},c.a.createElement(ra.a,{labelId:"mutiple-users-label",id:"users-mutiple-chip",multiple:!0,value:X,onChange:q,input:c.a.createElement(ca.a,{id:"select-multiple-chip"}),renderValue:function(e){return Q(e)},MenuProps:Ta},K)))))))})),Ca=Object(O.a)((function(e){return{root:{flexGrow:1,"&:last-child":{paddingBottom:e.spacing(2)}},title:{margin:e.spacing(2),marginLeft:0},list:{width:"100%"}}})),Aa=c.a.memo((function(){var e=c.a.useContext(ie).isReady,a=Ca(),t=Object(N.a)(),n=Object(d.a)(t,1)[0],r=c.a.useState(ve.get()),l=Object(d.a)(r,1)[0],i=c.a.useState([]),o=Object(d.a)(i,2),u=o[0],s=o[1],m=c.a.useState(!1),p=Object(d.a)(m,2),E=p[0],f=p[1],b=c.a.useState(!1),h=Object(d.a)(b,2),O=h[0],g=h[1],v=c.a.useState(),j=Object(d.a)(v,2),y=j[0],S=j[1],T=c.a.useState(!0),k=Object(d.a)(T,2),x=k[0],w=k[1],I=c.a.useState(""),L=Object(d.a)(I,2),M=L[0],R=L[1],U=c.a.useState(""),G=Object(d.a)(U,2),P=G[0],B=G[1],z=c.a.useCallback(function(){var e=Object(A.a)(C.a.mark((function e(a){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(u.find((function(e){return e.id===a}))),g(!0),e.abrupt("return",Promise.resolve());case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),[u]),H=c.a.useCallback(function(){var e=Object(A.a)(C.a.mark((function e(a){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Be(l).remove(a).then((function(){w(!0)})).catch((function(){return R(n("COMMON.ERROR"))})));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),[l,n]),X=c.a.useCallback((function(){S(void 0),g(!0)}),[]),W=c.a.useCallback((function(){w(!0),g(!1)}),[]),Y=c.a.useCallback((function(){g(!1)}),[]);return c.a.useEffect((function(){e&&x&&(w(!1),R(""),B(""),f(!0),new Be(l).getFullAll().then((function(e){s(e),0===e.length&&B(n("COMMON.EMPTY"))})).catch((function(){return R(n("COMMON.ERROR"))})).finally((function(){f(!1)})))}),[l,e,x,n]),c.a.createElement("div",{key:"GroupComponent"},c.a.createElement(Ie.a,{container:!0,justify:"space-between",alignItems:"center",className:a.root,spacing:1},c.a.createElement(F.a,{variant:"h5",className:a.title},n("GROUPS.LIST.TITLE")),c.a.createElement(V.a,{variant:"contained",color:"primary",startIcon:c.a.createElement(Xe.a,null),onClick:X},n("COMMON.ADD"))),c.a.createElement(Ie.a,{container:!0,justify:"flex-start",alignItems:"center",className:a.root,spacing:1},c.a.createElement(Pe,{showLoading:E||!e,error:M,info:P},c.a.createElement(_.a,{className:a.list},u.map((function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement(aa,{key:e.id,id:e.id,title:e.name,type:De.Menu,onEdit:z,onDelete:H},c.a.createElement(Ie.a,{container:!0,justify:"flex-start",alignItems:"center"},e.users.map((function(e){return c.a.createElement(ja,{key:"groups-page-".concat(e.id),user:e})})))),c.a.createElement(D.a,null))}))))),c.a.createElement(ka,{group:y,show:O,onAction:W,onClose:Y}))})),xa=c.a.createContext({isLoading:!1,groups:[],labels:[],years:[(new Date).getFullYear()],month:(new Date).getMonth(),year:(new Date).getFullYear()}),wa=t(249),Na=(t(431),t(541)),Ia=t(562),La=t(551),Ma=t(157),Ra=t(539),Ua=t(561),Da=t(187),Ga=t.n(Da),Pa=t(188),Fa=t.n(Pa),Va=t(189),Ba=t.n(Va),_a=t(540),za=t(252),Ha=t.n(za),Xa=t(251),Wa=t.n(Xa),Ya=t(555),qa=t(537),Ja=t(536),Ka=t(538),Qa=t(248),Za=Object(O.a)((function(e){return Object(g.a)({title:{maxWidth:180},formControl:{width:"100%"},details:{alignItems:"center"}})})),$a=Object(r.memo)((function(e){var a,t,n,r=Za(),l=Object(w.g)(),i=Object(w.h)(),o=Object(N.a)(),u=Object(d.a)(o,1)[0],s=c.a.useState(!1),m=Object(d.a)(s,2),p=m[0],E=m[1],f=c.a.useState(null!==(a=e.groups)&&void 0!==a?a:[]),b=Object(d.a)(f,2),h=b[0],O=b[1],g=c.a.useState([1,2,3,4,5,6,7,8,9,10,11,12]),v=Object(d.a)(g,1)[0],j=c.a.useState(e.years),y=Object(d.a)(j,2),S=y[0],T=y[1],k=c.a.useState(null!==(t=null===(n=e.group)||void 0===n?void 0:n.id)&&void 0!==t?t:""),C=Object(d.a)(k,2),A=C[0],x=C[1],I=c.a.useMemo((function(){var e,a;return null!==(e=null===(a=h.find((function(e){return e.id===A})))||void 0===a?void 0:a.name)&&void 0!==e?e:""}),[h,A]),L=c.a.useState(e.month),M=Object(d.a)(L,2),R=M[0],U=M[1],G=c.a.useState(e.year),P=Object(d.a)(G,2),B=P[0],_=P[1],z=c.a.useMemo((function(){return h.map((function(e){return c.a.createElement("option",{key:e.id,value:e.id},e.name)}))}),[h]),H=c.a.useMemo((function(){return v.map((function(e){return c.a.createElement("option",{key:e,value:e},u("SEARCH.MONTHS."+e))}))}),[v,u]),X=c.a.useMemo((function(){return S.map((function(e){return c.a.createElement("option",{key:e,value:e},e)}))}),[S]),W=c.a.useCallback((function(e){x(e.target.value)}),[]),Y=c.a.useCallback((function(e){U(e.target.value)}),[]),q=c.a.useCallback((function(e){_(e.target.value)}),[]),J=c.a.useCallback((function(e,a){E(a)}),[]),K=c.a.useCallback((function(){E(!1),l.push({pathname:i.pathname,search:Ve.a.stringify({group:A,month:R,year:B})})}),[l,i,A,R,B]);return c.a.useEffect((function(){var a,t;O(e.groups),T(e.years),x(null!==(a=null===(t=e.group)||void 0===t?void 0:t.id)&&void 0!==a?a:""),U(e.month),_(e.year)}),[e.groups,e.years,e.group,e.month,e.year]),c.a.createElement(c.a.Fragment,null,c.a.createElement(Ya.a,{onChange:J,disabled:e.loading,expanded:p},c.a.createElement(Ja.a,{expandIcon:c.a.createElement(Wa.a,{"data-testid":"expand-element"}),"aria-controls":"panel1c-content",id:"panel1c-header"},c.a.createElement(Pe,{showLoading:e.loading,size:25,type:xe.linear},p&&c.a.createElement(F.a,{variant:"h6"},c.a.createElement("strong",null,u("SEARCH.TITLE"))),!p&&c.a.createElement(Ie.a,{container:!0,direction:"row",justify:"space-around",alignItems:"center"},c.a.createElement(F.a,{variant:"body1",noWrap:!0,className:r.title},I),c.a.createElement(D.a,{orientation:"vertical",flexItem:!0}),c.a.createElement(F.a,{variant:"body1"},u("SEARCH.MONTHS."+R)),c.a.createElement(D.a,{orientation:"vertical",flexItem:!0}),c.a.createElement(F.a,{variant:"body1"},B)))),c.a.createElement(qa.a,{className:r.details},c.a.createElement(Ie.a,{container:!0,justify:"center",spacing:2},c.a.createElement(Ie.a,{item:!0,xs:12,sm:4},c.a.createElement(ta.a,{className:r.formControl},c.a.createElement(na.a,{htmlFor:"group-select"},u("SEARCH.GROUP")),c.a.createElement(Qa.a,{id:"group-select",defaultValue:"",value:A,onChange:W},z))),c.a.createElement(Ie.a,{item:!0,xs:12,sm:4},c.a.createElement(ta.a,{className:r.formControl},c.a.createElement(na.a,{htmlFor:"month-label"},u("SEARCH.MONTH")),c.a.createElement(Qa.a,{id:"month-select",defaultValue:"",value:R,onChange:Y},H))),c.a.createElement(Ie.a,{item:!0,xs:12,sm:4},c.a.createElement(ta.a,{className:r.formControl},c.a.createElement(na.a,{htmlFor:"year-select"},u("SEARCH.YEAR")),c.a.createElement(Qa.a,{id:"year-select",defaultValue:"",value:B,onChange:q},X))))),c.a.createElement(D.a,null),c.a.createElement(Ka.a,null,c.a.createElement(V.a,{variant:"contained",color:"primary",startIcon:c.a.createElement(Ha.a,null),onClick:K},u("SEARCH.BUTTON")))))})),et=function(e){Object(pe.a)(t,e);var a=Object(Ee.a)(t);function t(e){var n;return Object(se.a)(this,t),(n=a.call(this,e)).config=e,n.baseUrl="/api/label",n}return Object(me.a)(t,[{key:"getAll",value:function(){var e=Object(A.a)(C.a.mark((function e(a){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get(this.baseUrl,{group:a});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(a){return e.apply(this,arguments)}}()},{key:"getFullAll",value:function(){var e=Object(A.a)(C.a.mark((function e(a,t,n){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get(this.baseUrl+"/full",{group:a,month:t,year:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(a,t,n){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Object(A.a)(C.a.mark((function e(a,t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.post(this.baseUrl,{group:a},t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(a,t){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=Object(A.a)(C.a.mark((function e(a){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.put(this.baseUrl,{},a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(a){return e.apply(this,arguments)}}()},{key:"remove",value:function(){var e=Object(A.a)(C.a.mark((function e(a){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.delete(this.baseUrl+"/"+a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(a){return e.apply(this,arguments)}}()}]),t}(fe),at=c.a.memo((function(e){var a=Object(N.a)(),t=Object(d.a)(a,1)[0],n=c.a.useContext(xa),r=c.a.useState(ve.get()),l=Object(d.a)(r,1)[0],i=c.a.useState(""),o=Object(d.a)(i,2),u=o[0],s=o[1],m=c.a.useState(""),p=Object(d.a)(m,2),E=p[0],f=p[1],b=c.a.useState(!1),h=Object(d.a)(b,2),O=h[0],g=h[1],v=c.a.useState(""),j=Object(d.a)(v,2),y=j[0],S=j[1],T=c.a.useCallback((function(e){S(e.target.value)}),[]),k=c.a.useCallback((function(){g(!1),e.onClose()}),[e]),x=c.a.useCallback(Object(A.a)(C.a.mark((function a(){var t,r;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!oe(e.label)){a.next=4;break}return a.abrupt("return",new et(l).update({id:null===(t=e.label)||void 0===t?void 0:t.id,name:y}).then((function(){e.onAction(),k()})));case 4:return a.abrupt("return",new et(l).add(null===(r=n.group)||void 0===r?void 0:r.id,{id:0,name:y}).then((function(){e.onAction(),k()})));case 5:case"end":return a.stop()}}),a)}))),[e,y,l,n.group,k]);return c.a.useEffect((function(){if(g(e.show),e.show)if(oe(e.label)){var a=e.label;S(a.name),s(t("LABELS.MANAGE.EDIT.TITLE")),f(t("COMMON.EDIT"))}else S(""),s(t("LABELS.MANAGE.ADD.TITLE")),f(t("COMMON.ADD"))}),[e,l,t]),c.a.createElement(c.a.Fragment,null,c.a.createElement(ha,{show:O,title:u,actionText:E,disableAction:!oe(y),onAction:x,onClose:k},c.a.createElement(Ie.a,{container:!0,spacing:3},c.a.createElement(Ie.a,{item:!0,xs:12},c.a.createElement(ta.a,{fullWidth:!0},c.a.createElement(na.a,{htmlFor:"name"},t("COMMON.NAME")),c.a.createElement(ca.a,{required:!0,id:"name",onChange:T,value:y}))))))}));function tt(e){var a=e.children,t=e.value,n=e.index,r=Object(_e.a)(e,["children","value","index"]);return c.a.createElement("div",Object.assign({role:"tabpanel",hidden:t!==n,id:"scrollable-auto-tabpanel-".concat(n),"aria-labelledby":"scrollable-auto-tab-".concat(n)},r),t===n&&c.a.createElement(c.a.Fragment,null,a))}!function(e){e[e.CURRENT_VALUE=0]="CURRENT_VALUE",e[e.LAST_VALUE=1]="LAST_VALUE",e[e.AVERAGE_VALUE=2]="AVERAGE_VALUE"}(ea||(ea={}));var nt,rt=Object(O.a)((function(e){return{root:{flexGrow:1,"&:last-child":{paddingBottom:e.spacing(2)}},title:{margin:e.spacing(2),marginLeft:0},list:{width:"100%"},listValues:{flexGrow:1},gridItem:{marginTop:e.spacing(2)},badge:{},tab:{flexGrow:1},tabs:{flexGrow:1,width:"100%"},graphButtons:{marginTop:e.spacing(2),marginBottom:e.spacing(2)}}})),ct=c.a.memo((function(){var e=c.a.useContext(ie).isReady,a=c.a.useContext(xa),t=c.a.useState(ve.get()),n=Object(d.a)(t,1)[0],r=rt(),l=Object(N.a)(),i=Object(d.a)(l,1)[0],o=c.a.useState(!1),u=Object(d.a)(o,2),s=u[0],m=u[1],p=c.a.useState([]),E=Object(d.a)(p,2),f=E[0],b=E[1],h=c.a.useState(),O=Object(d.a)(h,2),g=O[0],v=O[1],j=c.a.useState(!0),y=Object(d.a)(j,2),S=y[0],T=y[1],k=c.a.useState(""),x=Object(d.a)(k,2),w=x[0],I=x[1],L=c.a.useState(""),M=Object(d.a)(L,2),R=M[0],U=M[1],G=c.a.useState(),P=Object(d.a)(G,2),B=P[0],z=P[1],H=c.a.useState(!1),X=Object(d.a)(H,2),W=X[0],Y=X[1],q=c.a.useState(0),J=Object(d.a)(q,2),K=J[0],Q=J[1],Z=c.a.useState(ea.CURRENT_VALUE),$=Object(d.a)(Z,2),ee=$[0],ae=$[1],te=c.a.useCallback(function(){var e=Object(A.a)(C.a.mark((function e(a){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return z(f.find((function(e){return e.id===a}))),Y(!0),e.abrupt("return",Promise.resolve());case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),[f]),ne=c.a.useCallback(function(){var e=Object(A.a)(C.a.mark((function e(a){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new et(n).remove(a).then((function(){T(!S)})).catch((function(){return I(i("COMMON.ERROR"))})));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),[n,S,i]),re=c.a.useCallback((function(){z(void 0),Y(!0)}),[]),ce=c.a.useCallback((function(){T(!S),Y(!1)}),[S]),le=c.a.useCallback((function(){Y(!1)}),[]);c.a.useEffect((function(){var t;e&&!a.isLoading&&oe(a.group)&&(I(""),U(""),v(void 0),m(!0),new et(n).getFullAll(null===(t=a.group)||void 0===t?void 0:t.id,a.month,a.year).then((function(e){b(e),v(e.length),0===e.length&&U(i("COMMON.EMPTY"))})).catch((function(){return I(i("COMMON.ERROR"))})).finally((function(){return m(!1)})))}),[e,n,S,i,a.isLoading,a.group,a.month,a.year]);var ue=c.a.useMemo((function(){return f.map((function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement(aa,{key:e.id,id:e.id,title:e.name,type:De.Menu,onEdit:te,onDelete:ne},c.a.createElement(Ie.a,{container:!0,justify:"space-around",alignItems:"center",className:r.gridItem},c.a.createElement(Ua.a,{title:"Current value"},c.a.createElement(Oa.a,{icon:c.a.createElement(Ga.a,null),size:"small",label:e.currValue.toFixed(2),clickable:!0,color:e.currValue>=e.lastValue||e.currValue>=e.avgValue?"primary":"secondary"})),c.a.createElement(Ua.a,{title:"Last value","aria-label":"add"},c.a.createElement(Oa.a,{icon:c.a.createElement(Fa.a,null),size:"small",label:e.lastValue.toFixed(2),clickable:!0,color:e.lastValue>=e.avgValue?"primary":"secondary"})),c.a.createElement(Ua.a,{title:"Average value","aria-label":"add"},c.a.createElement(Oa.a,{icon:c.a.createElement(Ba.a,null),size:"small",label:e.avgValue.toFixed(2),clickable:!0,color:"primary"})))))}))}),[f,r.gridItem,te,ne]),se=c.a.useMemo((function(){return 0===f.length?{labels:["Empty"],datasets:[{data:[1],borderWidth:0}]}:{labels:f.map((function(e){return e.name})),datasets:[{data:f.map((function(e){return ee===ea.CURRENT_VALUE?e.currValue:ee===ea.LAST_VALUE?e.lastValue:e.avgValue})),borderWidth:0}]}}),[f,ee]);return c.a.createElement("div",{key:"LabelComponent"},c.a.createElement($a,{loading:a.isLoading,groups:a.groups,years:a.years,group:a.group,month:a.month,year:a.year}),c.a.createElement(D.a,null),c.a.createElement(Ie.a,{container:!0,justify:"space-between",alignItems:"center",className:r.root,spacing:1},c.a.createElement(F.a,{variant:"h5",className:r.title},i("LABELS.LIST.TITLE")),c.a.createElement(V.a,{variant:"contained",color:"primary",startIcon:c.a.createElement(Xe.a,null),onClick:re,disabled:s||!e||a.isLoading},i("COMMON.ADD"))),c.a.createElement(Ie.a,{container:!0,justify:"flex-start",alignItems:"center",className:r.root,spacing:1},c.a.createElement(Pe,{showLoading:s||!e,error:w,info:R},c.a.createElement("div",{className:r.tabs},c.a.createElement(Ma.a,{className:r.tab},c.a.createElement(La.a,{value:K,onChange:function(e,a){Q(a)},centered:!0,variant:"fullWidth"},c.a.createElement(Ra.a,{label:c.a.createElement(_a.a,{badgeContent:g,color:"primary"},i("LABELS.LIST.ITEMS_TAB"))}),c.a.createElement(Ra.a,{label:i("LABELS.LIST.GRAPH_TAB")}))),c.a.createElement(tt,{value:K,index:0},c.a.createElement(_.a,{className:r.list},c.a.createElement(aa,{key:0,id:0},c.a.createElement(Ie.a,{container:!0,justify:"space-around",alignItems:"center",className:r.gridItem},c.a.createElement(F.a,{variant:"subtitle1"},i("LABELS.LIST.CURRENT_VALUE")),c.a.createElement(F.a,{variant:"subtitle1"},i("LABELS.LIST.LAST_VALUE")),c.a.createElement(F.a,{variant:"subtitle1"},i("LABELS.LIST.AVERAGE_VALUE")))),ue)),c.a.createElement(tt,{value:K,index:1},c.a.createElement(Ie.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},c.a.createElement(Ia.a,{size:"small",value:ee,exclusive:!0,onChange:function(e,a){ae(+a)},className:r.graphButtons},c.a.createElement(Na.a,{value:ea.CURRENT_VALUE},c.a.createElement(Ga.a,null)," ",i("LABELS.LIST.CURRENT_VALUE")),c.a.createElement(Na.a,{value:ea.LAST_VALUE},c.a.createElement(Fa.a,null)," ",i("LABELS.LIST.LAST_VALUE")),c.a.createElement(Na.a,{value:ea.AVERAGE_VALUE},c.a.createElement(Ba.a,null)," ",i("LABELS.LIST.AVERAGE_VALUE"))),c.a.createElement(Ie.a,{item:!0,xs:12,sm:8,md:6},c.a.createElement(wa.a,{data:se,options:{plugins:{colorschemes:{scheme:"office.Excel16"}}},width:200,height:200}))))))),c.a.createElement(at,{label:B,show:W,onAction:ce,onClose:le}))})),lt=t(260),it=t(254),ot=t.n(it);!function(e){e[e.Incoming=0]="Incoming",e[e.Outcoming=1]="Outcoming"}(nt||(nt={}));var ut,st=function(e){Object(pe.a)(t,e);var a=Object(Ee.a)(t);function t(e){var n;return Object(se.a)(this,t),(n=a.call(this,e)).config=e,n.baseUrl="/api/expense",n}return Object(me.a)(t,[{key:"getAll",value:function(){var e=Object(A.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get(this.baseUrl);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getFullAll",value:function(){var e=Object(A.a)(C.a.mark((function e(a,t,n){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.get(this.baseUrl+"/full",{group:a,month:t,year:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(a,t,n){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Object(A.a)(C.a.mark((function e(a){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.post(this.baseUrl,{},a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(a){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=Object(A.a)(C.a.mark((function e(a){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.put(this.baseUrl,{},a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(a){return e.apply(this,arguments)}}()},{key:"remove",value:function(){var e=Object(A.a)(C.a.mark((function e(a){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.delete(this.baseUrl+"/"+a);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)})));return function(a){return e.apply(this,arguments)}}()}]),t}(fe),mt=t(36),pt=t(550),Et=t(258),dt=t(563),ft=t(542),bt=t(554),ht=t(471),Ot=Object(O.a)((function(e){return Object(g.a)({formControl:{width:"100%"}})})),gt=c.a.memo((function(e){var a=Object(N.a)(),t=Object(d.a)(a,1)[0],n=c.a.useContext(xa),r=Ot(),l=c.a.useState(ve.get()),i=Object(d.a)(l,1)[0],o=c.a.useState(""),u=Object(d.a)(o,2),s=u[0],m=u[1],p=c.a.useState(""),E=Object(d.a)(p,2),f=E[0],b=E[1],h=c.a.useState(!1),O=Object(d.a)(h,2),g=O[0],v=O[1],j=c.a.useState(""),y=Object(d.a)(j,2),S=y[0],T=y[1],k=c.a.useState(nt.Outcoming),x=Object(d.a)(k,2),w=x[0],I=x[1],L=c.a.useState(),M=Object(d.a)(L,2),R=M[0],U=M[1],D=c.a.useState(""),G=Object(d.a)(D,2),P=G[0],F=G[1],V=c.a.useState(new Date),B=Object(d.a)(V,2),_=B[0],z=B[1],H=c.a.useState(),X=Object(d.a)(H,2),W=X[0],Y=X[1],q=c.a.useMemo((function(){if(!oe(P)&&n.labels.length>0){var a,t,r=localStorage.getItem("label");if(!oe(e.expense)&&oe(r)&&n.labels.some((function(e){return e.id===+r})))F(null===(a=n.labels[+r])||void 0===a?void 0:a.id.toString());else F(null===(t=n.labels[0])||void 0===t?void 0:t.id.toString())}return n.labels.map((function(e){return c.a.createElement("option",{key:e.id,value:e.id},e.name)}))}),[n.labels,e.expense]),J=c.a.useCallback((function(e){F(e.target.value),localStorage.setItem("label",e.target.value)}),[]),K=c.a.useCallback((function(e){T(e.target.value)}),[]),Q=c.a.useCallback((function(e){0===+e.target.value?U(void 0):U(+e.target.value)}),[]),Z=c.a.useCallback((function(e){Y(e.target.value)}),[]),$=c.a.useCallback((function(){v(!1),e.onClose()}),[e]),ee=c.a.useCallback(Object(A.a)(C.a.mark((function a(){var t,r,c;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!oe(e.expense)){a.next=4;break}return a.abrupt("return",new st(i).update({id:null===(t=e.expense)||void 0===t?void 0:t.id,name:S,type:w,comments:W,date:_,groupId:null===(r=n.group)||void 0===r?void 0:r.id,labelId:+P,value:R}).then((function(){e.onAction(),$()})));case 4:return a.abrupt("return",new st(i).add({name:S,type:w,comments:W,date:_,groupId:null===(c=n.group)||void 0===c?void 0:c.id,labelId:+P,value:R}).then((function(){e.onAction(),$()})));case 5:case"end":return a.stop()}}),a)}))),[e,w,_,P,S,R,W,i,n.group,$]);return c.a.useEffect((function(){if(v(e.show),e.show)if(oe(e.expense)){var a=e.expense;I(a.type),z(a.date),T(a.name),U(a.value),Y(a.comments),m(t("EXPENSES.MANAGE.EDIT.TITLE")),b(t("COMMON.EDIT"))}else I(nt.Outcoming),z(new Date),T(""),U(void 0),Y(""),m(t("EXPENSES.MANAGE.ADD.TITLE")),b(t("COMMON.ADD"))}),[e,i,t]),c.a.createElement(c.a.Fragment,null,c.a.createElement(ha,{show:g,title:s,actionText:f,disableAction:!oe(S)||!oe(R)||!oe(P),onAction:ee,onClose:$},c.a.createElement(Ie.a,{container:!0,spacing:2},c.a.createElement(Ie.a,{item:!0,xs:12},c.a.createElement(ta.a,{component:"fieldset"},c.a.createElement(ht.a,{required:!0,component:"label"},t("EXPENSES.MANAGE.TYPE")),c.a.createElement(dt.a,{"aria-label":"type",name:"type",value:w,onChange:function(e){I(+e.target.value)}},c.a.createElement(ft.a,{value:nt.Incoming,control:c.a.createElement(bt.a,{size:"small"}),label:t("EXPENSES.INCOMING")}),c.a.createElement(ft.a,{value:nt.Outcoming,control:c.a.createElement(bt.a,{size:"small"}),label:t("EXPENSES.OUTCOMING")})))),c.a.createElement(Ie.a,{item:!0,xs:12},c.a.createElement(mt.a,{utils:Et.a},c.a.createElement(pt.a,{required:!0,autoOk:!0,format:"dd/MM/yyyy",label:t("EXPENSES.MANAGE.DATE"),value:_,onChange:function(e){z(e)}}))),c.a.createElement(Ie.a,{item:!0,xs:12},c.a.createElement(ta.a,{fullWidth:!0},c.a.createElement(na.a,{htmlFor:"name",required:!0},t("COMMON.NAME")),c.a.createElement(ca.a,{required:!0,id:"name",onChange:K,value:S}))),c.a.createElement(Ie.a,{item:!0,xs:12},c.a.createElement(ta.a,{fullWidth:!0},c.a.createElement(na.a,{htmlFor:"value",required:!0},t("EXPENSES.MANAGE.VALUE")),c.a.createElement(ca.a,{required:!0,type:"number",id:"value",onChange:Q,value:R}))),c.a.createElement(Ie.a,{item:!0,xs:12},c.a.createElement(ta.a,{className:r.formControl},c.a.createElement(na.a,{htmlFor:"label-select",required:!0},t("EXPENSES.MANAGE.LABEL")),c.a.createElement(Qa.a,{id:"label-select",value:P,onChange:J,disabled:n.isLoading},q))),c.a.createElement(Ie.a,{item:!0,xs:12},c.a.createElement(ta.a,{fullWidth:!0},c.a.createElement(na.a,{htmlFor:"comments"},t("EXPENSES.MANAGE.COMMENTS")),c.a.createElement(ca.a,{multiline:!0,id:"comments",onChange:Z,value:W}))))))})),vt=Object(O.a)((function(e){return{root:{flexGrow:1,"&:last-child":{paddingBottom:e.spacing(2)}},tab:{flexGrow:1},tabs:{flexGrow:1,width:"100%"},title:{margin:e.spacing(2),marginLeft:0},list:{width:"100%"},listValues:{flexGrow:1},separatorTitle:{margin:e.spacing(1)}}})),jt=c.a.memo((function(){var e=c.a.useContext(xa),a=c.a.useContext(ie).isReady,t=c.a.useState(ve.get()),n=Object(d.a)(t,1)[0],r=vt(),l=Object(N.a)(),i=Object(d.a)(l,1)[0],o=c.a.useState(!1),u=Object(d.a)(o,2),s=u[0],m=u[1],p=c.a.useState([]),E=Object(d.a)(p,2),f=E[0],b=E[1],h=c.a.useState(!0),O=Object(d.a)(h,2),g=O[0],v=O[1],j=c.a.useState(""),y=Object(d.a)(j,2),S=y[0],T=y[1],k=c.a.useState(""),x=Object(d.a)(k,2),w=x[0],I=x[1],L=c.a.useState(),M=Object(d.a)(L,2),R=M[0],U=M[1],G=c.a.useState(!1),P=Object(d.a)(G,2),B=P[0],z=P[1],H=c.a.useState(0),X=Object(d.a)(H,2),W=X[0],Y=X[1],q=c.a.useCallback((function(e){return f.filter((function(a){return a.type===e})).reduce((function(e,a){return e+a.value}),0).toFixed(2)}),[f]),J=c.a.useCallback((function(e){return f.filter((function(a){return a.type===e})).length}),[f]),K=c.a.useMemo((function(){var e=+q(nt.Incoming),a=e-+q(nt.Outcoming);return[a.toFixed(2),(a/e*100).toFixed(0)]}),[q]),Q=Object(d.a)(K,2),Z=Q[0],$=Q[1],ae=c.a.useCallback(function(){var e=Object(A.a)(C.a.mark((function e(a){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return U(f.find((function(e){return e.id===a}))),z(!0),e.abrupt("return",Promise.resolve());case 3:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),[f]),ne=c.a.useCallback(function(){var e=Object(A.a)(C.a.mark((function e(a){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new st(n).remove(a).then((function(){v(!g)})).catch((function(){return T(i("COMMON.ERROR"))})));case 1:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),[n,g,i]),re=c.a.useCallback((function(){U(void 0),z(!0)}),[]),ce=c.a.useCallback((function(){v(!g),z(!1)}),[g]),le=c.a.useCallback((function(){z(!1)}),[]);c.a.useEffect((function(){var t;a&&!e.isLoading&&oe(e.group)&&(T(""),I(""),m(!0),new st(n).getFullAll(null===(t=e.group)||void 0===t?void 0:t.id,e.month,e.year).then((function(e){b(e),0===e.length&&I(i("COMMON.EMPTY"))})).catch((function(){return T(i("COMMON.ERROR"))})).finally((function(){return m(!1)})))}),[a,n,g,i,e.isLoading,e.group,e.month,e.year]);var ue=c.a.useCallback((function(e){return c.a.createElement(_.a,{className:r.list},f.filter((function(a){return a.type===e})).map((function(e,a){return c.a.createElement(c.a.Fragment,null,c.a.createElement(aa,{key:e.id,id:e.id,title:e.name,type:De.Menu,onEdit:ae,onDelete:ne},c.a.createElement(Ie.a,{container:!0,direction:"row",justify:"space-around",alignItems:"center"},c.a.createElement(V.a,{startIcon:c.a.createElement(ot.a,null)},Object(lt.a)(new Date(e.date),i("COMMON.DATE_FORMAT"))),c.a.createElement(V.a,{startIcon:c.a.createElement(ee.a,null)},e.label.name),c.a.createElement(V.a,{startIcon:c.a.createElement(te.a,null)},e.value.toFixed(2)))))})))}),[i,f,r.list,ae,ne]);return c.a.createElement("div",{key:"ExpensesComponent"},c.a.createElement($a,{loading:e.isLoading,groups:e.groups,years:e.years,group:e.group,month:e.month,year:e.year}),c.a.createElement(D.a,null),c.a.createElement(Ie.a,{container:!0,justify:"space-between",alignItems:"center",className:r.root,spacing:1},c.a.createElement(F.a,{variant:"h5",className:r.title},i("EXPENSES.LIST.TITLE")),c.a.createElement(V.a,{variant:"contained",color:"primary",startIcon:c.a.createElement(Xe.a,null),onClick:re,disabled:s||e.isLoading||!a},i("COMMON.ADD"))),c.a.createElement(Ie.a,{container:!0,justify:"flex-start",alignItems:"center",className:r.root,spacing:1},c.a.createElement(Pe,{showLoading:s||!a,error:S,info:w},c.a.createElement("div",{className:r.tabs},c.a.createElement(Ma.a,{className:r.tab},c.a.createElement(La.a,{value:W,onChange:function(e,a){Y(a)},centered:!0,variant:"fullWidth"},c.a.createElement(Ra.a,{label:i("COMMON.SUMMARY")}),c.a.createElement(Ra.a,{label:c.a.createElement(_a.a,{badgeContent:J(nt.Incoming),color:"primary"},i("EXPENSES.INCOMING"))}),c.a.createElement(Ra.a,{label:c.a.createElement(_a.a,{badgeContent:J(nt.Outcoming),color:"primary"},i("EXPENSES.OUTCOMING"))}))),c.a.createElement(tt,{value:W,index:0},c.a.createElement(Ie.a,{container:!0,direction:"column",justify:"flex-start",alignItems:"flex-start"},c.a.createElement(Ie.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center"},c.a.createElement(F.a,{variant:"body2",className:r.separatorTitle},i("EXPENSES.LIST.TOTAL_INCOMING")),c.a.createElement(F.a,{variant:"h6",className:r.separatorTitle},"".concat(q(nt.Incoming)))),c.a.createElement(Ie.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center"},c.a.createElement(F.a,{variant:"body2",className:r.separatorTitle},i("EXPENSES.LIST.TOTAL_OUTCOMING")),c.a.createElement(F.a,{variant:"h6",className:r.separatorTitle},"".concat(q(nt.Outcoming)))),c.a.createElement(D.a,null),c.a.createElement(Ie.a,{container:!0,direction:"row",justify:"flex-start",alignItems:"center"},c.a.createElement(F.a,{variant:"body2",className:r.separatorTitle},i("EXPENSES.LIST.TOTAL_LEFT")),c.a.createElement(Oa.a,{color:+Z>=0?"primary":"secondary",label:Z,className:r.separatorTitle}),c.a.createElement(Oa.a,{color:+Z>=0?"primary":"secondary",size:"small",label:"".concat($,"%")})))),c.a.createElement(tt,{value:W,index:1},ue(nt.Incoming)),c.a.createElement(tt,{value:W,index:2},ue(nt.Outcoming))))),c.a.createElement(gt,{expense:R,show:B,onAction:ce,onClose:le}))})),yt=t(564),St=t(543),Tt=t(544),kt=t(545),Ct=t(546);!function(e){e.LOGIN="LOGIN",e.REGISTER="REGISTER",e.RESET="RESET"}(ut||(ut={}));var At=Object(O.a)((function(e){return Object(g.a)({root:{"& .MuiTextField-root":{margin:e.spacing(1),width:"25ch"}}})}));function xt(e){return c.a.createElement(Me.a,Object.assign({elevation:6,variant:"filled"},e))}var wt,Nt=Object(r.memo)((function(e){var a=At(),t=Object(N.a)(),n=Object(d.a)(t,1)[0],l=Object(w.g)(),i=Object(r.useState)(),o=Object(d.a)(i,2),u=o[0],s=o[1],m=Object(r.useState)(""),p=Object(d.a)(m,2),E=p[0],f=p[1],b=Object(r.useState)(""),h=Object(d.a)(b,2),O=h[0],g=h[1],v=Object(r.useMemo)((function(){return e.type===ut.RESET?!oe(E):!(oe(E)&&oe(O))}),[E,O,e.type]),j=Object(r.useCallback)((function(e){f(e.target.value)}),[]),y=Object(r.useCallback)((function(e){g(e.target.value)}),[]),S=Object(r.useState)(!1),T=Object(d.a)(S,2),k=T[0],x=T[1],I=Object(r.useCallback)(Object(A.a)(C.a.mark((function a(){var t;return C.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:x(!0),s(void 0),a.t0=e.type,a.next=a.t0===ut.LOGIN?5:a.t0===ut.REGISTER?7:a.t0===ut.RESET?9:11;break;case 5:return t=Se(E,O),a.abrupt("break",11);case 7:return t=Te(E,O),a.abrupt("break",11);case 9:return t=ke(E),a.abrupt("break",11);case 11:t.then((function(){setTimeout((function(){return l.push(Ae.home)}))})).catch((function(e){s(e.message)})).finally((function(){x(!1)}));case 12:case"end":return a.stop()}}),a)}))),[E,O,l,e.type]),L=Object(r.useMemo)((function(){return[n("AUTH.".concat(e.type,".TITLE")),n("AUTH.".concat(e.type,".BUTTON"))]}),[e.type,n]),M=Object(d.a)(L,2),R=M[0],U=M[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement(St.a,null,c.a.createElement(Tt.a,{title:R}),c.a.createElement(kt.a,null,oe(u)&&c.a.createElement(xt,{severity:"error"},u),c.a.createElement("form",{className:a.root,noValidate:!0,autoComplete:"off"},c.a.createElement(Ie.a,{container:!0},c.a.createElement(Ie.a,{container:!0,item:!0,xs:12},c.a.createElement(yt.a,{required:!0,id:"".concat(e.type,"-email-required"),label:n("AUTH.EMAIL"),disabled:k,value:E,onChange:j})),e.type!==ut.RESET&&c.a.createElement(Ie.a,{container:!0,item:!0,xs:12},c.a.createElement(yt.a,{required:!0,id:"".concat(e.type,"-password-required"),label:n("AUTH.PASSWORD"),type:"password",disabled:k,value:O,onChange:y}))))),c.a.createElement(Ct.a,null,c.a.createElement(V.a,{id:"".concat(e.type,"-action"),variant:"contained",color:"primary",size:"small",endIcon:k&&c.a.createElement(Le.a,{size:12}),disabled:k||v,onClick:I},U))))})),It=t(150),Lt=t.n(It),Mt=Object(r.memo)((function(){var e=Object(N.a)(),a=Object(d.a)(e,1)[0],t=Object(w.g)(),n=Object(r.useState)(!1),l=Object(d.a)(n,2),i=l[0],o=l[1],u=Object(r.useState)(!1),s=Object(d.a)(u,2),m=s[0],p=s[1],E=Object(r.useCallback)(Object(A.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),p(!1),e.prev=2,e.next=5,ye();case 5:setTimeout((function(){return t.push(Ae.home)})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),p(!0);case 11:return e.prev=11,o(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[2,8,11,14]])}))),[t]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(V.a,{variant:"contained",color:"primary",startIcon:c.a.createElement(Lt.a,null),onClick:E,endIcon:c.a.createElement(c.a.Fragment,null,i&&c.a.createElement(Le.a,{size:15}),m&&c.a.createElement(Ea.a,{color:"secondary","data-testid":"facebook-close-icon"})),disabled:i},a("AUTH.FACEBOOK.BUTTON")))})),Rt=Object(O.a)((function(e){return Object(g.a)({root:{flexGrow:1},center:{textAlign:"center"}})})),Ut=Object(r.memo)((function(){var e=Rt();return c.a.createElement("div",{className:e.root},c.a.createElement(Ie.a,{container:!0,direction:"row",justify:"center",alignItems:"flex-start",spacing:3},c.a.createElement(Ie.a,{item:!0,xs:12,className:e.center},c.a.createElement(Mt,null)),Object.values(ut).map((function(e){return c.a.createElement(Ie.a,{item:!0,xs:12,sm:6,md:4},c.a.createElement(Nt,{type:e}))}))))})),Dt=t(547),Gt=Object(O.a)((function(e){return{root:{flexGrow:1},formControl:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},avatar:{width:100,height:100}}})),Pt=c.a.memo((function(){var e,a,t,n,r=Gt(),l=Object(N.a)(),i=Object(d.a)(l,1)[0],o=c.a.useContext(ie),u=c.a.useState(!1),s=Object(d.a)(u,2),m=s[0],p=s[1],E=c.a.useState(""),f=Object(d.a)(E,2),b=f[0],h=f[1],O=c.a.useState(""),g=Object(d.a)(O,2),v=g[0],j=g[1],y=c.a.useCallback((function(e){h(e.target.value)}),[]),S=c.a.useCallback((function(){p(!0),j(""),Ce(o.user,b).catch((function(){return j(i("COMMON.ERROR"))})).finally((function(){return p(!1)}))}),[b,o.user,i]),T=c.a.useCallback((function(){console.log(o.isDarkTheme,!o.isDarkTheme),o.setDarkTheme(!o.isDarkTheme)}),[o]);return c.a.useEffect((function(){var e,a;h(null!==(e=null===(a=o.user)||void 0===a?void 0:a.displayName)&&void 0!==e?e:"")}),[o.user]),c.a.createElement(c.a.Fragment,null,c.a.createElement(Pe,{showLoading:o.initialising||!o.isReady,error:v},c.a.createElement(Ie.a,{container:!0,justify:"center",alignItems:"center",className:r.root},c.a.createElement(_a.a,{badgeContent:c.a.createElement(Lt.a,null),anchorOrigin:{vertical:"bottom",horizontal:"right"}},c.a.createElement(I.a,{alt:null===(e=o.user)||void 0===e?void 0:e.displayName,src:(null===(a=o.user)||void 0===a?void 0:a.photoURL)+"?type=large",className:r.avatar},(null===(t=o.user)||void 0===t?void 0:t.displayName)[0])),c.a.createElement(ta.a,{fullWidth:!0,className:r.formControl},c.a.createElement(na.a,{htmlFor:"email"},i("SETTINGS.EMAIL")),c.a.createElement(ca.a,{required:!0,id:"email",value:null===(n=o.user)||void 0===n?void 0:n.email,disabled:!0})),c.a.createElement(ta.a,{fullWidth:!0,className:r.formControl},c.a.createElement(na.a,{htmlFor:"displayName",required:!0},i("SETTINGS.DISPLAY_NAME")),c.a.createElement(ca.a,{required:!0,id:"displayName",onChange:y,value:b})),c.a.createElement(ft.a,{control:c.a.createElement(Dt.a,{checked:o.isDarkTheme,onChange:T,name:"switch-dark-theme"}),label:i("SETTINGS.DARK_THEME")}),c.a.createElement(Ie.a,{container:!0,direction:"row",justify:"flex-end",alignItems:"center"},c.a.createElement(V.a,{variant:"contained",color:"primary",endIcon:m&&c.a.createElement(Le.a,{size:12}),disabled:m||!oe(b),onClick:S},i("SETTINGS.BUTTON"))))))})),Ft=t(255),Vt=t.n(Ft),Bt=t(61),_t=t.n(Bt),zt=t(257),Ht=t.n(zt),Xt=t(256),Wt=t.n(Xt),Yt=t(190),qt=t.n(Yt),Jt=Vt()((function(e){return{root:{flexGrow:1,height:"90vh"},textArea:{"& .MuiTextField-root":{width:"100%"}},formControl:{width:"100%"}}}));!function(e){e[e.Label=0]="Label",e[e.Expense=1]="Expense"}(wt||(wt={}));var Kt=c.a.memo((function(){var e,a=Object(r.useContext)(xa),t=Jt(),n=Object(N.a)(),l=Object(d.a)(n,1)[0],i=c.a.useState(),o=Object(d.a)(i,2),u=o[0],s=o[1],m=c.a.useState(null!==(e=a.groups)&&void 0!==e?e:[]),p=Object(d.a)(m,2),E=p[0],f=p[1],b=c.a.useState(wt.Label),h=Object(d.a)(b,2),O=h[0],g=h[1],v=c.a.useState(),j=Object(d.a)(v,2),y=j[0],S=j[1],T=c.a.useState(!1),k=Object(d.a)(T,2),C=k[0],A=k[1],x=c.a.useCallback((function(e){g(+e.target.value)}),[]),w=c.a.useCallback((function(e){S(e.target.value)}),[]),I=c.a.useCallback((function(e){s(e.target.value)}),[]),L=c.a.useCallback((function(){A(!0),setTimeout((function(){return A(!1)}),5e3),console.log(O,y,u)}),[O,y,u]),M=c.a.useCallback((function(){}),[]),R=c.a.useMemo((function(){return E.map((function(e){return c.a.createElement("option",{key:e.id,value:e.id},e.name)}))}),[E]);c.a.useEffect((function(){var e;a.isLoading||(S(oe(a.group)?null===(e=a.group)||void 0===e?void 0:e.id:void 0),f(a.groups))}),[a.isLoading,a.groups,a.group]);var U=c.a.createElement(_t.a,{container:!0,direction:"row",justify:"space-evenly",alignItems:"center",spacing:1},c.a.createElement(_t.a,{item:!0,xs:4,sm:6},c.a.createElement(ta.a,{component:"fieldset"},c.a.createElement(ht.a,{required:!0,component:"label"},l("EXPENSES.MANAGE.TYPE")),c.a.createElement(dt.a,{"aria-label":"type",name:"type",value:O,onChange:x},c.a.createElement(ft.a,{value:wt.Label,control:c.a.createElement(qt.a,{size:"small"}),label:l("IMPORT_EXPORT.LABEL"),disabled:C}),c.a.createElement(ft.a,{value:wt.Expense,control:c.a.createElement(qt.a,{size:"small"}),label:l("IMPORT_EXPORT.EXPENSE"),disabled:C})))),c.a.createElement(_t.a,{item:!0,xs:8,sm:6},c.a.createElement(ta.a,{className:t.formControl},c.a.createElement(na.a,{htmlFor:"group-select"},l("IMPORT_EXPORT.GROUP")),c.a.createElement(Qa.a,{id:"group-select",defaultValue:y,value:y,onChange:w,disabled:C},R)))),D=c.a.createElement(c.a.Fragment,null,c.a.createElement("form",{className:t.textArea,noValidate:!0,autoComplete:"off"},c.a.createElement(yt.a,{id:"outlined-multiline-static",label:"Date,Name,Value,Label,Incoming/Outcoming",multiline:!0,rows:20,defaultValue:"",variant:"outlined",onChange:I,disabled:C}))),G=c.a.createElement(_t.a,{container:!0,direction:"row",justify:"flex-end",alignItems:"center",spacing:1},c.a.createElement(_t.a,{item:!0},c.a.createElement(V.a,{variant:"contained",color:"primary",startIcon:c.a.createElement(Wt.a,null),onClick:L,disabled:!oe(u)||C,endIcon:C&&c.a.createElement(Le.a,{size:12})},l("IMPORT_EXPORT.IMPORT"))),c.a.createElement(_t.a,{item:!0},c.a.createElement(V.a,{variant:"contained",color:"primary",startIcon:c.a.createElement(Ht.a,null),onClick:M,disabled:!0},l("IMPORT_EXPORT.EXPORT"))));return c.a.createElement("div",null,c.a.createElement(_t.a,{container:!0,spacing:2},c.a.createElement(_t.a,{item:!0,xs:12},U),c.a.createElement(_t.a,{item:!0,xs:12},D),c.a.createElement(_t.a,{item:!0,xs:12},G)))})),Qt=c.a.memo((function(){var e=c.a.useContext(ie).isReady,a=Object(w.g)(),t=Object(w.h)(),n=c.a.useState(ve.get()),r=Object(d.a)(n,1)[0],l=c.a.useState([]),i=Object(d.a)(l,2),o=i[0],u=i[1],s=c.a.useState([(new Date).getFullYear()]),m=Object(d.a)(s,1)[0],p=c.a.useState([]),E=Object(d.a)(p,2),f=E[0],b=E[1],h=c.a.useState(),O=Object(d.a)(h,2),g=O[0],v=O[1],j=c.a.useState((new Date).getMonth()),y=Object(d.a)(j,2),S=y[0],T=y[1],k=c.a.useState((new Date).getFullYear()),x=Object(d.a)(k,2),N=x[0],I=x[1],L=c.a.useState(!1),M=Object(d.a)(L,2),R=M[0],U=M[1];return c.a.useEffect((function(){if(e){var n=JSON.stringify(Ve.a.parse(t.search)),c=JSON.parse(n);U(!0),function(){var e=Object(A.a)(C.a.mark((function e(){var n,l,i,s,m,p,E,d,f,h,O;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(o.length>0)){e.next=4;break}i=o,e.next=13;break;case 4:return e.prev=4,e.next=7,new Be(r).getAll();case 7:i=e.sent,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),i=[];case 13:if(d=localStorage.getItem("group"),u(i),oe(c.group)&&i.some((function(e){return e.id===+c.group}))?m=i.find((function(e){return e.id===+c.group})):oe(d)&&i.some((function(e){return e.id===+d}))?m=i.find((function(e){return e.id===+d})):oe(i)&&(m=i[0]),m===g){e.next=27;break}return e.prev=17,e.next=20,new et(r).getAll(null===(f=m)||void 0===f?void 0:f.id);case 20:s=e.sent,e.next=26;break;case 23:e.prev=23,e.t1=e.catch(17),s=[];case 26:b(s);case 27:v(m),localStorage.setItem("group",null===(n=m)||void 0===n?void 0:n.id.toString()),h=localStorage.getItem("month"),p=oe(c.month)&&c.month>=1&&c.month<=12?c.month:oe(h)&&+h>=1&&+h<=12?+h:(new Date).getMonth(),T(p),localStorage.setItem("month",p.toString()),O=localStorage.getItem("year"),E=oe(c.year)?c.year:oe(O)?+O:(new Date).getFullYear(),I(E),localStorage.setItem("year",E.toString()),a.push({pathname:t.pathname,search:Ve.a.stringify({group:null===(l=m)||void 0===l?void 0:l.id,month:p,year:E})}),U(!1);case 39:case"end":return e.stop()}}),e,null,[[4,10],[17,23]])})));return function(){return e.apply(this,arguments)}}()()}}),[r,t.search,e]),c.a.createElement(c.a.Fragment,null,c.a.createElement(xa.Provider,{value:{isLoading:R,groups:o,labels:f,years:m,group:g,month:S,year:N}},c.a.createElement(w.d,null,c.a.createElement(ze,{key:Ae.groups,path:Ae.groups,component:Aa}),c.a.createElement(ze,{key:Ae.labels,path:Ae.labels,component:ct}),c.a.createElement(ze,{key:Ae.expenses,path:Ae.expenses,component:jt}),c.a.createElement(ze,{key:Ae.settings,path:Ae.settings,component:Pt}),c.a.createElement(ze,{key:Ae.importExport,path:Ae.importExport,component:Kt}),c.a.createElement(w.b,{key:Ae.auth,path:Ae.auth,component:Ut}),c.a.createElement(w.b,{key:Ae.home,exact:!0,path:Ae.home},c.a.createElement(c.a.Fragment,null,c.a.createElement(F.a,{variant:"h3"},"HOME"),c.a.createElement(F.a,{variant:"h6"},"Build Version: ",r.buildVersion))),c.a.createElement(w.b,{key:"*",path:"*"},c.a.createElement("h1",null," 404 ")))))})),Zt=Object(O.a)((function(e){return Object(g.a)({container:{flexGrow:1,marginTop:10}})})),$t=c.a.memo((function(){var e=Object(S.a)("(prefers-color-scheme: dark)"),a=Zt(),t=c.a.useState(ve.get()),n=Object(d.a)(t,1)[0],l=function(){var e=Object(r.useState)((function(){var e=Object(o.auth)().currentUser;return{initialising:!e,user:e}})),a=Object(d.a)(e,2),t=a[0],n=a[1],l=function(e){n({initialising:!1,user:e})};return c.a.useEffect((function(){var e=u.a.auth().onAuthStateChanged(l);return function(){return e()}}),[]),t}(),i=l.user,s=l.initialising,m=c.a.useState(!1),p=Object(d.a)(m,2),E=p[0],b=p[1],O=c.a.useState(),g=Object(d.a)(O,2),k=g[0],C=g[1],A=c.a.useCallback((function(e){console.log(k,!k),C(e)}),[k]);c.a.useEffect((function(){!s&&i&&oe(i)&&i.getIdTokenResult().then((function(e){h.a.defaults.headers.common.Authorization=e.token,new be(n).addOrUpdate({id:i.uid,email:i.email,displayName:i.displayName,photoUrl:i.photoURL}),b(!0)}))}),[i,s,n]);var x=c.a.useMemo((function(){var a=e;return oe(localStorage.getItem("darkTheme"))&&(console.log("localStorage ",oe(localStorage.getItem("darkTheme"))),a=JSON.parse(localStorage.getItem("darkTheme")),C(a)),oe(k)&&k!==a&&(C(a=k),localStorage.setItem("darkTheme",a.toString())),Object(v.a)({palette:{type:a?"dark":"light"},typography:{button:{textTransform:"none"}}})}),[e,k]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(j.a,{theme:x},c.a.createElement(y.a,null),c.a.createElement(ie.Provider,{value:{user:i,initialising:s,isReady:E,isDarkTheme:null!==k&&void 0!==k?k:e,setDarkTheme:A}},c.a.createElement(f.a,{basename:null!=="/myexpenses-ui"?"/myexpenses-ui":void 0},c.a.createElement(Ne,null),c.a.createElement(T.a,{key:"MainContainer",maxWidth:"md",className:a.container},c.a.createElement(Pe,{showLoading:s},c.a.createElement(Qt,null)))))))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var en;!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=new he;a=Object(n.a)(Object(n.a)({},a),{},{buildVersion:ue("48",e.buildVersion,a.buildVersion),apiUrl:ue("https://myexpenses-backend-dev.herokuapp.com",e.apiUrl,a.apiUrl)}),ve.set(Object(n.a)(Object(n.a)({},a),e))}(),Object(o.initializeApp)(Object(n.a)({},{apiKey:"AIzaSyAVfjm2M_d7mmVbD4kOwVWxp57CQZV8jqQ",authDomain:"".concat(en="myexpenses-6e402",".firebaseapp.com"),databaseURL:"https://".concat(en,".firebaseio.com"),projectId:en,storageBucket:en,messagingSenderId:"my-sender-id"})),i.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement($t,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[288,1,2]]]);
//# sourceMappingURL=main.829bf830.chunk.js.map