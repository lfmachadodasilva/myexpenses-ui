(this.webpackJsonpmyexpenses=this.webpackJsonpmyexpenses||[]).push([[0],{156:function(e){e.exports=JSON.parse('{"MONTHS":{"1":"January","2":"February","3":"March","4":"April","5":"May","6":"June","7":"July","8":"August","9":"September","10":"October","11":"November","12":"December"},"HEADER":{"TITLE":"MyExpenses","GROUP":"Group","LABEL":"Label","EXPENSE":"Expense","SETTINGS":"Settings","LOGOUT":"Logout","LOGIN":"Login"},"SEARCH":{"GROUP":"Group","MONTH":"Month","YEAR":"Year","ACTION":"Search","HEADER":"Search by"},"AUTH":{"FACEBOOK":"Facebook","BY_FACEBOOK":"Login by Facebook","EMAIL":"Email","EMAIL_PLACEHOLDER":"Enter email","PASSWORD":"Password","PASSWORD_PLACEHOLDER":"Enter password","LOGIN":"Login","BY_EMAIL":"Login by email","ERROR":"Something went wrong. Try again later."},"GROUP":{"TITLE":"Groups","ADD":"Add new group","ERROR":"Something went wrong. Try again later.","YOU":"You","EDIT":"Edit","DELETE":"Delete","MODAL":{"ADD_TITLE":"Add new group","EDIT_TITLE":"Edit group","ADD_ACTION":"Add","EDIT_ACTION":"Edit","NAME":"Name","NAME_PLACEHOLDER":"Enter name","USERS":"Users"}},"LABEL":{"TITLE":"Labels","ADD":"Add new label","ERROR":"Something went wrong. Try again later.","EDIT":"Edit","DELETE":"Delete","TAB_ITEMS":"Items","TAB_GRAPH":"Graph","CURRENT_MONTH":"This month","LAST_MONTH":"Last month","AVERAGE":"Average","MODAL":{"ADD_TITLE":"Add new label","EDIT_TITLE":"Edit label","ADD_ACTION":"Add","EDIT_ACTION":"Edit","NAME":"Name","NAME_PLACEHOLDER":"Enter name"}},"EXPENSE":{"TITLE":"Expenses","ADD":"Add new expense","ERROR":"Something went wrong. Try again later.","EDIT":"Edit","DELETE":"Delete","SUMMARY":"Summary","INCOMING":"Incoming","OUTCOMING":"Outcoming","VALUE":"Value","DATE":"Date","LABEL":"Label","DATE_FORMAT":"dd/MM/yy","FIELD_DATE_FORMAT":"yyyy-MM-dd","TOTAL_INCOMING":"Total incoming","TOTAL_OUTCOMING":"Total outcoming","TOTAL_LEFT":"Total left","MODAL":{"ADD_TITLE":"Add new expense","EDIT_TITLE":"Edit expense","ADD_ACTION":"Add","EDIT_ACTION":"Edit","NAME":"Name","VALUE":"Value","DATE":"Date","LABEL":"Label","COMMENTS":"Comments","NAME_PLACEHOLDER":"Enter name","VALUE_PLACEHOLDER":"Enter value","COMMENTS_PLACEHOLDER":"Enter comments"}}}')},169:function(e,t,a){e.exports=a(321)},183:function(e,t,a){},321:function(e,t,a){"use strict";a.r(t);var n=a(29),r=a(0),c=a.n(r),u=a(39),i=a.n(u),o=a(155);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var s=a(126),l=a(82),m={en:{translation:a(156)}};s.a.use(l.e).init({resources:m,lng:"en",fallbackLng:"en",interpolation:{escapeValue:!1}});s.a,a(183);var p,E=a(19),f=a(32),d=a(123),b=a.n(d),h=function(e){return null!==e&&void 0!==e&&("string"!==typeof e&&!Array.isArray(e)||e.length>0)},v=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.find((function(e){return h(e)}))};!function(e){e.FIREBASE="FIREBASE",e.LOCAL_STORAGE="LOCAL_STORAGE",e.TOTAL_FAKE="TOTAL_FAKE",e.TEST_API="TEST_API"}(p||(p={}));var O=function e(){Object(E.a)(this,e),this.apiUrl="TOTAL_FAKE",this.buildVersion="local",this.requestDelay=1e3,this.firebaseApiKey="AIzaSyDMDE7eTQbjwkQglMJf5KnFtMr48-pAoVM",this.firebaseProject="lfmachadodasilva-dev",this.useHashRouter=!0},g=function(){function e(){Object(E.a)(this,e)}return Object(f.a)(e,null,[{key:"get",value:function(){var e=b.a.get("ApplicationConfiguration"),t=new O;return Object.assign(t,e),t}}]),e}();g.set=function(e){b.a.set({ApplicationConfiguration:e},{freeze:!1})};var A=a(5),k=a(74),x=a(20),L=a(37),T=a.n(L),y=a(4),j=a.n(y),R=a(9),S=a(25),C=a(42),N=a(84),w=a(64),D=a(83),I=a(327),U=a(12),M=function e(){Object(E.a)(this,e)};M.home="/",M.auth="/auth",M.settings="/settings",M.group="/group",M.label="/label",M.expense="/expense";var _=c.a.createContext({user:null,initialising:!1,isReady:!1}),G=a(47),F=a.n(G),B=(a(204),new G.auth.FacebookAuthProvider),H=function(){var e=Object(R.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(G.auth)().signInWithPopup(B);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),console.error(e.t0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(R.a)(j.a.mark((function e(t,a){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(G.auth)().signInWithEmailAndPassword(t,a);case 3:e.next=9;break;case 5:throw e.prev=5,e.t0=e.catch(0),console.error(e.t0),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,a){return e.apply(this,arguments)}}(),V=function(e){var t,a;return h(e)?h(e.displayName)?null===(a=e.displayName)||void 0===a?void 0:a.split(" ")[0]:null===(t=e.email)||void 0===t?void 0:t.split("@")[0]:""};function K(){var e=Object(S.a)(["\n    .navbar-brand {\n        cursor: pointer;\n    };\n"]);return K=function(){return e},e}var X=Object(x.b)(K()),z=c.a.memo((function(e){var t=Object(r.useContext)(_),a=t.user,n=t.initialising,u=Object(U.g)(),i=Object(I.a)(),o=Object(A.a)(i,1)[0],s=c.a.useState(!1),l=Object(A.a)(s,2),m=l[0],p=l[1],E=c.a.useCallback((function(e){p(e)}),[]),f=c.a.useCallback((function(e){p(!1),h(u.location.search)?u.push({pathname:e,search:u.location.search}):u.push(e)}),[u]),d=c.a.useCallback(Object(R.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F.a.auth().signOut();case 2:setTimeout((function(){return u.push(M.home)}));case 3:case"end":return e.stop()}}),e)}))),[u]),b=c.a.useMemo((function(){if(h(a)){var e=V(a);return c.a.createElement(C.a,null,c.a.createElement(D.a,{title:e,id:"collasible-nav-dropdown"},c.a.createElement(D.a.Item,{onClick:function(){return f(M.settings)}},o("HEADER.SETTINGS")),c.a.createElement(D.a.Divider,null),c.a.createElement(D.a.Item,{onClick:d},o("HEADER.LOGOUT"))))}return c.a.createElement(C.a,null,c.a.createElement(C.a.Link,{onClick:function(){return f(M.auth)}},o("HEADER.LOGIN")))}),[a,f,d,o]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(X,null),c.a.createElement(N.a,{bg:"dark",variant:"dark",expand:"sm",onToggle:E,expanded:m},c.a.createElement(w.a,null,c.a.createElement(N.a.Brand,{onClick:function(){return f(M.home)}},o("HEADER.TITLE")),c.a.createElement(N.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),c.a.createElement(N.a.Collapse,{id:"responsive-navbar-nav",className:"mr-auto "},c.a.createElement(C.a,{className:"mr-auto"},c.a.createElement(C.a.Link,{onClick:function(){return f(M.group)}},o("HEADER.GROUP")),c.a.createElement(C.a.Link,{onClick:function(){return f(M.label)}},o("HEADER.LABEL")),c.a.createElement(C.a.Link,{onClick:function(){return f(M.expense)}},o("HEADER.EXPENSE"))),!n&&b))))}));function Y(){var e=Object(S.a)(["\n  body {\n    background: ",";\n    color: ",";\n  };\n\n  .card {\n    background: ",";\n    color: ",";\n    border-color:",";\n  };\n  .card-header {\n    background: ",";\n    color: ",";\n    border-color:",";\n  };\n\n  .form-control {\n    background-color: ",";\n    color: ",";\n  };\n\n  .modal-content {\n    background-color: ",";\n    border-color:",";\n  };\n  .modal-header {\n    background-color: ",";\n    border-color:",";\n  };\n  .modal-body {\n    background-color: ",";\n    border-color:",";\n  };\n  .modal-footer {\n    background-color: ",";\n    border-color:",";\n  };\n  .close {\n    background-color: ",";\n    color: ",";\n    border-color:",";\n    text-shadow: none;\n  };\n\n  .nav-tabs .nav-link.active, .nav-tabs .nav-item.show .nav-link  {\n      background-color: ",";\n      color: ",";\n      border-color: ",";\n  };\n  "]);return Y=function(){return e},e}var q=Object(x.b)(Y(),(function(e){return e.theme.body}),(function(e){return e.theme.text}),(function(e){return e.theme.body}),(function(e){return e.theme.text}),(function(e){return e.theme.toggleBorder}),(function(e){return e.theme.body}),(function(e){return e.theme.text}),(function(e){return e.theme.toggleBorder}),(function(e){return e.theme.body}),(function(e){return e.theme.text}),(function(e){return e.theme.body}),(function(e){return e.theme.toggleBorder}),(function(e){return e.theme.body}),(function(e){return e.theme.toggleBorder}),(function(e){return e.theme.body}),(function(e){return e.theme.toggleBorder}),(function(e){return e.theme.body}),(function(e){return e.theme.toggleBorder}),(function(e){return e.theme.body}),(function(e){return e.theme.text}),(function(e){return e.theme.toggleBorder}),(function(e){return e.theme.body}),(function(e){return e.theme.text}),(function(e){return e.theme.toggleBorder})),J={body:"#363537",text:"#FAFAFA",toggleBorder:"#646464",gradient:"linear-gradient(#091236, #1E215D)"},W=a(78),Q=a.n(W),$=a(46),Z=a(24),ee=a(104),te=a(10),ae=a(22),ne=c.a.memo((function(e){return h(e.message)?c.a.createElement("div",{className:"alert alert-danger",role:"alert"},e.message):c.a.createElement(c.a.Fragment,null)}));function re(){var e=Object(S.a)([""]);return re=function(){return e},e}var ce=Object(x.b)(re()),ue=c.a.memo((function(e){var t=Object(I.a)(),a=Object(A.a)(t,1)[0],n=Object(U.g)(),r=c.a.useState(!1),u=Object(A.a)(r,2),i=u[0],o=u[1],s=c.a.useState(""),l=Object(A.a)(s,2),m=l[0],p=l[1],E=c.a.useState(""),f=Object(A.a)(E,2),d=f[0],b=f[1],h=c.a.useState(""),v=Object(A.a)(h,2),O=v[0],g=v[1],k=c.a.useCallback(Object(R.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),p(""),e.prev=2,e.next=5,H();case 5:setTimeout((function(){return n.push(M.home)})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),p(a("AUTH.ERROR"));case 11:return e.prev=11,o(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[2,8,11,14]])}))),[n,a]),x=c.a.useCallback((function(e){b(e.target.value)}),[]),L=c.a.useCallback((function(e){g(e.target.value)}),[]),T=c.a.useCallback(Object(R.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),p(""),e.prev=2,e.next=5,P(d,O);case 5:setTimeout((function(){return n.push(M.home)})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),p(a("AUTH.ERROR"));case 11:return e.prev=11,o(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[2,8,11,14]])}))),[d,O,n,a]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(ce,null),c.a.createElement(w.a,{className:"p-4"},c.a.createElement(ne,{message:m}),c.a.createElement(ee.a,null,c.a.createElement($.a,{className:"p-1",xs:12,sm:6},c.a.createElement(ae.a,{className:"p-4"},c.a.createElement(ae.a.Title,null,a("AUTH.BY_FACEBOOK")),c.a.createElement(ae.a.Body,null,c.a.createElement(Z.a,{onClick:k},a("AUTH.FACEBOOK"))))),c.a.createElement($.a,{className:"p-1",xs:12,sm:6},c.a.createElement(ae.a,{className:"p-4"},c.a.createElement(ae.a.Title,null,a("AUTH.BY_EMAIL")),c.a.createElement(ae.a.Body,null,c.a.createElement(te.a,null,c.a.createElement(te.a.Group,{controlId:"formBasicEmail"},c.a.createElement(te.a.Label,null,a("AUTH.EMAIL")),c.a.createElement(te.a.Control,{type:"email",placeholder:a("AUTH.EMAIL_PLACEHOLDER"),onChange:x})),c.a.createElement(te.a.Group,{controlId:"formBasicPassword"},c.a.createElement(te.a.Label,null,a("AUTH.PASSWORD")),c.a.createElement(te.a.Control,{type:"password",placeholder:a("AUTH.PASSWORD_PLACEHOLDER"),onChange:L})),c.a.createElement(Z.a,{variant:"primary",onClick:T,disabled:i},a("AUTH.LOGIN")))))))))})),ie=a(57),oe=a(105),se=c.a.memo((function(e){return c.a.createElement("div",{className:"d-flex justify-content-between mb-2"},c.a.createElement("h4",null,e.title),c.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:e.onAction},e.action))})),le=c.a.memo((function(e){return e.isLoading?c.a.createElement("div",{className:"m-2 text-center"},c.a.createElement("div",{className:"spinner-border",role:"status"},c.a.createElement("span",{className:"sr-only"},"Loading..."))):c.a.createElement(c.a.Fragment,null,e.children)})),me=a(110),pe=a(163),Ee=c.a.createContext({isLoading:!0,groups:[],years:[],group:0,month:0,year:0});function fe(){var e=Object(S.a)(["\n    .search-component {\n        .card-header {\n            padding: 5px;\n            border: none;\n        }\n        .card-body {\n            padding-top: 0;\n            padding-bottom: 0;\n            padding-right: 10px;\n            padding-left: 10px;\n        }\n        .search-header {\n            margin: 0px;\n        }\n    }\n"]);return fe=function(){return e},e}var de,be=Object(x.b)(fe()),he=c.a.memo((function(e){var t=Object(I.a)(),a=Object(A.a)(t,1)[0],n=Object(U.g)(),u=Object(r.useContext)(Ee),i=c.a.useState([1,2,3,4,5,6,7,8,9,10,11,12]),o=Object(A.a)(i,1)[0],s=c.a.useState(u.group),l=Object(A.a)(s,2),m=l[0],p=l[1],E=c.a.useState(u.month),f=Object(A.a)(E,2),d=f[0],b=f[1],h=c.a.useState(u.year),v=Object(A.a)(h,2),O=v[0],g=v[1],k=c.a.useState(!1),x=Object(A.a)(k,2),L=x[0],T=x[1];c.a.useEffect((function(){p(u.group),b(u.month),g(u.year)}),[u.group,u.month,u.year]);var y=c.a.useCallback((function(e){p(e.target.value)}),[]),j=c.a.useCallback((function(e){b(e.target.value)}),[]),R=c.a.useCallback((function(e){g(e.target.value)}),[]),S=c.a.useCallback((function(){n.push({pathname:n.location.pathname,search:Q.a.stringify({group:m,month:d,year:O})})}),[n,m,d,O]),C=c.a.useCallback((function(){T(!L)}),[L]),N=c.a.useMemo((function(){return u.groups.map((function(e){return c.a.createElement("option",{key:"GROUP_"+e.id,value:e.id},e.name)}))}),[u.groups]),w=c.a.useMemo((function(){return o.map((function(e){return c.a.createElement("option",{key:"MONTH_"+e,value:e},a("MONTHS."+e))}))}),[o,a]),D=c.a.useMemo((function(){return u.years.map((function(e){return c.a.createElement("option",{key:"YEAR_"+e,value:e},e)}))}),[u.years]),M=c.a.useMemo((function(){if(u.isLoading)return c.a.createElement("div",{className:"text-center"},c.a.createElement(pe.a,{"data-testid":"search-loading",animation:"border",role:"status",size:"sm"},c.a.createElement("span",{className:"sr-only"},"Loading...")));if(L)return c.a.createElement("strong",null,c.a.createElement("p",{className:"search-header"},a("SEARCH.HEADER")));var e=u.groups.find((function(e){return e.id===m}));return c.a.createElement("div",{className:"d-flex justify-content-around"},c.a.createElement("p",{className:"search-header"},null===e||void 0===e?void 0:e.name),c.a.createElement("p",{className:"search-header"},a("MONTHS."+d)),c.a.createElement("p",{className:"search-header"},O))}),[L,u.isLoading,u.groups,m,d,O,a]);return c.a.createElement("div",{className:"search-component mb-2"},c.a.createElement(be,null),c.a.createElement(me.a,null,c.a.createElement(ae.a,null,c.a.createElement(ae.a.Header,null,c.a.createElement(me.a.Toggle,{as:ae.a.Header,eventKey:"0",onClick:C},M)),c.a.createElement(me.a.Collapse,{eventKey:"0"},c.a.createElement(ae.a.Body,null,c.a.createElement(ee.a,null,c.a.createElement($.a,{xs:12,sm:5},c.a.createElement(te.a.Group,null,c.a.createElement(te.a.Label,null,a("SEARCH.GROUP")),c.a.createElement(te.a.Control,{as:"select",size:"sm",value:m,onChange:y},N))),c.a.createElement($.a,{xs:12,sm:4},c.a.createElement(te.a.Group,null,c.a.createElement(te.a.Label,null,a("SEARCH.MONTH")),c.a.createElement(te.a.Control,{as:"select",size:"sm",value:d,onChange:j},w))),c.a.createElement($.a,{xs:12,sm:3},c.a.createElement(te.a.Group,null,c.a.createElement(te.a.Label,null,a("SEARCH.YEAR")),c.a.createElement(te.a.Control,{as:"select",size:"sm",value:O,onChange:R},D)))),c.a.createElement("div",{className:"d-flex justify-content-end"},c.a.createElement(Z.a,{className:"mb-2",onClick:S,size:"sm"},"Search")))))))}));!function(e){e[e.INCOMING=1]="INCOMING",e[e.OUTCOMING=2]="OUTCOMING"}(de||(de={}));var ve,Oe=a(50),ge=a(49),Ae=[{id:"1",displayName:"User 1",email:"user1@email.com"},{id:"2",displayName:"User 2",email:"user2@email.com"},{id:"3",displayName:"User 3",email:"user3@email.com"},{id:"4",displayName:"User 4",email:"user4@email.com"},{id:"5",displayName:"User 5",email:"user5@email.com"}],ke=[{id:1,name:"Group 1",users:Ae.map((function(e){return e.id}))},{id:2,name:"Group 2",users:Ae.map((function(e){return e.id}))},{id:3,name:"Group 3",users:Ae.map((function(e){return e.id}))},{id:4,name:"Group 4",users:Ae.map((function(e){return e.id}))}],xe=[{id:1,name:"Group 1",users:Ae},{id:2,name:"Group 2",users:Ae},{id:3,name:"Group 3",users:Ae},{id:4,name:"Group 4",users:Ae}],Le=[{id:1,name:"Label 1",groupId:1},{id:2,name:"Label 2",groupId:1},{id:3,name:"Label 3",groupId:2},{id:4,name:"Label 4",groupId:2}],Te=[{id:1,name:"Label 1",groupId:1,currValue:1.11,lastValue:5,avgValue:6.33},{id:2,name:"Label 2",groupId:1,currValue:2.11,lastValue:4,avgValue:5.33},{id:3,name:"Label 3",groupId:2,currValue:3.11,lastValue:3,avgValue:4.33},{id:4,name:"Label 4",groupId:2,currValue:4.11,lastValue:2,avgValue:3.33}],ye=[{id:1,name:"Expense 1",type:de.OUTCOMING,value:1.11,date:new Date(2020,0,1),comments:"Comments 1",groupId:ke[0].id,labelId:Le[0].id},{id:2,name:"Expense 2",type:de.OUTCOMING,value:2.11,date:new Date,comments:"Comments 2",groupId:ke[0].id,labelId:Le[1].id},{id:3,name:"Expense 3",type:de.INCOMING,value:3.11,date:new Date,comments:"Comments 3",groupId:ke[0].id,labelId:Le[2].id},{id:4,name:"Expense 4",type:de.INCOMING,value:4.11,date:new Date,comments:"Comments 3",groupId:ke[0].id,labelId:Le[3].id}],je=[{id:1,name:"Expense 1",type:de.OUTCOMING,value:1.11,date:new Date(2020,0,1),comments:"Comments 1",groupId:ke[0].id,label:Le[0]},{id:2,name:"Expense 2",type:de.OUTCOMING,value:2.11,date:new Date,comments:"Comments 2",groupId:ke[0].id,label:Le[1]},{id:3,name:"Expense 3",type:de.INCOMING,value:3.11,date:new Date,comments:"Comments 3",groupId:ke[0].id,label:Le[2]},{id:4,name:"Expense 4",type:de.INCOMING,value:4.11,date:new Date,comments:"Comments 4",groupId:ke[0].id,label:Le[3]}],Re=[2015,2016,2017,2018,2019,2020];!function(e){e[e.OK=200]="OK",e[e.ERROR=500]="ERROR"}(ve||(ve={}));var Se=function(){var e=Object(R.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.response&&t.response.status>=ve.OK&&(console.error("Request Failed:",t.config),console.error("Status:",t.response.status),console.error("Data:",t.response.data),console.error("Headers:",t.response.headers)),e.abrupt("return",Promise.reject(t));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ce=function(){function e(t){Object(E.a)(this,e),this.config=t}return Object(f.a)(e,[{key:"resolveMockData",value:function(){var e=Object(R.a)(j.a.mark((function e(t){var a=this;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){setTimeout((function(){e(t)}),a.config.requestDelay)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"rejectMockData",value:function(){var e=Object(R.a)(j.a.mark((function e(){var t=this;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){setTimeout((function(){a()}),t.config.requestDelay)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"get",value:function(){var e=Object(R.a)(j.a.mark((function e(t,a){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.a.get(t,{baseURL:this.config.apiUrl,withCredentials:!0,headers:{Accept:"application/json; charset=utf=8",Authorization:"Bearer "+T.a.defaults.headers.common.Authorization},params:a});case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Se(e.t0));case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"post",value:function(){var e=Object(R.a)(j.a.mark((function e(t,a,n){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.a.post(t,n,{baseURL:this.config.apiUrl,withCredentials:!0,headers:{Accept:"application/json; charset=utf=8",Authorization:"Bearer "+T.a.defaults.headers.common.Authorization},params:a});case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Se(e.t0));case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"put",value:function(){var e=Object(R.a)(j.a.mark((function e(t,a,n){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.a.put(t,n,{baseURL:this.config.apiUrl,withCredentials:!0,headers:{Accept:"application/json; charset=utf=8",Authorization:"Bearer "+T.a.defaults.headers.common.Authorization},params:a});case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Se(e.t0));case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(R.a)(j.a.mark((function e(t){var a;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.a.delete(t,{baseURL:this.config.apiUrl,withCredentials:!0,headers:{Accept:"application/json; charset=utf=8",Authorization:"Bearer "+T.a.defaults.headers.common.Authorization}});case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Se(e.t0));case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Ne=function(e){Object(Oe.a)(a,e);var t=Object(ge.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).config=e,n.baseUrl="/api/expense",n}return Object(f.a)(a,[{key:"getYears",value:function(){var e=Object(R.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config.apiUrl!==p.FIREBASE){e.next=3;break}e.next=8;break;case 3:if(this.config.apiUrl!==p.LOCAL_STORAGE){e.next=6;break}e.next=8;break;case 6:if(this.config.apiUrl!==p.TOTAL_FAKE){e.next=8;break}return e.abrupt("return",this.resolveMockData(Re));case 8:return e.next=10,this.get(this.baseUrl+"/years");case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAllFull",value:function(){var e=Object(R.a)(j.a.mark((function e(t,a,n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config.apiUrl!==p.FIREBASE){e.next=3;break}e.next=8;break;case 3:if(this.config.apiUrl!==p.LOCAL_STORAGE){e.next=6;break}e.next=8;break;case 6:if(this.config.apiUrl!==p.TOTAL_FAKE){e.next=8;break}return e.abrupt("return",this.resolveMockData(je));case 8:return e.next=10,this.get(this.baseUrl+"/full",{group:t,month:a,year:n});case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"getAll",value:function(){var e=Object(R.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config.apiUrl!==p.FIREBASE){e.next=3;break}e.next=8;break;case 3:if(this.config.apiUrl!==p.LOCAL_STORAGE){e.next=6;break}e.next=8;break;case 6:if(this.config.apiUrl!==p.TOTAL_FAKE){e.next=8;break}return e.abrupt("return",this.resolveMockData(ye));case 8:return e.next=10,this.get(this.baseUrl);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Object(R.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config.apiUrl!==p.FIREBASE){e.next=3;break}e.next=8;break;case 3:if(this.config.apiUrl!==p.LOCAL_STORAGE){e.next=6;break}e.next=8;break;case 6:if(this.config.apiUrl!==p.TOTAL_FAKE){e.next=8;break}return e.abrupt("return",this.resolveMockData(ye[0]));case 8:return e.next=10,this.post(this.baseUrl,{},t);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=Object(R.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config.apiUrl!==p.FIREBASE){e.next=3;break}e.next=8;break;case 3:if(this.config.apiUrl!==p.LOCAL_STORAGE){e.next=6;break}e.next=8;break;case 6:if(this.config.apiUrl!==p.TOTAL_FAKE){e.next=8;break}return e.abrupt("return",this.resolveMockData(void 0));case 8:return e.next=10,this.put(this.baseUrl,{},t);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"remove",value:function(){var e=Object(R.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config.apiUrl!==p.FIREBASE){e.next=3;break}e.next=8;break;case 3:if(this.config.apiUrl!==p.LOCAL_STORAGE){e.next=6;break}e.next=8;break;case 6:if(this.config.apiUrl!==p.TOTAL_FAKE){e.next=8;break}return e.abrupt("return",this.resolveMockData(void 0));case 8:return e.next=10,this.delete(this.baseUrl+"/"+t);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),a}(Ce),we=a(326),De=a(164),Ie=a(26),Ue=c.a.memo((function(e){var t=Object(I.a)(),a=Object(A.a)(t,1)[0];return c.a.createElement("div",{className:"item-component"},c.a.createElement(ae.a,{key:"".concat(e.id,"_").concat(e.name),className:"mb-1"},c.a.createElement(ae.a.Title,{className:"mt-2 mr-2 ml-2 mb-0"},c.a.createElement("div",{className:"d-flex justify-content-between"},e.name,c.a.createElement(De.a,{size:"sm",variant:"secondary",title:"",id:"menu-".concat(e.id)},c.a.createElement(Ie.a.Item,{eventKey:"1",onClick:function(){return e.onEdit(e.id)}},a("LABEL.EDIT")),c.a.createElement(Ie.a.Divider,null),c.a.createElement(Ie.a.Item,{eventKey:"2",onClick:function(){return e.onDelete(e.id)}},a("LABEL.DELETE"))))),c.a.createElement(ae.a.Body,{className:"p-2"},e.children)))})),Me=c.a.memo((function(e){var t=Object(I.a)(),a=Object(A.a)(t,1)[0];return c.a.createElement(c.a.Fragment,null,e.items.map((function(t){return c.a.createElement(Ue,{key:t.id,id:t.id,name:t.name,onEdit:function(){return e.onEdit(t.id)},onDelete:function(){return e.onDelete(t.id)}},c.a.createElement("div",{className:"d-flex justify-content-between"},c.a.createElement("p",{className:"no-margin"},c.a.createElement("small",null,a("EXPENSE.VALUE")),c.a.createElement("br",null),t.value.toFixed(2)),c.a.createElement("p",{className:"no-margin"},c.a.createElement("small",null,a("EXPENSE.DATE")),c.a.createElement("br",null),Object(we.a)(new Date(t.date),a("EXPENSE.DATE_FORMAT"))),c.a.createElement("p",{className:"no-margin"},c.a.createElement("small",null,a("EXPENSE.LABEL")),c.a.createElement("br",null),t.label.name)))})))})),_e=c.a.memo((function(e){var t=Object(I.a)(),a=Object(A.a)(t,1)[0],n=e.incoming,r=e.outcoming,u=c.a.useState(0),i=Object(A.a)(u,2),o=i[0],s=i[1],l=c.a.useState(0),m=Object(A.a)(l,2),p=m[0],E=m[1],f=c.a.useState(0),d=Object(A.a)(f,2),b=d[0],h=d[1],v=c.a.useState(0),O=Object(A.a)(v,2),g=O[0],k=O[1];return c.a.useEffect((function(){var e=n.reduce((function(e,t){return e+t.value}),0),t=r.reduce((function(e,t){return e+t.value}),0);s(e),E(t);var a=e-t;h(a),k(a/e*100)}),[n,r]),c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"mt-2 row"},c.a.createElement("div",{className:"col"},c.a.createElement("p",null,a("EXPENSE.TOTAL_INCOMING"))),c.a.createElement("div",{className:"col"},o.toFixed(2))),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col"},c.a.createElement("p",null,a("EXPENSE.TOTAL_OUTCOMING"))),c.a.createElement("div",{className:"col"},p.toFixed(2))),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col"},c.a.createElement("p",null,a("EXPENSE.TOTAL_LEFT"))),c.a.createElement("div",{className:"col"},"".concat(b.toFixed(2)," - ").concat(g.toFixed(2),"%"))))})),Ge=a(18),Fe=function(e){Object(Oe.a)(a,e);var t=Object(ge.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).config=e,n.baseUrl="/api/label",n}return Object(f.a)(a,[{key:"getAllFull",value:function(){var e=Object(R.a)(j.a.mark((function e(t,a,n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config.apiUrl!==p.FIREBASE){e.next=3;break}e.next=8;break;case 3:if(this.config.apiUrl!==p.LOCAL_STORAGE){e.next=6;break}e.next=8;break;case 6:if(this.config.apiUrl!==p.TOTAL_FAKE){e.next=8;break}return e.abrupt("return",this.resolveMockData(Te));case 8:return e.next=10,this.get(this.baseUrl+"/full",{group:t,month:a,year:n});case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"getAll",value:function(){var e=Object(R.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config.apiUrl!==p.FIREBASE){e.next=3;break}e.next=8;break;case 3:if(this.config.apiUrl!==p.LOCAL_STORAGE){e.next=6;break}e.next=8;break;case 6:if(this.config.apiUrl!==p.TOTAL_FAKE){e.next=8;break}return e.abrupt("return",this.resolveMockData(Le));case 8:return e.next=10,this.get(this.baseUrl);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Object(R.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config.apiUrl!==p.FIREBASE){e.next=3;break}e.next=8;break;case 3:if(this.config.apiUrl!==p.LOCAL_STORAGE){e.next=6;break}e.next=8;break;case 6:if(this.config.apiUrl!==p.TOTAL_FAKE){e.next=8;break}return e.abrupt("return",this.resolveMockData(Le[0]));case 8:return e.next=10,this.post(this.baseUrl,{},t);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=Object(R.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config.apiUrl!==p.FIREBASE){e.next=3;break}e.next=8;break;case 3:if(this.config.apiUrl!==p.LOCAL_STORAGE){e.next=6;break}e.next=8;break;case 6:if(this.config.apiUrl!==p.TOTAL_FAKE){e.next=8;break}return e.abrupt("return",this.resolveMockData(void 0));case 8:return e.next=10,this.put(this.baseUrl,{},t);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"remove",value:function(){var e=Object(R.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config.apiUrl!==p.FIREBASE){e.next=3;break}e.next=8;break;case 3:if(this.config.apiUrl!==p.LOCAL_STORAGE){e.next=6;break}e.next=8;break;case 6:if(this.config.apiUrl!==p.TOTAL_FAKE){e.next=8;break}return e.abrupt("return",this.resolveMockData(void 0));case 8:return e.next=10,this.delete(this.baseUrl+"/"+t);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),a}(Ce),Be=c.a.memo((function(e){var t=Object(I.a)(),a=Object(A.a)(t,1)[0],u=Object(r.useContext)(Ee).group,i=c.a.useState(""),o=Object(A.a)(i,2),s=o[0],l=o[1],m=c.a.useState(g.get()),p=Object(A.a)(m,1)[0],E=c.a.useState(""),f=Object(A.a)(E,2),d=f[0],b=f[1],v=c.a.useState(),O=Object(A.a)(v,2),k=O[0],x=O[1],L=c.a.useState(new Date),T=Object(A.a)(L,2),y=T[0],S=T[1],C=c.a.useState(),N=Object(A.a)(C,2),w=N[0],D=N[1],U=c.a.useState([]),M=Object(A.a)(U,2),_=M[0],G=M[1],F=c.a.useState(!1),B=Object(A.a)(F,2),H=B[0],P=B[1],V=c.a.useState(""),K=Object(A.a)(V,2),X=K[0],z=K[1],Y=c.a.useState(!1),q=Object(A.a)(Y,2),J=q[0],W=q[1],Q=c.a.useCallback((function(e){b(e.target.value)}),[]),$=c.a.useCallback((function(e){x(e.target.value)}),[]),ee=c.a.useCallback((function(e){S(e.target.value)}),[]),ae=c.a.useCallback((function(e){D(e.target.value)}),[]),re=c.a.useCallback((function(e){z(e.target.value)}),[]),ce=c.a.useCallback(Object(R.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(W(!0),!h(e.expense)){t.next=16;break}return t.prev=2,t.next=5,new Ne(p).update(Object(n.a)(Object(n.a)({},e.expense),{},{name:d,value:k,date:y,labelId:w,comments:X}));case 5:e.onAction(),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(2),l(a("EXPENSE.ERROR"));case 11:return t.prev=11,W(!1),t.finish(11);case 14:t.next=29;break;case 16:return W(!0),t.prev=17,t.next=20,new Ne(p).add({name:d,value:k,date:y,labelId:w,comments:X,groupId:u});case 20:e.onAction(),t.next=26;break;case 23:t.prev=23,t.t1=t.catch(17),l(a("EXPENSE.ERROR"));case 26:return t.prev=26,W(!1),t.finish(26);case 29:case"end":return t.stop()}}),t,null,[[2,8,11,14],[17,23,26,29]])}))),[d,k,y,w,X,a,p,e,u]);c.a.useEffect((function(){var t,a,n,r,c;e.show&&(e.expense?(b(null===(t=e.expense)||void 0===t?void 0:t.name),x(null===(a=e.expense)||void 0===a?void 0:a.value),S(null===(n=e.expense)||void 0===n?void 0:n.date),D(null===(r=e.expense)||void 0===r?void 0:r.label.id),z(null===(c=e.expense)||void 0===c?void 0:c.comments)):(b(""),x(void 0),S(new Date),D(_.length>0?_[0].id:void 0),z("")))}),[e,_]),c.a.useEffect((function(){(function(){var e=Object(R.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(!0),l(""),e.prev=2,e.next=5,new Fe(p).getAll(u);case 5:t=e.sent,G(t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),l(a("EXPENSE.ERROR"));case 12:return e.prev=12,P(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[2,9,12,15]])})));return function(){return e.apply(this,arguments)}})()()}),[a,p,u]);var ue=c.a.useMemo((function(){return!(!(J||H||h(s))&&h(d)&&h(k)&&h(y)&&h(w))}),[s,d,k,y,w,J,H]),ie=c.a.useMemo((function(){return _.map((function(e){return c.a.createElement("option",{key:e.id,value:e.id},e.name)}))}),[_]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ge.a,{show:e.show,onHide:e.onHide,size:"lg",centered:!0},c.a.createElement(Ge.a.Header,{closeButton:!0},c.a.createElement(Ge.a.Title,null,h(e.expense)?a("EXPENSE.MODAL.EDIT_TITLE"):a("EXPENSE.MODAL.ADD_TITLE"))),c.a.createElement(Ge.a.Body,null,c.a.createElement(ne,{message:s}),c.a.createElement(te.a,null,c.a.createElement(te.a.Group,{controlId:"formName"},c.a.createElement(te.a.Label,null,a("EXPENSE.MODAL.NAME")),c.a.createElement(te.a.Control,{"data-testid":"expense-name-field",type:"text",value:d,placeholder:a("EXPENSE.MODAL.NAME_PLACEHOLDER"),onChange:Q})),c.a.createElement(te.a.Group,{controlId:"formValue"},c.a.createElement(te.a.Label,null,a("EXPENSE.MODAL.VALUE")),c.a.createElement(te.a.Control,{"data-testid":"expense-value-field",type:"number",value:null!==k&&void 0!==k?k:"",placeholder:a("EXPENSE.MODAL.VALUE_PLACEHOLDER"),onChange:$})),c.a.createElement(te.a.Group,{controlId:"formDate"},c.a.createElement(te.a.Label,null,a("EXPENSE.MODAL.DATE")),c.a.createElement(te.a.Control,{"data-testid":"expense-date-field",type:"date",value:Object(we.a)(new Date(y),a("EXPENSE.FIELD_DATE_FORMAT")),onChange:ee})),c.a.createElement(te.a.Group,{controlId:"formLabel"},c.a.createElement(te.a.Label,null,a("EXPENSE.MODAL.LABEL")),c.a.createElement(le,{isLoading:H},c.a.createElement(te.a.Control,{as:"select",value:null!==w&&void 0!==w?w:"",onChange:ae},ie))),c.a.createElement(te.a.Group,{controlId:"formComments"},c.a.createElement(te.a.Label,null,a("EXPENSE.MODAL.COMMENTS")),c.a.createElement(te.a.Control,{"data-testid":"expense-comments-field",as:"textarea",rows:2,value:X,placeholder:a("EXPENSE.MODAL.COMMENTS_PLACEHOLDER"),onChange:re})))),c.a.createElement(Ge.a.Footer,null,c.a.createElement(Z.a,{variant:"primary",onClick:ce,disabled:ue},h(e.expense)?a("EXPENSE.MODAL.EDIT_ACTION"):a("EXPENSE.MODAL.ADD_ACTION")))))}));function He(){var e=Object(S.a)(["\n    .no-margin {\n        margin: 0px;\n    };\n    canvas {\n        max-width: 500px;\n    };\n    .red-text {\n        color: #dc3545;\n    }\n"]);return He=function(){return e},e}var Pe=Object(x.b)(He()),Ve=c.a.memo((function(e){var t=Object(I.a)(),a=Object(A.a)(t,1)[0],n=Object(r.useContext)(Ee),u=c.a.useState(g.get()),i=Object(A.a)(u,1)[0],o=c.a.useState(""),s=Object(A.a)(o,2),l=s[0],m=s[1],p=c.a.useState(!1),E=Object(A.a)(p,2),f=E[0],d=E[1],b=c.a.useState([]),h=Object(A.a)(b,2),v=h[0],O=h[1],k=c.a.useState(),x=Object(A.a)(k,2),L=x[0],T=x[1],y=c.a.useState(!1),S=Object(A.a)(y,2),C=S[0],N=S[1],w=c.a.useState(!1),D=Object(A.a)(w,2),U=D[0],M=D[1];c.a.useEffect((function(){n.isLoading||function(){var e=Object(R.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.prev=1,e.next=4,new Ne(i).getAllFull(n.group,n.month,n.year);case 4:t=e.sent,O(t),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),O([]),m(a("LABEL.ERROR"));case 12:return e.prev=12,d(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,8,12,15]])})));return function(){return e.apply(this,arguments)}}()()}),[n,i,a,U]);var _=c.a.useCallback((function(){T(void 0),N(!0)}),[]),G=c.a.useCallback((function(e){T(v.find((function(t){return t.id===e}))),N(!0)}),[v]),F=c.a.useCallback(function(){var e=Object(R.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new Ne(i).remove(t);case 3:setTimeout((function(){M(!U)}),i.requestDelay),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),m(a("LABEL.ERROR"));case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),[i,a,U]),B=c.a.useCallback((function(){N(!1)}),[]),H=c.a.useCallback((function(){N(!1),setTimeout((function(){M(!U)}),i.requestDelay)}),[i,U]),P=c.a.useMemo((function(){return v.filter((function(e){return e.type===de.INCOMING}))}),[v]),V=c.a.useMemo((function(){return v.filter((function(e){return e.type===de.OUTCOMING}))}),[v]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(Pe,null),c.a.createElement(he,null),c.a.createElement(se,{title:a("EXPENSE.TITLE"),action:a("EXPENSE.ADD"),onAction:_}),c.a.createElement(ne,{message:l}),c.a.createElement(le,{isLoading:f||n.isLoading},c.a.createElement(oe.a,{defaultActiveKey:"summary"},c.a.createElement(ie.a,{eventKey:"summary",title:a("EXPENSE.SUMMARY")},c.a.createElement(_e,{incoming:P,outcoming:V})),c.a.createElement(ie.a,{eventKey:"incoming",title:a("EXPENSE.INCOMING")},c.a.createElement(Me,{items:P,onEdit:G,onDelete:F})),c.a.createElement(ie.a,{eventKey:"outcoming",title:a("EXPENSE.OUTCOMING")},c.a.createElement(Me,{items:V,onEdit:G,onDelete:F})))),c.a.createElement(Be,{show:C,expense:L,onHide:B,onAction:H}))})),Ke=function(e){Object(Oe.a)(a,e);var t=Object(ge.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).config=e,n.baseUrl="/api/group",n}return Object(f.a)(a,[{key:"getAllFull",value:function(){var e=Object(R.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config.apiUrl!==p.FIREBASE){e.next=3;break}e.next=8;break;case 3:if(this.config.apiUrl!==p.LOCAL_STORAGE){e.next=6;break}e.next=8;break;case 6:if(this.config.apiUrl!==p.TOTAL_FAKE){e.next=8;break}return e.abrupt("return",this.resolveMockData(xe));case 8:return e.next=10,this.get(this.baseUrl+"/full",{user:t});case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAll",value:function(){var e=Object(R.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config.apiUrl!==p.FIREBASE){e.next=3;break}e.next=8;break;case 3:if(this.config.apiUrl!==p.LOCAL_STORAGE){e.next=6;break}e.next=8;break;case 6:if(this.config.apiUrl!==p.TOTAL_FAKE){e.next=8;break}return e.abrupt("return",this.resolveMockData(ke));case 8:return e.next=10,this.get(this.baseUrl);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Object(R.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config.apiUrl!==p.FIREBASE){e.next=3;break}e.next=8;break;case 3:if(this.config.apiUrl!==p.LOCAL_STORAGE){e.next=6;break}e.next=8;break;case 6:if(this.config.apiUrl!==p.TOTAL_FAKE){e.next=8;break}return e.abrupt("return",this.resolveMockData(ke[0]));case 8:return e.next=10,this.post(this.baseUrl,{},t);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=Object(R.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config.apiUrl!==p.FIREBASE){e.next=3;break}e.next=8;break;case 3:if(this.config.apiUrl!==p.LOCAL_STORAGE){e.next=6;break}e.next=8;break;case 6:if(this.config.apiUrl!==p.TOTAL_FAKE){e.next=8;break}return e.abrupt("return",this.resolveMockData(void 0));case 8:return e.next=10,this.put(this.baseUrl,{},t);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"remove",value:function(){var e=Object(R.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config.apiUrl!==p.FIREBASE){e.next=3;break}e.next=8;break;case 3:if(this.config.apiUrl!==p.LOCAL_STORAGE){e.next=6;break}e.next=8;break;case 6:if(this.config.apiUrl!==p.TOTAL_FAKE){e.next=8;break}return e.abrupt("return",this.resolveMockData(void 0));case 8:return e.next=10,this.delete(this.baseUrl+"/"+t);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),a}(Ce),Xe=function(e){Object(Oe.a)(a,e);var t=Object(ge.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).config=e,n.baseUrl="/api/user",n}return Object(f.a)(a,[{key:"getAll",value:function(){var e=Object(R.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config.apiUrl!==p.FIREBASE){e.next=3;break}e.next=8;break;case 3:if(this.config.apiUrl!==p.LOCAL_STORAGE){e.next=6;break}e.next=8;break;case 6:if(this.config.apiUrl!==p.TOTAL_FAKE){e.next=8;break}return e.abrupt("return",this.resolveMockData(Ae));case 8:return e.next=10,this.get(this.baseUrl);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Object(R.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config.apiUrl!==p.FIREBASE){e.next=3;break}e.next=8;break;case 3:if(this.config.apiUrl!==p.LOCAL_STORAGE){e.next=6;break}e.next=8;break;case 6:if(this.config.apiUrl!==p.TOTAL_FAKE){e.next=8;break}return e.abrupt("return",this.resolveMockData(Ae[0]));case 8:return e.next=10,this.post(this.baseUrl,{},t);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=Object(R.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config.apiUrl!==p.FIREBASE){e.next=3;break}e.next=8;break;case 3:if(this.config.apiUrl!==p.LOCAL_STORAGE){e.next=6;break}e.next=8;break;case 6:if(this.config.apiUrl!==p.TOTAL_FAKE){e.next=8;break}return e.abrupt("return",this.resolveMockData(void 0));case 8:return e.next=10,this.put(this.baseUrl,{},t);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"remove",value:function(){var e=Object(R.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config.apiUrl!==p.FIREBASE){e.next=3;break}e.next=8;break;case 3:if(this.config.apiUrl!==p.LOCAL_STORAGE){e.next=6;break}e.next=8;break;case 6:if(this.config.apiUrl!==p.TOTAL_FAKE){e.next=8;break}return e.abrupt("return",this.resolveMockData(void 0));case 8:return e.next=10,this.delete(this.baseUrl+"/"+t);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),a}(Ce),ze=c.a.memo((function(e){var t=Object(I.a)(),a=Object(A.a)(t,1)[0],n=Object(r.useContext)(_).user,u=c.a.useState(""),i=Object(A.a)(u,2),o=i[0],s=i[1],l=c.a.useState(g.get()),m=Object(A.a)(l,1)[0],p=c.a.useState(""),E=Object(A.a)(p,2),f=E[0],d=E[1],b=c.a.useState([]),v=Object(A.a)(b,2),O=v[0],k=v[1],x=c.a.useState([]),L=Object(A.a)(x,2),T=L[0],y=L[1],S=c.a.useState(!1),C=Object(A.a)(S,2),N=C[0],w=C[1],D=c.a.useState(!1),U=Object(A.a)(D,2),M=U[0],G=U[1],F=c.a.useCallback((function(e){d(e.target.value)}),[]),B=c.a.useCallback((function(e){k(Array.from(e.target.selectedOptions,(function(e){return e.value})))}),[]),H=c.a.useCallback(Object(R.a)(j.a.mark((function t(){var n;return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(G(!0),!h(e.group)){t.next=16;break}return t.prev=2,t.next=5,new Ke(m).update({id:null===(n=e.group)||void 0===n?void 0:n.id,name:f,users:O});case 5:e.onAction(),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(2),s(a("GROUP.ERROR"));case 11:return t.prev=11,G(!1),t.finish(11);case 14:t.next=29;break;case 16:return G(!0),t.prev=17,t.next=20,new Ke(m).add({name:f,users:O});case 20:e.onAction(),t.next=26;break;case 23:t.prev=23,t.t1=t.catch(17),s(a("GROUP.ERROR"));case 26:return t.prev=26,G(!1),t.finish(26);case 29:case"end":return t.stop()}}),t,null,[[2,8,11,14],[17,23,26,29]])}))),[f,O,a,m,e]);c.a.useEffect((function(){var t,a;e.show&&(e.group?(d(null===(t=e.group)||void 0===t?void 0:t.name),k(null===(a=e.group)||void 0===a?void 0:a.users.map((function(e){return e.id})))):(d(""),k([])))}),[e]),c.a.useEffect((function(){(function(){var e=Object(R.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(!0),s(""),e.prev=2,e.next=5,new Xe(m).getAll();case 5:t=e.sent,y(t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),s(a("GROUP.ERROR"));case 12:return e.prev=12,w(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[2,9,12,15]])})));return function(){return e.apply(this,arguments)}})()()}),[a,m]);var P=c.a.useMemo((function(){return!!M||(!!h(o)||(!h(f)||!h(O)))}),[o,f,O,M]),V=c.a.useMemo((function(){return T.map((function(e){return(null===n||void 0===n?void 0:n.uid)===e.id?c.a.createElement("option",{key:e.id,value:e.id},a("GROUP.YOU")):c.a.createElement("option",{key:e.id,value:e.id},"".concat(e.displayName," (").concat(e.email,")"))}))}),[T,n,a]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ge.a,{show:e.show,onHide:e.onHide,size:"lg",centered:!0},c.a.createElement(Ge.a.Header,{closeButton:!0},c.a.createElement(Ge.a.Title,null,h(e.group)?a("GROUP.MODAL.EDIT_TITLE"):a("GROUP.MODAL.ADD_TITLE"))),c.a.createElement(Ge.a.Body,null,c.a.createElement(ne,{message:o}),c.a.createElement(te.a,null,c.a.createElement(te.a.Group,{controlId:"exampleForm.ControlInput1"},c.a.createElement(te.a.Label,null,a("GROUP.MODAL.NAME")),c.a.createElement(te.a.Control,{"data-testid":"group-name-field",type:"text",value:f,placeholder:a("GROUP.MODAL.NAME_PLACEHOLDER"),onChange:F})),c.a.createElement(te.a.Group,{controlId:"exampleForm.ControlSelect2"},c.a.createElement(te.a.Label,null,a("GROUP.MODAL.USERS")),c.a.createElement(te.a.Control,{"data-testid":"group-users-field",as:"select",multiple:!0,value:O,readOnly:N&&h(o),onChange:B},V)))),c.a.createElement(Ge.a.Footer,null,c.a.createElement(Z.a,{variant:"primary",onClick:H,disabled:P},h(e.group)?a("GROUP.MODAL.EDIT_ACTION"):a("GROUP.MODAL.ADD_ACTION")))))}));function Ye(){var e=Object(S.a)([""]);return Ye=function(){return e},e}var qe,Je=Object(x.b)(Ye()),We=c.a.memo((function(e){var t=Object(I.a)(),a=Object(A.a)(t,1)[0],n=Object(r.useContext)(_).user,u=c.a.useState(g.get()),i=Object(A.a)(u,1)[0],o=c.a.useState(!1),s=Object(A.a)(o,2),l=s[0],m=s[1],p=c.a.useState(),E=Object(A.a)(p,2),f=E[0],d=E[1],b=c.a.useState([]),h=Object(A.a)(b,2),v=h[0],O=h[1],k=c.a.useState(""),x=Object(A.a)(k,2),L=x[0],T=x[1],y=c.a.useState(!1),S=Object(A.a)(y,2),C=S[0],N=S[1],w=c.a.useState(!1),D=Object(A.a)(w,2),U=D[0],M=D[1],G=c.a.useCallback((function(){d(void 0),N(!0)}),[]),F=c.a.useCallback((function(e){d(v.find((function(t){return t.id===e}))),N(!0)}),[v]),B=c.a.useCallback(function(){var e=Object(R.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new Ke(i).remove(t);case 3:setTimeout((function(){M(!U)}),i.requestDelay),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),T(a("GROUP.ERROR"));case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),[i,U,a]),H=c.a.useCallback((function(){N(!1)}),[]),P=c.a.useCallback((function(){N(!1),setTimeout((function(){M(!U)}),i.requestDelay)}),[i,U]);c.a.useEffect((function(){(function(){var e=Object(R.a)(j.a.mark((function e(){var t,r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(!0),e.prev=1,e.next=4,new Ke(i).getAllFull(null!==(t=null===n||void 0===n?void 0:n.uid)&&void 0!==t?t:"");case 4:r=e.sent,O(r),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),O([]),T(a("GROUP.ERROR"));case 12:return e.prev=12,m(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,8,12,15]])})));return function(){return e.apply(this,arguments)}})()()}),[i,n,U,a]);var K=c.a.useMemo((function(){return v.map((function(e,t){return c.a.createElement(Ue,{key:e.id,id:e.id,name:e.name,onEdit:F,onDelete:B},c.a.createElement("div",{key:"GROUP_USERS_".concat(t),className:"d-flex flex-wrap justify-content-start"},e.users.map((function(e,a){return c.a.createElement("small",{key:"GROUP_SMALL_".concat(t,"_").concat(a),className:"mr-2"},V(e))}))))}))}),[v,F,B]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(Je,null),c.a.createElement(se,{title:a("GROUP.TITLE"),action:a("GROUP.ADD"),onAction:G}),c.a.createElement(ne,{message:L}),c.a.createElement(le,{isLoading:l},K),c.a.createElement(ze,{show:C,group:f,onHide:H,onAction:P}))})),Qe=a(165),$e=(a(320),a(166)),Ze=a(68),et=c.a.memo((function(e){var t=Object(I.a)(),a=Object(A.a)(t,1)[0],u=Object(r.useContext)(Ee).group,i=c.a.useState(""),o=Object(A.a)(i,2),s=o[0],l=o[1],m=c.a.useState(g.get()),p=Object(A.a)(m,1)[0],E=c.a.useState(""),f=Object(A.a)(E,2),d=f[0],b=f[1],v=c.a.useState(!1),O=Object(A.a)(v,2),k=O[0],x=O[1],L=c.a.useCallback((function(e){b(e.target.value)}),[]),T=c.a.useCallback(Object(R.a)(j.a.mark((function t(){return j.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(x(!0),!h(e.label)){t.next=16;break}return t.prev=2,t.next=5,new Fe(p).update(Object(n.a)(Object(n.a)({},e.label),{},{name:d}));case 5:e.onAction(),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(2),l(a("LABEL.ERROR"));case 11:return t.prev=11,x(!1),t.finish(11);case 14:t.next=29;break;case 16:return x(!0),t.prev=17,t.next=20,new Fe(p).add({name:d,groupId:u});case 20:e.onAction(),t.next=26;break;case 23:t.prev=23,t.t1=t.catch(17),l(a("LABEL.ERROR"));case 26:return t.prev=26,x(!1),t.finish(26);case 29:case"end":return t.stop()}}),t,null,[[2,8,11,14],[17,23,26,29]])}))),[d,a,p,e,u]);c.a.useEffect((function(){var t;e.show&&(e.label?b(null===(t=e.label)||void 0===t?void 0:t.name):b(""))}),[e]);var y=c.a.useMemo((function(){return!(!k&&!h(s)&&h(d))}),[s,d,k]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ge.a,{show:e.show,onHide:e.onHide,size:"lg",centered:!0},c.a.createElement(Ge.a.Header,{closeButton:!0},c.a.createElement(Ge.a.Title,null,h(e.label)?a("LABEL.MODAL.EDIT_TITLE"):a("LABEL.MODAL.ADD_TITLE"))),c.a.createElement(Ge.a.Body,null,c.a.createElement(ne,{message:s}),c.a.createElement(te.a,null,c.a.createElement(te.a.Group,{controlId:"exampleForm.ControlInput1"},c.a.createElement(te.a.Label,null,a("LABEL.MODAL.NAME")),c.a.createElement(te.a.Control,{"data-testid":"label-name-field",type:"text",value:d,placeholder:a("LABEL.MODAL.NAME_PLACEHOLDER"),onChange:L})))),c.a.createElement(Ge.a.Footer,null,c.a.createElement(Z.a,{variant:"primary",onClick:T,disabled:y},h(e.label)?a("LABEL.MODAL.EDIT_ACTION"):a("LABEL.MODAL.ADD_ACTION")))))}));function tt(){var e=Object(S.a)(["\n    .no-margin {\n        margin: 0px;\n    };\n    canvas {\n        max-width: 500px;\n    };\n    .red-text {\n        color: #dc3545;\n    }\n"]);return tt=function(){return e},e}!function(e){e[e.CURRENT_MONTH=1]="CURRENT_MONTH",e[e.LAST_MONTH=2]="LAST_MONTH",e[e.AVERAGE=3]="AVERAGE"}(qe||(qe={}));var at,nt=Object(x.b)(tt()),rt=c.a.memo((function(e){var t=Object(I.a)(),a=Object(A.a)(t,1)[0],n=Object(r.useContext)(Ee),u=c.a.useState(g.get()),i=Object(A.a)(u,1)[0],o=c.a.useState(""),s=Object(A.a)(o,2),l=s[0],m=s[1],p=c.a.useState(!1),E=Object(A.a)(p,2),f=E[0],d=E[1],b=c.a.useState([]),h=Object(A.a)(b,2),v=h[0],O=h[1],k=c.a.useState(),x=Object(A.a)(k,2),L=x[0],T=x[1],y=c.a.useState(!1),S=Object(A.a)(y,2),C=S[0],N=S[1],w=c.a.useState(!1),D=Object(A.a)(w,2),U=D[0],M=D[1],_=c.a.useState(qe.CURRENT_MONTH),G=Object(A.a)(_,2),F=G[0],B=G[1];c.a.useEffect((function(){n.isLoading||function(){var e=Object(R.a)(j.a.mark((function e(){var t;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.prev=1,e.next=4,new Fe(i).getAllFull(n.group,n.month,n.year);case 4:t=e.sent,O(t),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),O([]),m(a("LABEL.ERROR"));case 12:return e.prev=12,d(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,8,12,15]])})));return function(){return e.apply(this,arguments)}}()()}),[n,i,a,U]);var H=c.a.useCallback((function(){T(void 0),N(!0)}),[]),P=c.a.useCallback((function(e){T(v.find((function(t){return t.id===e}))),N(!0)}),[v]),V=c.a.useCallback(function(){var e=Object(R.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new Fe(i).remove(t);case 3:setTimeout((function(){M(!U)}),i.requestDelay),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),m(a("LABEL.ERROR"));case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),[i,a,U]),K=c.a.useCallback((function(){N(!1)}),[]),X=c.a.useCallback((function(){N(!1),setTimeout((function(){M(!U)}),i.requestDelay)}),[i,U]),z=c.a.useCallback((function(e){B(e)}),[]),Y=c.a.useMemo((function(){return v.map((function(e){var t=e.currValue>e.lastValue||e.currValue>e.avgValue?"red-text":"",n=e.lastValue>e.avgValue?"red-text":"";return c.a.createElement(Ue,{key:e.id,id:e.id,name:e.name,onEdit:P,onDelete:V},c.a.createElement("div",{className:"d-flex justify-content-between"},c.a.createElement("p",{className:"no-margin ".concat(t)},c.a.createElement("small",null,a("LABEL.CURRENT_MONTH")),c.a.createElement("br",null),e.currValue.toFixed(2)),c.a.createElement("p",{className:"no-margin ".concat(n)},c.a.createElement("small",null,a("LABEL.LAST_MONTH")),c.a.createElement("br",null),e.lastValue.toFixed(2)),c.a.createElement("p",{className:"no-margin"},c.a.createElement("small",null,a("LABEL.AVERAGE")),c.a.createElement("br",null),e.avgValue.toFixed(2))))}))}),[v,P,V,a]),q=c.a.useMemo((function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(Qe.Pie,{key:F,data:v.length>0?{labels:v.map((function(e){return e.name})),datasets:[{data:v.map((function(e){return F===qe.CURRENT_MONTH?e.currValue:F===qe.LAST_MONTH?e.lastValue:e.avgValue})),borderWidth:0}]}:{labels:["Empty"],datasets:[{data:[1],borderWidth:0}]},options:{plugins:{colorschemes:{scheme:"office.Excel16"}}},width:100,height:100}))}),[v,F]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(nt,null),c.a.createElement(he,null),c.a.createElement(se,{title:a("LABEL.TITLE"),action:a("LABEL.ADD"),onAction:H}),c.a.createElement(ne,{message:l}),c.a.createElement(le,{isLoading:f},c.a.createElement(oe.a,{defaultActiveKey:"items"},c.a.createElement(ie.a,{eventKey:"items",title:a("LABEL.TAB_ITEMS")},Y),c.a.createElement(ie.a,{eventKey:"graph",title:a("LABEL.TAB_GRAPH")},c.a.createElement("div",{className:"m-2 d-flex justify-content-center"},c.a.createElement($e.a,{type:"radio",name:"options",value:F,onChange:z},c.a.createElement(Ze.a,{value:qe.CURRENT_MONTH},a("LABEL.CURRENT_MONTH")),c.a.createElement(Ze.a,{value:qe.LAST_MONTH},a("LABEL.LAST_MONTH")),c.a.createElement(Ze.a,{value:qe.AVERAGE},a("LABEL.AVERAGE")))),c.a.createElement("div",{className:"d-flex justify-content-center"},q)))),c.a.createElement(et,{show:C,label:L,onHide:K,onAction:X}))})),ct=c.a.memo((function(e){return c.a.createElement(c.a.Fragment,null,"Settings page")})),ut=a(167),it=function(e){var t=e.component;e.path,Object(ut.a)(e,["component","path"]);return Object(r.useContext)(_).user?c.a.createElement(t,null):c.a.createElement(U.a,{to:"/auth"})},ot=c.a.memo((function(e){var t,a=Object(r.useContext)(_),n=a.user,u=a.isReady,i=Object(U.g)(),o=Object(U.h)(),s=c.a.useState(g.get()),l=Object(A.a)(s,1)[0],m=c.a.useState(!0),p=Object(A.a)(m,2),E=p[0],f=p[1],d=c.a.useState([]),b=Object(A.a)(d,2),v=b[0],O=b[1],k=c.a.useState([]),x=Object(A.a)(k,2),L=x[0],T=x[1],y=c.a.useState(),S=Object(A.a)(y,2),C=S[0],N=S[1],D=c.a.useState((new Date).getMonth()),I=Object(A.a)(D,2),G=I[0],F=I[1],B=c.a.useState(0),H=Object(A.a)(B,2),P=H[0],V=H[1];return c.a.useEffect((function(){if(u){var e=JSON.stringify(Q.a.parse(o.search)),t=JSON.parse(e);f(!0),function(){var e=Object(R.a)(j.a.mark((function e(){var a,r,c,u,s,m,p,E,d,b,g,A,k;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(v.length>0)){e.next=4;break}c=v,e.next=14;break;case 4:return e.prev=4,e.next=7,new Ke(l).getAll(null!==(E=null===n||void 0===n?void 0:n.uid)&&void 0!==E?E:"");case 7:c=e.sent,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),c=[];case 13:console.log("load again ",c);case 14:if(d=localStorage.getItem("group"),O(c),h(t.group)&&c.some((function(e){return e.id===+t.group}))?u=c.find((function(e){return e.id===+t.group})):h(d)&&c.some((function(e){return e.id===+d}))?u=c.find((function(e){return e.id===+d})):h(c)&&(u=c[0]),N(u),localStorage.setItem("group",null===(a=u)||void 0===a?void 0:a.id.toString()),b=localStorage.getItem("month"),s=h(t.month)&&t.month>=1&&t.month<=12?t.month:h(b)&&+b>=1&&+b<=12?+b:(new Date).getMonth(),F(s),localStorage.setItem("month",s.toString()),!(L.length>0)){e.next=27;break}m=L,e.next=36;break;case 27:return e.prev=27,e.next=30,new Ne(l).getYears(null!==(g=null===(A=u)||void 0===A?void 0:A.id)&&void 0!==g?g:0);case 30:m=e.sent,e.next=36;break;case 33:e.prev=33,e.t1=e.catch(27),m=[];case 36:k=localStorage.getItem("year"),T(m),p=h(t.year)&&m.some((function(e){return e===+t.year}))?t.year:h(k)&&m.some((function(e){return e===+k}))?+k:(new Date).getFullYear(),V(p),localStorage.setItem("year",p.toString()),i.push({pathname:o.pathname,search:Q.a.stringify({group:null===(r=u)||void 0===r?void 0:r.id,month:s,year:p})}),f(!1);case 43:case"end":return e.stop()}}),e,null,[[4,10],[27,33]])})));return function(){return e.apply(this,arguments)}}()()}}),[l,i,o,u,n]),c.a.createElement(c.a.Fragment,null,c.a.createElement(Ee.Provider,{value:{isLoading:E,groups:v,years:L,group:null!==(t=null===C||void 0===C?void 0:C.id)&&void 0!==t?t:0,month:G,year:P}},c.a.createElement(w.a,{className:"mt-2"},c.a.createElement(U.d,null,u&&c.a.createElement(it,{key:M.group,path:M.group,component:We}),u&&c.a.createElement(it,{key:M.label,path:M.label,component:rt}),u&&c.a.createElement(it,{key:M.expense,path:M.expense,component:Ve}),c.a.createElement(it,{key:M.settings,path:M.settings,component:ct}),c.a.createElement(U.b,{key:M.auth,path:M.auth,component:ue}),c.a.createElement(U.b,{key:M.home,exact:!0,path:M.home},c.a.createElement(c.a.Fragment,null,c.a.createElement("h3",null,"HOME"),c.a.createElement("h6",null,"Build Version: ",l.buildVersion))),c.a.createElement(U.b,{key:"*",path:"*"},c.a.createElement("h1",null," 404 "))))))})),st=c.a.memo((function(e){var t=c.a.useState(g.get()),a=Object(A.a)(t,1)[0],n=c.a.useMemo((function(){return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches}),[]),u=function(){var e=Object(r.useState)((function(){var e=Object(G.auth)().currentUser;return{initialising:!e,user:e}})),t=Object(A.a)(e,2),a=t[0],n=t[1],u=function(e){n({initialising:!1,user:e})};return c.a.useEffect((function(){var e=Object(G.auth)().onAuthStateChanged(u);return function(){return e()}}),[]),a}(),i=u.user,o=u.initialising,s=c.a.useState(!1),l=Object(A.a)(s,2),m=l[0],p=l[1];return c.a.useEffect((function(){!o&&i&&h(i)&&i.getIdTokenResult().then((function(e){T.a.defaults.headers.common.Authorization=e.token,p(!0)}))}),[i,o,a]),c.a.createElement(c.a.Fragment,null,c.a.createElement(x.a,{theme:n?J:{}},c.a.createElement(c.a.Fragment,null,c.a.createElement(q,null),c.a.createElement(_.Provider,{value:{user:i,initialising:o,isReady:m}},a.useHashRouter&&c.a.createElement(k.b,{basename:"/"},c.a.createElement(z,null),c.a.createElement(ot,null)),!a.useHashRouter&&c.a.createElement(k.a,{basename:"/"},c.a.createElement(z,null),c.a.createElement(ot,null))))))})),lt=function(){var e,t,a,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=new O;return console.log("true",null===r||void 0===r||null===(e=r.useHashRouter)||void 0===e?void 0:e.toString(),c.useHashRouter.toString(),v("true",null===r||void 0===r||null===(t=r.useHashRouter)||void 0===t?void 0:t.toString(),c.useHashRouter.toString())),c=Object(n.a)(Object(n.a)({},c),{},{buildVersion:v("77",r.buildVersion,c.buildVersion),apiUrl:v("TOTAL_FAKE",r.apiUrl,c.apiUrl),useHashRouter:"true"===v("true",null===r||void 0===r||null===(a=r.useHashRouter)||void 0===a?void 0:a.toString(),c.useHashRouter.toString())}),g.set(Object(n.a)(Object(n.a)({},c),r)),g.get()}();Object(o.initializeApp)(Object(n.a)({},(at=v("lfmachadodasilva-dev",lt.firebaseProject),{apiKey:v("AIzaSyDMDE7eTQbjwkQglMJf5KnFtMr48-pAoVM",lt.firebaseApiKey),authDomain:"".concat(at,".firebaseapp.com"),databaseURL:"https://".concat(at,".firebaseio.com"),projectId:at,storageBucket:at,messagingSenderId:"my-sender-id"}))),i.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(st,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[169,1,2]]]);
//# sourceMappingURL=main.a1aa4c62.chunk.js.map