{"version":3,"sources":["configurations/i18n.ts","contexts/userContext.ts","helpers/utilHelper.ts","services/authService.ts","pages/routes.ts","components/header/header.tsx","configurations/appConfig.ts","configurations/configurationManager.ts","services/serviceBase.ts","components/loading/loading.tsx","services/userService.ts","pages/auth/loginPage.tsx","services/groupService.ts","helpers/privateRouter.tsx","components/item/item.tsx","components/dialog/dialog.tsx","components/avatar/avatar.tsx","pages/groups/groupsManage.tsx","pages/groups/groups.tsx","contexts/globalContext.ts","components/search/search.tsx","pages/labels/labels.tsx","pages/expenses/expenses.tsx","pages/auth/facebookPage.tsx","pages/auth/authPage.tsx","pages/main.tsx","pages/App.tsx","serviceWorker.ts","configurations/firebase.ts","index.tsx"],"names":["resources","en","translation","i18n","use","initReactI18next","init","lng","fallbackLng","interpolation","escapeValue","userContext","React","createContext","user","initialising","isReady","hasValue","value","undefined","Array","isArray","length","getValueOrDefault","values","find","x","facebook","auth","FacebookAuthProvider","loginWithFacebook","a","firebase","signInWithPopup","console","error","loginWithEmail","email","password","signInWithEmailAndPassword","createUserWithEmail","createUserWithEmailAndPassword","resetPassword","sendPasswordResetEmail","Routes","home","groups","labels","expenses","useStyles","makeStyles","theme","root","flexGrow","display","appBar","zIndex","drawer","breakpoints","up","title","cursor","buttons","color","menu","paper","width","sectionMobile","sectionDesktop","flexShrink","drawerPaper","drawerContainer","overflow","container","padding","small","spacing","height","Header","memo","useContext","history","useHistory","location","useLocation","useTranslation","t","useState","open","setOpen","classes","anchorEl","setAnchorEl","handleClose","useCallback","handleOpen","handleGoToHome","push","handleGoToGroups","handleGoToLabels","search","pathname","handleGoToExpenses","handleGoToAuth","handleLogout","signOut","setTimeout","avatarIcon","useMemo","photoURL","Avatar","alt","src","className","displayName","split","AppBar","Container","maxWidth","Toolbar","IconButton","edge","aria-label","onClick","Typography","variant","Button","size","startIcon","data-testid","aria-controls","aria-haspopup","event","currentTarget","Menu","id","keepMounted","Boolean","onClose","MenuItem","ListItemIcon","ListItemText","primary","fontSize","SwipeableDrawer","concat","onOpen","List","ListItem","button","key","Divider","AppConfig","apiUrl","buildVersion","ConfigurationManager","configurationObject","config","get","configurationSettings","Object","assign","set","ApplicationConfiguration","freeze","StatusCodes","LoadingType","handleError","response","status","OK","data","headers","Promise","reject","ServiceBase","url","params","axios","baseURL","this","withCredentials","process","Accept","Authorization","defaults","common","post","put","delete","UserService","LoginPageType","createStyles","linear","marginTop","LoadingComponent","props","Grid","justify","alignItems","Alert","severity","AlertTitle","showLoading","type","circular","CircularProgress","LinearProgress","children","GroupService","baseUrl","group","groupId","PrivateRoute","Component","component","path","to","cards","flex","header","paddingBottom","content","deleteButton","marginLeft","ItemComponent","isLoadingEdit","setLoadingEdit","isLoadingDelete","setLoadingDelete","handleEdit","onEdit","action","then","finally","handleDelete","onDelete","item","xs","sm","md","Card","Box","noWrap","disabled","CardContent","DialogTitle","withStyles","closeButton","palette","grey","other","disableTypography","DialogContent","MuiDialogContent","DialogActions","margin","MuiDialogActions","DialogComponent","useTheme","fullScreen","useMediaQuery","down","isLoading","setLoading","setError","handleAction","onAction","catch","useEffect","show","Dialog","aria-labelledby","autoFocus","endIcon","disableAction","actionText","getDisplayName","currentUserId","youText","chip","AvatarChipComponent","Chip","label","uid","avatar","photoUrl","AvatarMenuComponent","secondary","formControl","minWidth","chips","flexWrap","noLabel","MenuProps","PaperProps","style","maxHeight","ITEM_HEIGHT","GroupsManageDialog","setTitle","setButton","name","setName","selectedUsers","setSelectedUsers","isLoadingUsers","setLoadingUsers","users","setUsers","errorUsers","setErrorUsers","selectedUsersId","map","handleChangeName","target","handleChange","us","userId","u","update","add","usersElement","renderValues","selected","getAll","g","FormControl","fullWidth","InputLabel","htmlFor","Input","required","onChange","Select","labelId","multiple","input","renderValue","marginRight","paddingRight","paddingLeft","person","marginBottom","GroupsPage","setData","setShow","setGroup","reload","setReload","resolve","remove","handleAdd","getFullAll","globalContext","years","Date","getFullYear","month","getMonth","year","details","SearchComponent","isExpanded","setExpanded","setGroups","months","setYears","selectedGroup","setSelectedGroup","selectedGroupName","selectedMonth","setSelectedMonth","selectedYear","setSelectedYear","groupsMenuItems","monthsMenuItems","yearsMenuItems","handleChangeGroup","handleChangeMonth","handleChangeYear","handleChangeAccordion","_event","expanded","queryString","stringify","Accordion","loading","AccordionSummary","expandIcon","direction","orientation","flexItem","AccordionDetails","defaultValue","AccordionActions","LabelsPage","global","log","ExpensesPage","elevation","LoginPage","setEmail","setPassword","RESET","handleChangeEmail","handleChangePassword","LOGIN","REGISTER","promise","message","CardHeader","noValidate","autoComplete","TextField","CardActions","FacebookPage","hasError","handleFacebook","center","textAlign","AuthPage","Main","setMonth","setYear","jsonString","JSON","parse","searchParams","groupsResults","some","groupResults","monthResults","yearResults","setup","Provider","exact","App","currentUser","state","setState","unsubscribe","onAuthStateChanged","useAuth","setReady","getIdTokenResult","token","addOrUpdate","prefersDarkMode","createMuiTheme","typography","textTransform","ThemeProvider","CssBaseline","window","hostname","match","firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","overrides","configDefault","setConfiguration","initializeApp","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.f7129723.chunk.js","sourcesContent":["import i18n from 'i18next';\nimport { initReactI18next } from 'react-i18next';\n\nimport translationEN from '../locales/en.json';\n\nconst resources = {\n    en: {\n        translation: translationEN\n    }\n};\n\ni18n.use(initReactI18next) // passes i18n down to react-i18next\n    .init({\n        resources,\n        lng: 'en',\n        fallbackLng: 'en', // use en if detected lng is not available\n\n        // keySeparator: false, // we do not use keys in form messages.welcome\n\n        interpolation: {\n            escapeValue: false // react already safes from xss\n        }\n    });\n\nexport default i18n;\n","import React from 'react';\nimport { User } from 'firebase/app';\n\ninterface UserContext {\n    user: User | null;\n    initialising: boolean;\n    isReady: boolean;\n}\n\nexport const userContext = React.createContext<UserContext>({\n    user: null,\n    initialising: false,\n    isReady: false\n});\n","export const hasValue = (value: any): boolean => {\r\n    if (value === null || value === undefined) {\r\n        return false;\r\n    }\r\n\r\n    if (typeof value === 'string' || Array.isArray(value)) {\r\n        return value.length > 0;\r\n    }\r\n\r\n    return true;\r\n};\r\n\r\n// export const getValueOrDefault = (value?: string, defaultValue?: string) => {\r\n//     return hasValue(value) ? value : defaultValue;\r\n// };\r\n\r\nexport const getValueOrDefault = (...values: any[]) => {\r\n    return values.find(x => hasValue(x));\r\n};\r\n","import React, { useState } from 'react';\nimport firebase, { auth } from 'firebase/app';\nimport 'firebase/auth'; // If using Firebase auth\n\nexport const useAuth = () => {\n    const [state, setState] = useState(() => {\n        const user = auth().currentUser;\n        return { initialising: !user, user };\n    });\n\n    const onChange = (user: firebase.User | null) => {\n        setState({ initialising: false, user });\n    };\n\n    React.useEffect(() => {\n        // listen for auth state changes\n        const unsubscribe = firebase.auth().onAuthStateChanged(onChange);\n        // unsubscribe to the listener when unmounting\n        return () => unsubscribe();\n    }, []);\n\n    return state;\n};\n\nconst facebook = new auth.FacebookAuthProvider();\n\nexport const loginWithFacebook = async () => {\n    try {\n        return await firebase.auth().signInWithPopup(facebook);\n    } catch (err) {\n        console.error(err);\n        throw err;\n    }\n};\n\nexport const loginWithEmail = async (email: string, password: string) => {\n    try {\n        await firebase.auth().signInWithEmailAndPassword(email, password);\n    } catch (err) {\n        console.error(err);\n        throw err;\n    }\n};\n\nexport const createUserWithEmail = async (email: string, password: string) => {\n    try {\n        await firebase.auth().createUserWithEmailAndPassword(email, password);\n    } catch (err) {\n        console.error(err);\n        throw err;\n    }\n};\n\nexport const resetPassword = async (email: string) => {\n    try {\n        return await firebase.auth().sendPasswordResetEmail(email);\n    } catch (err) {\n        console.error(err);\n        throw err;\n    }\n};\n\nexport const signOut = () => firebase.auth().signOut();\n","export class Routes {\r\n    static home = '/';\r\n    static auth = '/auth';\r\n    static groups = '/groups';\r\n    static labels = '/labels';\r\n    static expenses = '/expenses';\r\n}\r\n","import React, { memo, useState, useContext, useCallback, useMemo } from 'react';\nimport { useHistory, useLocation } from 'react-router-dom';\nimport { useTranslation } from 'react-i18next';\n\nimport { ListItemIcon, ListItemText, Divider, Container, MenuItem, Menu, Avatar } from '@material-ui/core';\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport IconButton from '@material-ui/core/IconButton';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport SwipeableDrawer from '@material-ui/core/SwipeableDrawer';\n\nimport GroupIcon from '@material-ui/icons/Group';\nimport HomeIcon from '@material-ui/icons/Home';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport AccountCircle from '@material-ui/icons/AccountCircle';\nimport LabelIcon from '@material-ui/icons/Label';\nimport AccountBalanceWalletIcon from '@material-ui/icons/AccountBalanceWallet';\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\n\nimport { userContext } from '../../contexts/userContext';\nimport { hasValue } from '../../helpers/utilHelper';\nimport { signOut } from '../../services/authService';\nimport { Routes } from '../../pages/routes';\n\nconst drawerWidth = 240;\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        flexGrow: 1,\n        display: 'flex'\n    },\n    appBar: {\n        zIndex: theme.zIndex.drawer + 999,\n        [theme.breakpoints.up('sm')]: {\n            zIndex: theme.zIndex.drawer\n        },\n        position: 'static'\n    },\n    title: {\n        flexGrow: 1,\n        cursor: 'pointer'\n    },\n    buttons: {\n        color: 'inherit'\n    },\n    menu: {\n        paper: {\n            width: drawerWidth\n        }\n    },\n    sectionMobile: {\n        display: 'flex',\n        [theme.breakpoints.up('sm')]: {\n            display: 'none'\n        }\n    },\n    sectionDesktop: {\n        display: 'none',\n        [theme.breakpoints.up('sm')]: {\n            display: 'flex'\n        }\n    },\n    drawer: {\n        width: drawerWidth,\n        flexShrink: 0\n    },\n    drawerPaper: {\n        width: drawerWidth\n    },\n    drawerContainer: {\n        overflow: 'auto'\n    },\n    container: {\n        padding: 0\n    },\n    small: {\n        width: theme.spacing(3),\n        height: theme.spacing(3)\n    }\n}));\n\nexport interface HeaderProps {}\n\nconst HeaderComponent: React.FC<HeaderProps> = memo(() => {\n    const { user } = useContext(userContext);\n    const history = useHistory();\n    const location = useLocation();\n    const [t] = useTranslation();\n    const [open, setOpen] = useState<boolean>(false);\n    const classes = useStyles();\n    const [anchorEl, setAnchorEl] = useState<null | HTMLElement>(null);\n\n    const handleClose = useCallback(() => {\n        setAnchorEl(null);\n    }, []);\n\n    const handleOpen = useCallback(() => {\n        setOpen(!open);\n    }, [open]);\n\n    const handleGoToHome = useCallback(() => {\n        setOpen(false);\n        setAnchorEl(null);\n        history.push(Routes.home);\n    }, [history]);\n    const handleGoToGroups = useCallback(() => {\n        setOpen(false);\n        setAnchorEl(null);\n        history.push(Routes.groups);\n    }, [history]);\n    const handleGoToLabels = useCallback(() => {\n        setOpen(false);\n        setAnchorEl(null);\n        if (hasValue(location.search)) {\n            history.push({ pathname: Routes.labels, search: location.search });\n        } else {\n            history.push(Routes.labels);\n        }\n    }, [history, location]);\n    const handleGoToExpenses = useCallback(() => {\n        setOpen(false);\n        setAnchorEl(null);\n        if (hasValue(location.search)) {\n            history.push({ pathname: Routes.expenses, search: location.search });\n        } else {\n            history.push(Routes.expenses);\n        }\n    }, [history, location]);\n    const handleGoToAuth = useCallback(() => {\n        setOpen(false);\n        setAnchorEl(null);\n        history.push(Routes.auth);\n    }, [history]);\n    const handleLogout = useCallback(async () => {\n        setAnchorEl(null);\n        setOpen(false);\n        await signOut();\n        setTimeout(() => history.push(Routes.home));\n    }, [history]);\n\n    const handleProfileMenuOpen = (event: React.MouseEvent<HTMLButtonElement>) => {\n        if (hasValue(user)) {\n            setAnchorEl(event.currentTarget);\n            return;\n        }\n        setAnchorEl(null);\n        handleGoToAuth();\n    };\n\n    const avatarIcon = useMemo(() => {\n        return hasValue(user?.photoURL) ? (\n            <Avatar alt={user?.email as string} src={user?.photoURL as string} className={classes.small} />\n        ) : (\n            <AccountCircle />\n        );\n    }, [classes.small, user]);\n\n    const displayName = useMemo(() => {\n        return hasValue(user?.displayName) ? user?.displayName?.split(' ')[0] : user?.email;\n    }, [user]);\n\n    return (\n        <div className={classes.root}>\n            <AppBar className={classes.appBar}>\n                <Container maxWidth=\"md\" className={classes.container}>\n                    <Toolbar>\n                        <IconButton\n                            edge=\"start\"\n                            color=\"inherit\"\n                            aria-label=\"menu\"\n                            className={classes.sectionMobile}\n                            onClick={handleOpen}\n                        >\n                            <MenuIcon />\n                        </IconButton>\n                        <Typography variant=\"h6\" className={classes.title} onClick={handleGoToHome}>\n                            {t('HEADER.TITLE')}\n                        </Typography>\n                        <div className={classes.sectionDesktop}>\n                            <Button\n                                className={classes.buttons}\n                                size=\"small\"\n                                onClick={handleGoToGroups}\n                                startIcon={<GroupIcon />}\n                            >\n                                {t('HEADER.GROUPS')}\n                            </Button>\n                            <Button\n                                className={classes.buttons}\n                                size=\"small\"\n                                onClick={handleGoToLabels}\n                                startIcon={<LabelIcon />}\n                            >\n                                {t('HEADER.LABELS')}\n                            </Button>\n                            <Button\n                                className={classes.buttons}\n                                size=\"small\"\n                                onClick={handleGoToExpenses}\n                                startIcon={<AccountBalanceWalletIcon />}\n                            >\n                                {t('HEADER.EXPENSES')}\n                            </Button>\n                            <IconButton\n                                data-testid=\"avatar-element\"\n                                edge=\"end\"\n                                aria-label=\"account of current user\"\n                                aria-controls=\"primary-search-account-menu\"\n                                aria-haspopup=\"true\"\n                                onClick={handleProfileMenuOpen}\n                                color=\"inherit\"\n                            >\n                                {avatarIcon}\n                            </IconButton>\n                            <Menu\n                                data-testid=\"avatar-menu-element\"\n                                id=\"simple-menu\"\n                                anchorEl={anchorEl}\n                                keepMounted\n                                open={Boolean(anchorEl)}\n                                onClose={handleClose}\n                            >\n                                <MenuItem onClick={handleClose}>\n                                    <ListItemIcon>{avatarIcon}</ListItemIcon>\n                                    <ListItemText primary={displayName} />\n                                </MenuItem>\n                                <MenuItem onClick={handleLogout}>\n                                    <ListItemIcon>\n                                        <ExitToAppIcon fontSize=\"small\" />\n                                    </ListItemIcon>\n                                    <ListItemText primary={t('HEADER.LOGOUT')} />\n                                </MenuItem>\n                            </Menu>\n                        </div>\n                    </Toolbar>\n                </Container>\n            </AppBar>\n            <SwipeableDrawer\n                className={classes.drawer.concat(classes.sectionMobile)}\n                open={open}\n                classes={{\n                    paper: classes.drawerPaper\n                }}\n                onClose={() => setOpen(false)}\n                onOpen={() => setOpen(true)}\n            >\n                <Toolbar />\n                <div className={classes.drawerContainer}>\n                    <List>\n                        <ListItem button key=\"home\">\n                            <ListItemIcon>\n                                <HomeIcon />\n                            </ListItemIcon>\n                            <ListItemText primary={'Home'} onClick={handleGoToHome} />\n                        </ListItem>\n                        <Divider />\n                        <ListItem button key=\"groups\" onClick={handleGoToGroups}>\n                            <ListItemIcon>\n                                <GroupIcon />\n                            </ListItemIcon>\n                            <ListItemText primary={t('HEADER.GROUPS')} />\n                        </ListItem>\n                        <ListItem button key=\"labels\" onClick={handleGoToLabels}>\n                            <ListItemIcon>\n                                <LabelIcon />\n                            </ListItemIcon>\n                            <ListItemText primary={t('HEADER.LABELS')} />\n                        </ListItem>\n                        <ListItem button key=\"expenses\" onClick={handleGoToExpenses}>\n                            <ListItemIcon>\n                                <AccountBalanceWalletIcon />\n                            </ListItemIcon>\n                            <ListItemText primary={t('HEADER.EXPENSES')} />\n                        </ListItem>\n                    </List>\n                    <Divider />\n                    {hasValue(user) && (\n                        <List>\n                            <ListItem button key=\"user\">\n                                <ListItemIcon>{avatarIcon}</ListItemIcon>\n                                <ListItemText primary={displayName} />\n                            </ListItem>\n                            <ListItem button key=\"logout\" onClick={handleLogout}>\n                                <ListItemIcon>\n                                    <ExitToAppIcon />\n                                </ListItemIcon>\n                                <ListItemText primary={t('HEADER.LOGOUT')} />\n                            </ListItem>\n                        </List>\n                    )}\n                    {!hasValue(user) && (\n                        <List>\n                            <ListItem button key=\"login\" onClick={handleGoToAuth}>\n                                <ListItemIcon>\n                                    <AccountCircle />\n                                </ListItemIcon>\n                                <ListItemText primary={t('HEADER.LOGIN_REGISTER')} />\n                            </ListItem>\n                        </List>\n                    )}\n                </div>\n            </SwipeableDrawer>\n        </div>\n    );\n});\n\nexport const Header = HeaderComponent;\n","export class AppConfig {\n    /** api backend url */\n    apiUrl?: string = 'https://myexpenses-backend-dev.herokuapp.com';\n    /** build version */\n    buildVersion?: string = 'local';\n}\n","import { AppConfig } from './appConfig';\nimport config, { Options } from 'react-global-configuration';\n\nimport { getValueOrDefault } from '../helpers/utilHelper';\n\nexport class ConfigurationManager {\n    static set = (configurationSettings: AppConfig) => {\n        config.set({ ApplicationConfiguration: configurationSettings }, { freeze: false } as Options);\n    };\n\n    static get(): AppConfig {\n        const configurationObject = config.get('ApplicationConfiguration');\n\n        const configurationSettings = new AppConfig();\n        Object.assign(configurationSettings, configurationObject);\n\n        return configurationSettings;\n    }\n}\n\nexport const setConfiguration = (overrides: Partial<AppConfig> = {}) => {\n    let configDefault: AppConfig = new AppConfig();\n    // try {\n    //     // read from the config json file\n    //     configDefault = require('../config.json');\n    // } catch {\n    //     // use default configuration\n    //     configDefault = new AppConfig();\n    // }\n\n    configDefault = {\n        ...configDefault,\n        buildVersion: getValueOrDefault(\n            process.env.REACT_APP_BUILD_VERSION,\n            overrides.buildVersion,\n            configDefault.buildVersion\n        ),\n        apiUrl: getValueOrDefault(process.env.REACT_APP_API_URL, overrides.apiUrl, configDefault.apiUrl)\n    };\n\n    ConfigurationManager.set({ ...configDefault, ...overrides });\n};\n","import axios, { AxiosError } from 'axios';\r\nimport { AppConfig } from '../configurations/appConfig';\r\n\r\nexport enum StatusCodes {\r\n    OK = 200\r\n}\r\n\r\nconst handleError = async (error: AxiosError) => {\r\n    if (error.response && error.response.status >= StatusCodes.OK) {\r\n        if (process.env.NODE_ENV !== 'test') {\r\n            // avoid show this when is running test\r\n            console.error('Request Failed:', error.config);\r\n            console.error('Status:', error.response.status);\r\n            console.error('Data:', error.response.data);\r\n            console.error('Headers:', error.response.headers);\r\n        }\r\n    }\r\n\r\n    return Promise.reject(error);\r\n};\r\n\r\nexport class ServiceBase {\r\n    constructor(protected config: AppConfig) {}\r\n\r\n    protected async get<TResponse>(url: string, params?: { [key: string]: any }): Promise<TResponse> {\r\n        try {\r\n            const response = await axios.get(url, {\r\n                baseURL: this.config.apiUrl,\r\n                withCredentials: process.env.NODE_ENV !== 'test',\r\n                headers: {\r\n                    Accept: 'application/json; charset=utf=8',\r\n                    Authorization: 'Bearer ' + axios.defaults.headers.common.Authorization\r\n                },\r\n                params\r\n            });\r\n            return response.data as Promise<TResponse>;\r\n        } catch (error) {\r\n            return handleError(error);\r\n        }\r\n    }\r\n\r\n    protected async post<TResponse>(url: string, data: any): Promise<TResponse> {\r\n        try {\r\n            const response = await axios.post(url, data, {\r\n                baseURL: this.config.apiUrl,\r\n                withCredentials: process.env.NODE_ENV !== 'test',\r\n                headers: {\r\n                    Accept: 'application/json; charset=utf=8',\r\n                    Authorization: 'Bearer ' + axios.defaults.headers.common.Authorization\r\n                }\r\n            });\r\n            return response.data as Promise<TResponse>;\r\n        } catch (error) {\r\n            return handleError(error);\r\n        }\r\n    }\r\n\r\n    protected async put<TResponse>(url: string, data: any): Promise<TResponse> {\r\n        try {\r\n            const response = await axios.put(url, data, {\r\n                baseURL: this.config.apiUrl,\r\n                withCredentials: process.env.NODE_ENV !== 'test',\r\n                headers: {\r\n                    Accept: 'application/json; charset=utf=8',\r\n                    Authorization: 'Bearer ' + axios.defaults.headers.common.Authorization\r\n                }\r\n            });\r\n            return response.data as Promise<TResponse>;\r\n        } catch (error) {\r\n            return handleError(error);\r\n        }\r\n    }\r\n\r\n    protected async delete<TResponse>(url: string): Promise<TResponse> {\r\n        try {\r\n            const response = await axios.delete(url, {\r\n                baseURL: this.config.apiUrl,\r\n                withCredentials: process.env.NODE_ENV !== 'test',\r\n                headers: {\r\n                    Accept: 'application/json; charset=utf=8',\r\n                    Authorization: 'Bearer ' + axios.defaults.headers.common.Authorization\r\n                }\r\n            });\r\n            return response.data as Promise<TResponse>;\r\n        } catch (error) {\r\n            return handleError(error);\r\n        }\r\n    }\r\n}\r\n","import React, { memo } from 'react';\n\nimport Grid from '@material-ui/core/Grid';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Alert from '@material-ui/lab/Alert';\nimport AlertTitle from '@material-ui/lab/AlertTitle';\n\nimport { hasValue } from '../../helpers/utilHelper';\nimport LinearProgress from '@material-ui/core/LinearProgress';\nimport { makeStyles, Theme, createStyles } from '@material-ui/core/styles';\n\nexport enum LoadingType {\n    circular,\n    linear\n}\n\nexport type LoadingProps = {\n    showLoading: boolean;\n    size?: number;\n    error?: string;\n    type?: LoadingType;\n};\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        linear: {\n            width: '100%',\n            '& > * + *': {\n                marginTop: theme.spacing(2)\n            }\n        }\n    })\n);\n\nexport const LoadingComponent: React.FC<React.PropsWithChildren<LoadingProps>> = memo(\n    (props: React.PropsWithChildren<LoadingProps>) => {\n        const classes = useStyles();\n\n        if (hasValue(props.error)) {\n            return (\n                <Grid container justify=\"center\" alignItems=\"center\">\n                    <Alert severity=\"error\">\n                        <AlertTitle>Error</AlertTitle>\n                        {props.error}\n                    </Alert>\n                </Grid>\n            );\n        }\n        return props.showLoading ? (\n            <Grid container justify=\"center\" alignItems=\"center\">\n                {(!hasValue(props.type) || props.type === LoadingType.circular) && (\n                    <CircularProgress size={props.size ?? 40} data-testid=\"loading-element\" />\n                )}\n                {props.type === LoadingType.linear && (\n                    <div className={classes.linear}>\n                        <LinearProgress />\n                    </div>\n                )}\n            </Grid>\n        ) : (\n            <>{props.children}</>\n        );\n    }\n);\n","import { ServiceBase } from './serviceBase';\r\nimport { AppConfig } from '../configurations/appConfig';\r\nimport { UserModel } from '../models/user';\r\n\r\nexport class UserService extends ServiceBase {\r\n    constructor(protected config: AppConfig) {\r\n        super(config);\r\n    }\r\n\r\n    async getAll(): Promise<UserModel[]> {\r\n        return await this.get<UserModel[]>('/api/user');\r\n    }\r\n\r\n    async addOrUpdate(user: UserModel): Promise<UserModel> {\r\n        return await this.post<UserModel>('/api/user', user);\r\n    }\r\n}\r\n","import React, { memo, useState, useCallback, useMemo } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useHistory } from 'react-router';\n\nimport TextField from '@material-ui/core/TextField';\nimport { createStyles, makeStyles, Theme } from '@material-ui/core/styles';\nimport Button from '@material-ui/core/Button';\nimport Grid from '@material-ui/core/Grid';\nimport Card from '@material-ui/core/Card';\nimport CardHeader from '@material-ui/core/CardHeader';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardActions from '@material-ui/core/CardActions';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport MuiAlert, { AlertProps } from '@material-ui/lab/Alert';\n\nimport { loginWithEmail, createUserWithEmail, resetPassword } from '../../services/authService';\nimport { Routes } from '../routes';\nimport { hasValue } from '../../helpers/utilHelper';\n\nexport enum LoginPageType {\n    LOGIN = 'LOGIN',\n    REGISTER = 'REGISTER',\n    RESET = 'RESET'\n}\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        root: {\n            '& .MuiTextField-root': {\n                margin: theme.spacing(1),\n                width: '25ch'\n            }\n        }\n    })\n);\n\nfunction Alert(props: AlertProps) {\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />;\n}\n\nexport interface LoginProps {\n    type: LoginPageType;\n}\n\nexport const LoginPage: React.FC<LoginProps> = memo((props: LoginProps) => {\n    const classes = useStyles();\n    const [t] = useTranslation();\n    const history = useHistory();\n\n    const [error, setError] = useState<string>();\n    const [email, setEmail] = useState<string>('');\n    const [password, setPassword] = useState<string>('');\n    const disableAction = useMemo(\n        () => (props.type === LoginPageType.RESET ? !hasValue(email) : !(hasValue(email) && hasValue(password))),\n        [email, password, props.type]\n    );\n\n    const handleChangeEmail = useCallback((value: any) => {\n        setEmail(value.target.value);\n    }, []);\n    const handleChangePassword = useCallback((value: any) => {\n        setPassword(value.target.value);\n    }, []);\n\n    const [isLoading, setLoading] = useState<boolean>(false);\n\n    const handleAction = useCallback(async () => {\n        setLoading(true);\n        setError(undefined);\n\n        let promise: Promise<void>;\n        switch (props.type) {\n            case LoginPageType.LOGIN:\n                promise = loginWithEmail(email, password);\n                break;\n            case LoginPageType.REGISTER:\n                promise = createUserWithEmail(email, password);\n                break;\n            case LoginPageType.RESET:\n                promise = resetPassword(email);\n                break;\n        }\n        promise\n            .then(() => {\n                setTimeout(() => history.push(Routes.home));\n            })\n            .catch(error => {\n                setError(error.message);\n            })\n            .finally(() => {\n                setLoading(false);\n            });\n    }, [email, password, history, props.type]);\n\n    const [title, button] = useMemo(() => {\n        return [t(`AUTH.${props.type}.TITLE`), t(`AUTH.${props.type}.BUTTON`)];\n    }, [props.type, t]);\n\n    return (\n        <>\n            <Card>\n                <CardHeader title={title} />\n                <CardContent>\n                    {hasValue(error) && <Alert severity=\"error\">{error}</Alert>}\n                    <form className={classes.root} noValidate autoComplete=\"off\">\n                        <Grid container>\n                            <Grid container item xs={12}>\n                                <TextField\n                                    required\n                                    id={`${props.type}-email-required`}\n                                    label={t('AUTH.EMAIL')}\n                                    disabled={isLoading}\n                                    value={email}\n                                    onChange={handleChangeEmail}\n                                />\n                            </Grid>\n                            {props.type !== LoginPageType.RESET && (\n                                <Grid container item xs={12}>\n                                    <TextField\n                                        required\n                                        id={`${props.type}-password-required`}\n                                        label={t('AUTH.PASSWORD')}\n                                        type=\"password\"\n                                        disabled={isLoading}\n                                        value={password}\n                                        onChange={handleChangePassword}\n                                    />\n                                </Grid>\n                            )}\n                        </Grid>\n                    </form>\n                </CardContent>\n                <CardActions>\n                    <Button\n                        id={`${props.type}-action`}\n                        variant=\"contained\"\n                        color=\"primary\"\n                        size=\"small\"\n                        endIcon={isLoading && <CircularProgress size={12} />}\n                        disabled={isLoading || disableAction}\n                        onClick={handleAction}\n                    >\n                        {button}\n                    </Button>\n                </CardActions>\n            </Card>\n        </>\n    );\n});\n","import { ServiceBase } from './serviceBase';\r\nimport { AppConfig } from '../configurations/appConfig';\r\nimport { GroupModel, GroupFullModel } from '../models/group';\r\n\r\nexport class GroupService extends ServiceBase {\r\n    private baseUrl = '/api/group';\r\n\r\n    constructor(protected config: AppConfig) {\r\n        super(config);\r\n    }\r\n\r\n    async getAll(): Promise<GroupModel[]> {\r\n        return await this.get<GroupModel[]>(this.baseUrl);\r\n    }\r\n\r\n    async getFullAll(): Promise<GroupFullModel[]> {\r\n        return await this.get<GroupFullModel[]>(this.baseUrl + '/full');\r\n    }\r\n\r\n    async add(group: GroupFullModel): Promise<GroupFullModel> {\r\n        return await this.post<GroupFullModel>(this.baseUrl, group);\r\n    }\r\n\r\n    async update(group: GroupFullModel): Promise<void> {\r\n        return await this.put<void>(this.baseUrl, group);\r\n    }\r\n\r\n    async remove(groupId: number): Promise<void> {\r\n        return await this.delete<void>(this.baseUrl + '/' + groupId);\r\n    }\r\n}\r\n","import React, { useContext } from 'react';\nimport { Redirect } from 'react-router';\nimport { userContext } from '../contexts/userContext';\n\ninterface PrivateRouteProps {\n    component: any;\n    path?: string;\n}\n\nexport const PrivateRoute = ({ component: Component, path, ...other }: PrivateRouteProps) => {\n    const { user } = useContext(userContext);\n    return user ? <Component /> : <Redirect to=\"/auth\" />;\n};\n","import React, { memo, useState, useCallback } from 'react';\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Box from '@material-ui/core/Box';\r\n\r\nimport { hasValue } from '../../helpers/utilHelper';\r\nimport { LoadingComponent } from '../loading/loading';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    cards: {\r\n        // maxWidth: 250,\r\n        // margin: 5,\r\n        flex: 1\r\n    },\r\n    header: {\r\n        padding: theme.spacing(2),\r\n        paddingBottom: 0\r\n    },\r\n    content: {\r\n        padding: theme.spacing(2),\r\n        '&:last-child': {\r\n            paddingBottom: theme.spacing(2)\r\n        }\r\n    },\r\n    deleteButton: {\r\n        marginLeft: theme.spacing(3)\r\n    }\r\n}));\r\n\r\nexport interface ItemProps {\r\n    id: number;\r\n    title: string;\r\n    onEdit?: (id: number) => Promise<void>;\r\n    onDelete?: (id: number) => Promise<void>;\r\n}\r\n\r\nexport const ItemComponent: React.FC<React.PropsWithChildren<ItemProps>> = memo(\r\n    (props: React.PropsWithChildren<ItemProps>) => {\r\n        const classes = useStyles();\r\n        const [isLoadingEdit, setLoadingEdit] = useState<boolean>(false);\r\n        const [isLoadingDelete, setLoadingDelete] = useState<boolean>(false);\r\n\r\n        const handleEdit = useCallback(() => {\r\n            setLoadingEdit(true);\r\n            if (hasValue(props.onEdit)) {\r\n                const action = props.onEdit as (id: number) => Promise<void>;\r\n                action(props.id)\r\n                    .then(() => {})\r\n                    .finally(() => setLoadingEdit(false));\r\n            }\r\n        }, [props]);\r\n\r\n        const handleDelete = useCallback(() => {\r\n            setLoadingDelete(true);\r\n            if (hasValue(props.onDelete)) {\r\n                const action = props.onDelete as (id: number) => Promise<void>;\r\n                action(props.id)\r\n                    .then(() => {})\r\n                    .finally(() => setLoadingDelete(false));\r\n            }\r\n        }, [props]);\r\n\r\n        return (\r\n            <Grid item xs={12} sm={6} md={4}>\r\n                <Card className={classes.cards}>\r\n                    <Box display=\"flex\" className={classes.header}>\r\n                        <Box width=\"100%\">\r\n                            <Typography variant=\"body2\" noWrap={false}>\r\n                                <strong>{props.title}</strong>\r\n                            </Typography>\r\n                        </Box>\r\n                        <Box flexShrink={1}>\r\n                            {hasValue(props.onEdit) && (\r\n                                <IconButton size=\"small\" onClick={handleEdit} disabled={isLoadingDelete}>\r\n                                    <LoadingComponent showLoading={isLoadingEdit} size={17}>\r\n                                        <EditIcon fontSize=\"inherit\" data-testid=\"edit-element\" />\r\n                                    </LoadingComponent>\r\n                                </IconButton>\r\n                            )}\r\n                        </Box>\r\n                        <Box flexShrink={1}>\r\n                            {hasValue(props.onDelete) && (\r\n                                <IconButton\r\n                                    size=\"small\"\r\n                                    onClick={handleDelete}\r\n                                    disabled={isLoadingEdit}\r\n                                    className={classes.deleteButton}\r\n                                >\r\n                                    <LoadingComponent showLoading={isLoadingDelete} size={17}>\r\n                                        <DeleteIcon fontSize=\"inherit\" data-testid=\"delete-element\" />\r\n                                    </LoadingComponent>\r\n                                </IconButton>\r\n                            )}\r\n                        </Box>\r\n                    </Box>\r\n                    <CardContent className={classes.content}>{props.children}</CardContent>\r\n                </Card>\r\n            </Grid>\r\n        );\r\n    }\r\n);\r\n","import React from 'react';\nimport { useTranslation } from 'react-i18next';\n\nimport Button from '@material-ui/core/Button';\nimport { useTheme, WithStyles, withStyles, Theme, createStyles } from '@material-ui/core/styles';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport Dialog from '@material-ui/core/Dialog';\nimport MuiDialogTitle from '@material-ui/core/DialogTitle';\nimport MuiDialogContent from '@material-ui/core/DialogContent';\nimport MuiDialogActions from '@material-ui/core/DialogActions';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport Alert from '@material-ui/lab/Alert';\nimport CloseIcon from '@material-ui/icons/Close';\n\nimport { hasValue } from '../../helpers/utilHelper';\n\nconst styles = (theme: Theme) =>\n    createStyles({\n        root: {\n            marginTop: 50,\n            [theme.breakpoints.up('sm')]: {\n                marginTop: 0\n            },\n            padding: theme.spacing(2)\n        },\n        closeButton: {\n            marginTop: 50,\n            [theme.breakpoints.up('sm')]: {\n                marginTop: 0\n            },\n            position: 'absolute',\n            right: theme.spacing(1),\n            top: theme.spacing(1),\n            color: theme.palette.grey[500]\n        }\n    });\n\nexport interface DialogTitleProps extends WithStyles<typeof styles> {\n    id: string;\n    children: React.ReactNode;\n    onClose: () => void;\n}\n\nconst DialogTitle = withStyles(styles)((props: DialogTitleProps) => {\n    const { children, classes, onClose, ...other } = props;\n    return (\n        <MuiDialogTitle disableTypography className={classes.root} {...other}>\n            <Typography variant=\"h6\">{children}</Typography>\n            {onClose ? (\n                <IconButton aria-label=\"close\" className={classes.closeButton} onClick={onClose}>\n                    <CloseIcon />\n                </IconButton>\n            ) : null}\n        </MuiDialogTitle>\n    );\n});\n\nconst DialogContent = withStyles((theme: Theme) => ({\n    root: {\n        padding: theme.spacing(2)\n    }\n}))(MuiDialogContent);\n\nconst DialogActions = withStyles((theme: Theme) => ({\n    root: {\n        margin: 0,\n        padding: theme.spacing(1)\n    }\n}))(MuiDialogActions);\n\nexport type DialogProps = {\n    show: boolean;\n    title: string;\n    actionText: string;\n    disableAction: boolean;\n    onAction: () => Promise<void>;\n    onClose: () => void;\n};\n\nexport const DialogComponent: React.FC<React.PropsWithChildren<DialogProps>> = React.memo(\n    (props: React.PropsWithChildren<DialogProps>) => {\n        const theme = useTheme();\n        const [t] = useTranslation();\n        const fullScreen = useMediaQuery(theme.breakpoints.down('xs'));\n        const [isLoading, setLoading] = React.useState<boolean>(false);\n        const [error, setError] = React.useState<string>('');\n\n        const handleClose = React.useCallback(() => {\n            props.onClose();\n        }, [props]);\n\n        const handleAction = React.useCallback(() => {\n            setLoading(true);\n            props\n                .onAction()\n                .catch(() => setError(t('COMMON.ERROR')))\n                .finally(() => setLoading(false));\n        }, [props, t]);\n\n        React.useEffect(() => {\n            setError('');\n        }, [props.show]);\n\n        return (\n            <>\n                <Dialog\n                    fullScreen={fullScreen}\n                    open={props.show}\n                    onClose={handleClose}\n                    aria-labelledby=\"responsive-dialog-title\"\n                >\n                    <DialogTitle id=\"responsive-dialog-title\" onClose={handleClose}>\n                        {props.title}\n                    </DialogTitle>\n                    <DialogContent>\n                        <>\n                            {hasValue(error) && <Alert severity=\"error\">{error}</Alert>}\n                            {props.children}\n                        </>\n                    </DialogContent>\n                    <DialogActions>\n                        <Button\n                            variant=\"contained\"\n                            autoFocus\n                            color=\"primary\"\n                            onClick={handleAction}\n                            endIcon={isLoading && <CircularProgress size={12} />}\n                            startIcon={hasValue(error) && <CloseIcon color=\"secondary\" />}\n                            disabled={props.disableAction || isLoading}\n                        >\n                            {props.actionText}\n                        </Button>\n                    </DialogActions>\n                </Dialog>\n            </>\n        );\n    }\n);\n","import React, { memo, useContext } from 'react';\n\nimport Chip from '@material-ui/core/Chip';\nimport Avatar from '@material-ui/core/Avatar';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { UserModel } from '../../models/user';\nimport { hasValue } from '../../helpers/utilHelper';\nimport { userContext } from '../../contexts/userContext';\nimport { useTranslation } from 'react-i18next';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\n\nexport const getDisplayName = (user: UserModel, currentUserId: string = '', youText: string = '') => {\n    if (user.id === currentUserId) {\n        return youText;\n    }\n    if (hasValue(user.displayName)) {\n        return user.displayName.split(' ')[0];\n    }\n    return user.email.split('@')[0];\n};\n\nconst useStyles = makeStyles(() => ({\n    chip: {\n        margin: 2\n    }\n}));\n\nexport type AvatarChipProps = {\n    user: UserModel;\n};\n\nexport const AvatarChipComponent: React.FC<AvatarChipProps> = memo((props: AvatarChipProps) => {\n    const classes = useStyles();\n    const { user } = useContext(userContext);\n    const [t] = useTranslation();\n\n    return (\n        <Chip\n            label={getDisplayName(props.user, user?.uid, t('COMMON.YOU'))}\n            className={classes.chip}\n            avatar={\n                <Avatar alt={props.user.email} src={props.user.photoUrl}>\n                    {getDisplayName(props.user)[0]}\n                </Avatar>\n            }\n        />\n    );\n});\n\nexport interface AvatarMenuProps {\n    user: UserModel;\n}\n\nexport const AvatarMenuComponent: React.FC<AvatarMenuProps> = memo((props: AvatarMenuProps) => {\n    const { user } = useContext(userContext);\n    const [t] = useTranslation();\n\n    return (\n        <>\n            <ListItemIcon>\n                <Avatar alt={props.user.email} src={props.user.photoUrl}>\n                    {getDisplayName(props.user)[0]}\n                </Avatar>\n            </ListItemIcon>\n            <ListItemText\n                primary={getDisplayName(props.user, user?.uid, t('COMMON.YOU'))}\n                secondary={props.user.email}\n            />\n        </>\n    );\n});\n","import React from 'react';\n\nimport { Theme, createStyles, makeStyles } from '@material-ui/core/styles';\nimport { useTranslation } from 'react-i18next';\nimport FormControl from '@material-ui/core/FormControl';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport Select from '@material-ui/core/Select';\nimport Input from '@material-ui/core/Input';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport Grid from '@material-ui/core/Grid';\n\nimport { DialogComponent } from '../../components/dialog/dialog';\nimport { LoadingComponent } from '../../components/loading/loading';\nimport { GroupFullModel } from '../../models/group';\nimport { hasValue } from '../../helpers/utilHelper';\nimport { UserModel } from '../../models/user';\nimport { UserService } from '../../services/userService';\nimport { AppConfig } from '../../configurations/appConfig';\nimport { ConfigurationManager } from '../../configurations/configurationManager';\nimport { AvatarChipComponent, AvatarMenuComponent } from '../../components/avatar/avatar';\nimport { userContext } from '../../contexts/userContext';\nimport { GroupService } from '../../services/groupService';\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        formControl: {\n            margin: theme.spacing(1),\n            minWidth: 120,\n            maxWidth: 300\n        },\n        chips: {\n            display: 'flex',\n            flexWrap: 'wrap'\n        },\n        chip: {\n            margin: 2\n        },\n        noLabel: {\n            marginTop: theme.spacing(3)\n        }\n    })\n);\n\nconst ITEM_HEIGHT = 48;\nconst ITEM_PADDING_TOP = 8;\nconst MenuProps = {\n    PaperProps: {\n        style: {\n            maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\n            width: 250\n        }\n    }\n};\n\nexport type GroupsManageProps = {\n    show: boolean;\n    group?: GroupFullModel;\n    onAction: () => void;\n    onClose: () => void;\n};\n\nexport const GroupsManageDialog: React.FC<GroupsManageProps> = React.memo((props: GroupsManageProps) => {\n    const { user } = React.useContext(userContext);\n    const classes = useStyles();\n    const [t] = useTranslation();\n\n    const [config] = React.useState<AppConfig>(ConfigurationManager.get());\n    const [title, setTitle] = React.useState<string>('');\n    const [button, setButton] = React.useState<string>('');\n    const [open, setOpen] = React.useState(false);\n    const [name, setName] = React.useState<string>('');\n    const [selectedUsers, setSelectedUsers] = React.useState<UserModel[]>([]);\n    const [isLoadingUsers, setLoadingUsers] = React.useState<boolean>(false);\n    const [users, setUsers] = React.useState<UserModel[]>([]);\n    const [errorUsers, setErrorUsers] = React.useState<string>('');\n    const selectedUsersId = React.useMemo(() => selectedUsers.map(x => x.id), [selectedUsers]);\n\n    const handleChangeName = React.useCallback((value: React.ChangeEvent<{ value: string }>) => {\n        setName(value.target.value);\n    }, []);\n\n    const handleClose = React.useCallback(() => {\n        setOpen(false);\n        props.onClose();\n    }, [props]);\n\n    const handleChange = React.useCallback(\n        (event: React.ChangeEvent<{ value: unknown }>) => {\n            const usersId = event.target.value as string[];\n            const us = usersId.map(userId => users.find(u => u.id === userId));\n            setSelectedUsers(us as UserModel[]);\n        },\n        [users]\n    );\n\n    const handleAction = React.useCallback(async () => {\n        if (hasValue(props.group)) {\n            return new GroupService(config)\n                .update({\n                    id: props.group?.id as number,\n                    name: name,\n                    users: selectedUsers\n                })\n                .then(() => {\n                    props.onAction();\n                    handleClose();\n                });\n        } else {\n            return new GroupService(config)\n                .add({\n                    id: 0,\n                    name: name,\n                    users: selectedUsers\n                })\n                .then(() => {\n                    props.onAction();\n                    handleClose();\n                });\n        }\n    }, [props, name, selectedUsers, config, handleClose]);\n\n    const usersElement = React.useMemo(\n        () =>\n            users.map(u => (\n                <MenuItem key={`menu-${u.id}`} value={u.id} disabled={u.id === user?.uid}>\n                    <AvatarMenuComponent user={u} />\n                </MenuItem>\n            )),\n        [user, users]\n    );\n\n    const renderValues = React.useCallback(\n        (selected: string[]) => (\n            <div className={classes.chips}>\n                {selected.map(userId => (\n                    <AvatarChipComponent\n                        key={`multiple-${userId}`}\n                        user={users.find(u => u.id === userId) as UserModel}\n                    />\n                ))}\n            </div>\n        ),\n        [users, classes.chips]\n    );\n\n    React.useEffect(() => {\n        setOpen(props.show);\n\n        if (!props.show) {\n            // does not need to update anything\n            return;\n        }\n\n        if (props.show && users.length === 0) {\n            setLoadingUsers(true);\n            new UserService(config)\n                .getAll()\n                .then(value => setUsers(value))\n                .catch(() => setErrorUsers(t('COMMON.ERROR')))\n                .finally(() => setLoadingUsers(false));\n        }\n\n        if (hasValue(props.group)) {\n            const g = props.group as GroupFullModel;\n            setName(g.name);\n            setSelectedUsers(g.users);\n\n            setTitle(t('GROUPS.MANAGE.EDIT.TITLE'));\n            setButton(t('COMMON.EDIT'));\n        } else {\n            setName('');\n            if (hasValue(users)) {\n                setSelectedUsers([users.find(x => x.id === user?.uid)] as UserModel[]);\n            }\n\n            setTitle(t('GROUPS.MANAGE.ADD.TITLE'));\n            setButton(t('COMMON.ADD'));\n        }\n    }, [props, config, users, user, t]);\n\n    return (\n        <>\n            <DialogComponent\n                show={open}\n                title={title}\n                actionText={button}\n                disableAction={!hasValue(name) || !hasValue(selectedUsers) || isLoadingUsers}\n                onAction={handleAction}\n                onClose={handleClose}\n            >\n                <Grid container spacing={3}>\n                    <Grid item xs={12}>\n                        <FormControl fullWidth>\n                            <InputLabel htmlFor=\"name\">{t('COMMON.NAME')}</InputLabel>\n                            <Input required id=\"name\" onChange={handleChangeName} value={name} />\n                        </FormControl>\n                    </Grid>\n                    <Grid item xs={12}>\n                        <FormControl fullWidth>\n                            <InputLabel id=\"mutiple-users-label\">{t('COMMON.MODEL.GROUP.USERS')}</InputLabel>\n                            <LoadingComponent showLoading={isLoadingUsers} error={errorUsers}>\n                                <Select\n                                    labelId=\"mutiple-users-label\"\n                                    id=\"users-mutiple-chip\"\n                                    multiple\n                                    value={selectedUsersId}\n                                    onChange={handleChange}\n                                    input={<Input id=\"select-multiple-chip\" />}\n                                    renderValue={selected => renderValues(selected as string[])}\n                                    MenuProps={MenuProps}\n                                >\n                                    {usersElement}\n                                </Select>\n                            </LoadingComponent>\n                        </FormControl>\n                    </Grid>\n                </Grid>\n            </DialogComponent>\n        </>\n    );\n});\n","import React from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { userContext } from '../../contexts/userContext';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Button from '@material-ui/core/Button';\r\nimport AddIcon from '@material-ui/icons/Add';\r\n\r\nimport { AppConfig } from '../../configurations/appConfig';\r\nimport { ConfigurationManager } from '../../configurations/configurationManager';\r\nimport { GroupService } from '../../services/groupService';\r\nimport { GroupFullModel } from '../../models/group';\r\nimport { ItemComponent } from '../../components/item/item';\r\nimport { LoadingComponent } from '../../components/loading/loading';\r\nimport { GroupsManageDialog } from './groupsManage';\r\nimport { AvatarChipComponent } from '../../components/avatar/avatar';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        flexGrow: 1,\r\n        '&:last-child': {\r\n            paddingBottom: theme.spacing(2)\r\n        }\r\n    },\r\n    title: {\r\n        margin: theme.spacing(2),\r\n        marginLeft: 0\r\n    },\r\n    avatar: {\r\n        width: theme.spacing(3),\r\n        height: theme.spacing(3),\r\n        marginRight: theme.spacing(1)\r\n    },\r\n    cards: {\r\n        maxWidth: 345\r\n    },\r\n    item: {\r\n        paddingRight: theme.spacing(2),\r\n        paddingLeft: theme.spacing(1)\r\n    },\r\n    person: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        marginBottom: theme.spacing(1),\r\n        marginRight: theme.spacing(2)\r\n    }\r\n}));\r\n\r\nexport type GroupsProps = {};\r\n\r\nexport const GroupsPage: React.FC<GroupsProps> = React.memo(() => {\r\n    const { isReady } = React.useContext(userContext);\r\n\r\n    const classes = useStyles();\r\n    const [t] = useTranslation();\r\n    const [config] = React.useState<AppConfig>(ConfigurationManager.get());\r\n    const [data, setData] = React.useState<GroupFullModel[]>([]);\r\n    const [isLoading, setLoading] = React.useState<boolean>(false);\r\n    const [show, setShow] = React.useState<boolean>(false);\r\n    const [group, setGroup] = React.useState<GroupFullModel>();\r\n    const [reload, setReload] = React.useState<boolean>(true);\r\n    const [error, setError] = React.useState<string>('');\r\n\r\n    const handleEdit = React.useCallback(\r\n        async (id: number) => {\r\n            setGroup(data.find(x => x.id === id));\r\n            setShow(true);\r\n            return Promise.resolve();\r\n        },\r\n        [data]\r\n    );\r\n\r\n    const handleDelete = React.useCallback(\r\n        async (id: number) => {\r\n            return new GroupService(config).remove(id).then(() => {\r\n                setReload(true);\r\n            });\r\n        },\r\n        [config]\r\n    );\r\n\r\n    const handleAdd = React.useCallback(() => {\r\n        setGroup(undefined);\r\n        setShow(true);\r\n    }, []);\r\n\r\n    const handleAction = React.useCallback(() => {\r\n        setReload(true);\r\n        setShow(false);\r\n    }, []);\r\n\r\n    const handleClose = React.useCallback(() => {\r\n        setShow(false);\r\n    }, []);\r\n\r\n    React.useEffect(() => {\r\n        if (!isReady) {\r\n            // not ready to requet\r\n            return;\r\n        }\r\n\r\n        if (reload) {\r\n            setReload(false);\r\n        } else {\r\n            return;\r\n        }\r\n\r\n        setLoading(true);\r\n        new GroupService(config)\r\n            .getFullAll()\r\n            .then(value => {\r\n                setData(value);\r\n            })\r\n            .catch(() => setError(t('COMMON.ERROR')))\r\n            .finally(() => {\r\n                setLoading(false);\r\n            });\r\n    }, [config, isReady, reload, t]);\r\n\r\n    return (\r\n        <>\r\n            <Grid container justify=\"space-between\" alignItems=\"center\" className={classes.root} spacing={1}>\r\n                <Typography variant=\"h5\" className={classes.title}>\r\n                    {t('GROUPS.LIST.TITLE')}\r\n                </Typography>\r\n                <Button variant=\"contained\" color=\"primary\" startIcon={<AddIcon />} onClick={handleAdd}>\r\n                    {t('COMMON.ADD')}\r\n                </Button>\r\n            </Grid>\r\n            <Grid container justify=\"flex-start\" alignItems=\"center\" className={classes.root} spacing={1}>\r\n                <LoadingComponent showLoading={isLoading || !isReady} error={error}>\r\n                    {data.map(group => (\r\n                        <ItemComponent\r\n                            key={group.id}\r\n                            id={group.id}\r\n                            title={group.name}\r\n                            onEdit={handleEdit}\r\n                            onDelete={handleDelete}\r\n                        >\r\n                            <Grid container justify=\"flex-start\" alignItems=\"center\">\r\n                                {group.users.map(u => (\r\n                                    <AvatarChipComponent key={`groups-page-${u.id}`} user={u} />\r\n                                ))}\r\n                            </Grid>\r\n                        </ItemComponent>\r\n                    ))}\r\n                </LoadingComponent>\r\n            </Grid>\r\n            <GroupsManageDialog group={group} show={show} onAction={handleAction} onClose={handleClose} />\r\n        </>\r\n    );\r\n});\r\n","import React from 'react';\r\nimport { GroupModel } from '../models/group';\r\n\r\ninterface GlobalContext {\r\n    isLoading: boolean;\r\n\r\n    groups: GroupModel[];\r\n    years: number[];\r\n\r\n    group?: GroupModel;\r\n    month: number;\r\n    year: number;\r\n}\r\n\r\nexport const globalContext = React.createContext<GlobalContext>({\r\n    isLoading: false,\r\n\r\n    groups: [],\r\n    years: [new Date().getFullYear()],\r\n\r\n    month: new Date().getMonth(),\r\n    year: new Date().getFullYear()\r\n});\r\n","import React, { memo } from 'react';\r\nimport { useTranslation } from 'react-i18next';\r\nimport queryString from 'query-string';\r\nimport { useHistory, useLocation } from 'react-router';\r\n\r\nimport { Theme, makeStyles, createStyles } from '@material-ui/core/styles';\r\nimport FormControl from '@material-ui/core/FormControl';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Select from '@material-ui/core/Select';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport SearchIcon from '@material-ui/icons/Search';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\r\nimport Accordion from '@material-ui/core/Accordion';\r\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\r\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\r\nimport AccordionActions from '@material-ui/core/AccordionActions';\r\nimport Divider from '@material-ui/core/Divider';\r\n\r\nimport { GroupModel } from '../../models/group';\r\nimport { LoadingComponent, LoadingType } from '../loading/loading';\r\n\r\nconst useStyles = makeStyles((theme: Theme) =>\r\n    createStyles({\r\n        title: {\r\n            maxWidth: 180\r\n        },\r\n        formControl: {\r\n            width: '100%'\r\n        },\r\n        details: {\r\n            alignItems: 'center'\r\n        }\r\n    })\r\n);\r\n\r\nexport type SearchProps = {\r\n    loading: boolean;\r\n\r\n    // data to fill\r\n    groups: GroupModel[];\r\n    years: number[];\r\n\r\n    // selected items\r\n    group?: GroupModel;\r\n    month: number;\r\n    year: number;\r\n};\r\n\r\nexport const SearchComponent: React.FC<SearchProps> = memo((props: SearchProps) => {\r\n    const classes = useStyles();\r\n\r\n    const history = useHistory();\r\n    const location = useLocation();\r\n\r\n    const [t] = useTranslation();\r\n\r\n    const [isExpanded, setExpanded] = React.useState<boolean>(false);\r\n\r\n    const [groups, setGroups] = React.useState<GroupModel[]>([]);\r\n    const [months] = React.useState<number[]>([1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12]);\r\n    const [years, setYears] = React.useState<number[]>([new Date().getFullYear()]);\r\n\r\n    const [selectedGroup, setSelectedGroup] = React.useState<number | string>(props.group?.id ?? '');\r\n    const selectedGroupName = React.useMemo<string>(() => groups.find(x => x.id === selectedGroup)?.name ?? '', [\r\n        groups,\r\n        selectedGroup\r\n    ]);\r\n    const [selectedMonth, setSelectedMonth] = React.useState<number>(new Date().getMonth());\r\n    const [selectedYear, setSelectedYear] = React.useState<number>(new Date().getFullYear());\r\n\r\n    const groupsMenuItems = React.useMemo(\r\n        () =>\r\n            groups.map(group => (\r\n                <MenuItem key={group.id} value={group.id}>\r\n                    {group.name}\r\n                </MenuItem>\r\n            )),\r\n        [groups]\r\n    );\r\n\r\n    const monthsMenuItems = React.useMemo(\r\n        () =>\r\n            months.map(month => (\r\n                <MenuItem key={month} value={month}>\r\n                    {t('SEARCH.MONTHS.' + month)}\r\n                </MenuItem>\r\n            )),\r\n        [months, t]\r\n    );\r\n\r\n    const yearsMenuItems = React.useMemo(\r\n        () =>\r\n            years.map(year => (\r\n                <MenuItem key={year} value={year}>\r\n                    {year}\r\n                </MenuItem>\r\n            )),\r\n        [years]\r\n    );\r\n\r\n    const handleChangeGroup = React.useCallback((event: React.ChangeEvent<{ value: unknown }>) => {\r\n        setSelectedGroup(event.target.value as number);\r\n    }, []);\r\n\r\n    const handleChangeMonth = React.useCallback((event: React.ChangeEvent<{ value: unknown }>) => {\r\n        setSelectedMonth(event.target.value as number);\r\n    }, []);\r\n\r\n    const handleChangeYear = React.useCallback((event: React.ChangeEvent<{ value: unknown }>) => {\r\n        setSelectedYear(event.target.value as number);\r\n    }, []);\r\n\r\n    const handleChangeAccordion = React.useCallback((_event: object, expanded: boolean) => {\r\n        setExpanded(expanded);\r\n    }, []);\r\n\r\n    const handleAction = React.useCallback(() => {\r\n        history.push({\r\n            pathname: location.pathname,\r\n            search: queryString.stringify({\r\n                group: selectedGroup,\r\n                month: selectedMonth,\r\n                year: selectedYear\r\n            })\r\n        });\r\n        setExpanded(false);\r\n    }, [history, location, selectedGroup, selectedMonth, selectedYear]);\r\n\r\n    React.useEffect(() => {\r\n        // update internal stuff\r\n        setGroups(props.groups);\r\n        setYears(props.years);\r\n        setSelectedGroup(props.group?.id ?? '');\r\n        setSelectedMonth(props.month);\r\n        setSelectedYear(props.year);\r\n    }, [props.groups, props.years, props.group, props.month, props.year]);\r\n\r\n    return (\r\n        <>\r\n            <Accordion onChange={handleChangeAccordion} disabled={props.loading} expanded={isExpanded}>\r\n                <AccordionSummary expandIcon={<ExpandMoreIcon />} aria-controls=\"panel1c-content\" id=\"panel1c-header\">\r\n                    <LoadingComponent showLoading={props.loading} size={25} type={LoadingType.linear}>\r\n                        {isExpanded && (\r\n                            <Typography variant=\"h6\">\r\n                                <strong>{t('SEARCH.TITLE')}</strong>\r\n                            </Typography>\r\n                        )}\r\n                        {!isExpanded && (\r\n                            <Grid container direction=\"row\" justify=\"space-around\" alignItems=\"center\">\r\n                                <Typography variant=\"body1\" noWrap={true} className={classes.title}>\r\n                                    {selectedGroupName}\r\n                                </Typography>\r\n                                <Divider orientation=\"vertical\" flexItem />\r\n                                <Typography variant=\"body1\">{t('SEARCH.MONTHS.' + selectedMonth)}</Typography>\r\n                                <Divider orientation=\"vertical\" flexItem />\r\n                                <Typography variant=\"body1\">{selectedYear}</Typography>\r\n                            </Grid>\r\n                        )}\r\n                    </LoadingComponent>\r\n                </AccordionSummary>\r\n                <AccordionDetails className={classes.details}>\r\n                    <Grid container justify=\"center\" spacing={2}>\r\n                        <Grid item xs={12} sm={4}>\r\n                            <FormControl className={classes.formControl}>\r\n                                <InputLabel id=\"group-select-label\">{t('COMMON.GROUP')}</InputLabel>\r\n                                <Select\r\n                                    labelId=\"group-select-label\"\r\n                                    id=\"group-select\"\r\n                                    defaultValue=\"\"\r\n                                    value={selectedGroup}\r\n                                    onChange={handleChangeGroup}\r\n                                >\r\n                                    {groupsMenuItems}\r\n                                </Select>\r\n                            </FormControl>\r\n                        </Grid>\r\n                        <Grid item xs={12} sm={4}>\r\n                            <FormControl className={classes.formControl}>\r\n                                <InputLabel id=\"month-select-label\">{t('COMMON.MONTH')}</InputLabel>\r\n                                <Select\r\n                                    labelId=\"month-select-label\"\r\n                                    id=\"month-select\"\r\n                                    defaultValue=\"\"\r\n                                    value={selectedMonth}\r\n                                    onChange={handleChangeMonth}\r\n                                >\r\n                                    {monthsMenuItems}\r\n                                </Select>\r\n                            </FormControl>\r\n                        </Grid>\r\n                        <Grid item xs={12} sm={4}>\r\n                            <FormControl className={classes.formControl}>\r\n                                <InputLabel id=\"year-select-label\">{t('COMMON.YEAR')}</InputLabel>\r\n                                <Select\r\n                                    labelId=\"year-select-label\"\r\n                                    id=\"year-select\"\r\n                                    defaultValue=\"\"\r\n                                    value={selectedYear}\r\n                                    onChange={handleChangeYear}\r\n                                >\r\n                                    {yearsMenuItems}\r\n                                </Select>\r\n                            </FormControl>\r\n                        </Grid>\r\n                    </Grid>\r\n                </AccordionDetails>\r\n                <Divider />\r\n                <AccordionActions>\r\n                    <Button variant=\"contained\" color=\"primary\" startIcon={<SearchIcon />} onClick={handleAction}>\r\n                        {t('SEARCH.BUTTON')}\r\n                    </Button>\r\n                </AccordionActions>\r\n            </Accordion>\r\n        </>\r\n    );\r\n});\r\n","import React from 'react';\r\n\r\nimport { SearchComponent } from '../../components/search/search';\r\nimport { globalContext } from '../../contexts/globalContext';\r\n\r\nexport const LabelsPage: React.FC = React.memo(() => {\r\n    const global = React.useContext(globalContext);\r\n\r\n    console.log(global);\r\n\r\n    return (\r\n        <>\r\n            <SearchComponent\r\n                loading={global.isLoading}\r\n                groups={global.groups}\r\n                years={global.years}\r\n                group={global.group}\r\n                month={global.month}\r\n                year={global.year}\r\n            />\r\n            Search for {global.group?.name} - {global.month} - {global.year}\r\n        </>\r\n    );\r\n});\r\n","import React from 'react';\n\nimport { globalContext } from '../../contexts/globalContext';\nimport { SearchComponent } from '../../components/search/search';\n\nexport const ExpensesPage: React.FC = React.memo(() => {\n    const global = React.useContext(globalContext);\n\n    console.log(global);\n\n    return (\n        <>\n            <SearchComponent\n                loading={global.isLoading}\n                groups={global.groups}\n                years={global.years}\n                group={global.group}\n                month={global.month}\n                year={global.year}\n            />\n            Search for {global.group?.name} - {global.month} - {global.year}{' '}\n        </>\n    );\n});\n","import React, { memo, useCallback, useState } from 'react';\r\nimport { useHistory } from 'react-router';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nimport FacebookIcon from '@material-ui/icons/Facebook';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport Button from '@material-ui/core/Button';\r\nimport CloseIcon from '@material-ui/icons/Close';\r\n\r\nimport { loginWithFacebook } from '../../services/authService';\r\nimport { Routes } from '../routes';\r\n\r\nexport type FacebookProps = {};\r\n\r\nexport const FacebookPage: React.FC<FacebookProps> = memo(() => {\r\n    const [t] = useTranslation();\r\n    const history = useHistory();\r\n\r\n    const [isLoading, setLoading] = useState<boolean>(false);\r\n    const [hasError, setError] = useState<boolean>(false);\r\n\r\n    const handleFacebook = useCallback(async () => {\r\n        setLoading(true);\r\n        setError(false);\r\n        try {\r\n            await loginWithFacebook();\r\n            setTimeout(() => history.push(Routes.home));\r\n        } catch (error) {\r\n            setError(true);\r\n            // console.error(error);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    }, [history]);\r\n\r\n    return (\r\n        <>\r\n            <Button\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                startIcon={<FacebookIcon />}\r\n                onClick={handleFacebook}\r\n                endIcon={\r\n                    <>\r\n                        {isLoading && <CircularProgress size={15} />}\r\n                        {hasError && <CloseIcon color=\"secondary\" data-testid=\"facebook-close-icon\" />}\r\n                    </>\r\n                }\r\n                disabled={isLoading}\r\n            >\r\n                {t('AUTH.FACEBOOK.BUTTON')}\r\n            </Button>\r\n        </>\r\n    );\r\n});\r\n","import React, { memo } from 'react';\n\nimport Grid from '@material-ui/core/Grid';\nimport { makeStyles, Theme, createStyles } from '@material-ui/core/styles';\n\nimport { LoginPage, LoginPageType } from './loginPage';\nimport { FacebookPage } from './facebookPage';\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        root: {\n            flexGrow: 1\n        },\n        center: {\n            textAlign: 'center'\n        }\n    })\n);\n\nexport const AuthPage: React.FC = memo(() => {\n    const classes = useStyles();\n\n    return (\n        <div className={classes.root}>\n            <Grid container direction=\"row\" justify=\"center\" alignItems=\"flex-start\" spacing={3}>\n                <Grid item xs={12} className={classes.center}>\n                    <FacebookPage />\n                </Grid>\n                {Object.values(LoginPageType).map((value: LoginPageType) => (\n                    <Grid item xs={12} sm={6} md={4}>\n                        <LoginPage type={value} />\n                    </Grid>\n                ))}\n            </Grid>\n        </div>\n    );\n});\n","import React from 'react';\r\nimport { Switch, Route, useHistory, useLocation } from 'react-router';\r\nimport queryString from 'query-string';\r\n\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nimport { GroupModel } from '../models/group';\r\nimport { SearchModel } from '../models/search';\r\nimport { GroupService } from '../services/groupService';\r\nimport { PrivateRoute } from '../helpers/privateRouter';\r\nimport { Routes } from './routes';\r\nimport { GroupsPage } from './groups/groups';\r\nimport { globalContext } from '../contexts/globalContext';\r\nimport { LabelsPage } from './labels/labels';\r\nimport { ExpensesPage } from './expenses/expenses';\r\nimport { AuthPage } from './auth/authPage';\r\nimport { AppConfig } from '../configurations/appConfig';\r\nimport { ConfigurationManager } from '../configurations/configurationManager';\r\nimport { hasValue } from '../helpers/utilHelper';\r\nimport { userContext } from '../contexts/userContext';\r\n\r\nexport const Main: React.FC = React.memo(() => {\r\n    const { isReady } = React.useContext(userContext);\r\n\r\n    const history = useHistory();\r\n    const location = useLocation();\r\n\r\n    const [config] = React.useState<AppConfig>(ConfigurationManager.get());\r\n\r\n    const [groups, setGroups] = React.useState<GroupModel[]>([]);\r\n    const [years] = React.useState<number[]>([new Date().getFullYear()]);\r\n    const [group, setGroup] = React.useState<GroupModel>();\r\n    const [month, setMonth] = React.useState<number>(new Date().getMonth());\r\n    const [year, setYear] = React.useState<number>(new Date().getFullYear());\r\n    const [isLoading, setLoading] = React.useState<boolean>(false);\r\n\r\n    React.useEffect(() => {\r\n        if (!isReady) {\r\n            return;\r\n        }\r\n\r\n        const jsonString = JSON.stringify(queryString.parse(location.search));\r\n        const searchParams = JSON.parse(jsonString) as SearchModel;\r\n        setLoading(true);\r\n\r\n        const setup = async () => {\r\n            let groupsResults: GroupModel[];\r\n            let groupResults: GroupModel | undefined;\r\n            let monthResults: number;\r\n            let yearResults: number;\r\n\r\n            try {\r\n                groupsResults = await new GroupService(config).getFullAll();\r\n            } catch {\r\n                groupsResults = [];\r\n            }\r\n\r\n            setGroups(groupsResults);\r\n            if (hasValue(searchParams.group) && groupsResults.some(x => x.id === searchParams.group)) {\r\n                groupResults = groupsResults.find(x => x.id === searchParams.group) as GroupModel;\r\n            } else if (hasValue(groupsResults)) {\r\n                groupResults = groupsResults[0];\r\n            } else {\r\n                // groupResults = {} as Partial<GroupModel>;\r\n                // show error - does not have groups loaded\r\n            }\r\n            setGroup(groupResults);\r\n\r\n            if (hasValue(searchParams.month) && searchParams.month >= 1 && searchParams.month <= 12) {\r\n                monthResults = searchParams.month;\r\n            } else {\r\n                monthResults = new Date().getMonth();\r\n            }\r\n            setMonth(monthResults);\r\n\r\n            // TODO get years from expenses\r\n            if (hasValue(searchParams.year)) {\r\n                yearResults = searchParams.year;\r\n            } else {\r\n                yearResults = new Date().getFullYear();\r\n            }\r\n            setYear(yearResults);\r\n\r\n            console.log(searchParams, {\r\n                group: groupResults?.id,\r\n                month: monthResults,\r\n                year: yearResults\r\n            });\r\n\r\n            history.push({\r\n                pathname: location.pathname,\r\n                search: queryString.stringify({\r\n                    group: groupResults?.id,\r\n                    month: monthResults,\r\n                    year: yearResults\r\n                })\r\n            });\r\n\r\n            setLoading(false);\r\n        };\r\n        setup();\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [config, location.search, isReady]);\r\n\r\n    return (\r\n        <>\r\n            <globalContext.Provider\r\n                value={{\r\n                    isLoading: isLoading,\r\n                    groups: groups,\r\n                    years: years,\r\n                    group: group,\r\n                    month: month,\r\n                    year: year\r\n                }}\r\n            >\r\n                <Switch>\r\n                    <PrivateRoute path={Routes.groups} component={GroupsPage} />\r\n                    <PrivateRoute path={Routes.labels} component={LabelsPage} />\r\n                    <PrivateRoute path={Routes.expenses} component={ExpensesPage} />\r\n\r\n                    <Route path={Routes.auth} component={AuthPage} />\r\n                    <Route exact path={Routes.home}>\r\n                        <>\r\n                            <Typography variant=\"h3\">HOME</Typography>\r\n                            <Typography variant=\"h6\">Build Version: {config.buildVersion}</Typography>\r\n                        </>\r\n                    </Route>\r\n                    <Route path=\"*\">\r\n                        <h1> 404 </h1>\r\n                    </Route>\r\n                </Switch>\r\n            </globalContext.Provider>\r\n        </>\r\n    );\r\n});\r\n","import React from 'react';\n// import { Switch, Route, useHistory, useLocation } from 'react-router';\nimport { BrowserRouter } from 'react-router-dom';\nimport axios from 'axios';\n// import queryString from 'query-string';\n\nimport { makeStyles, Theme, createStyles, createMuiTheme, ThemeProvider } from '@material-ui/core/styles';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport Container from '@material-ui/core/Container';\n// import Typography from '@material-ui/core/Typography';\n\nimport { Header } from '../components/header/header';\n// import { ExpensesPage } from './expenses/expenses';\nimport { ConfigurationManager } from '../configurations/configurationManager';\nimport { AppConfig } from '../configurations/appConfig';\n// import { LabelsPage } from './labels/labelsPage';\nimport { hasValue } from '../helpers/utilHelper';\nimport { userContext } from '../contexts/userContext';\n// import { PrivateRoute } from '../helpers/privateRouter';\n// import { AuthPage } from './auth/authPage';\nimport { useAuth } from '../services/authService';\n// import { GroupsPage } from './groups/groups';\n// import { Routes } from './routes';\nimport { UserService } from '../services/userService';\nimport { UserModel } from '../models/user';\nimport { LoadingComponent } from '../components/loading/loading';\nimport { Main } from './main';\n// import { globalContext } from '../contexts/globalContext';\n// import { GroupModel } from '../models/groupModel';\n// import { SearchModel } from '../models/search';\n// import { GroupService } from '../services/groupService';\n// import { setgroups } from 'process';\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        container: {\n            flexGrow: 1,\n            marginTop: 10\n        }\n    })\n);\n\nconst Application: React.FC = React.memo(() => {\n    // const history = useHistory();\n    // const location = useLocation();\n\n    const classes = useStyles();\n    const [config] = React.useState<AppConfig>(ConfigurationManager.get());\n\n    // const [groups, setGroups] = React.useState<GroupModel[]>([]);\n    // const [years, setYears] = React.useState<number[]>([new Date().getFullYear()]);\n    // const [group, setGroup] = React.useState<GroupModel>();\n    // const [month, setMonth] = React.useState<number>(new Date().getMonth());\n    // const [year, setYear] = React.useState<number>(new Date().getFullYear());\n    // const [isLoading, setLoading] = React.useState<boolean>(false);\n\n    const { user, initialising } = useAuth();\n    const [isReady, setReady] = React.useState<boolean>(false);\n    React.useEffect(() => {\n        if (initialising || !user) {\n            return;\n        }\n\n        if (hasValue(user)) {\n            user.getIdTokenResult().then((value: any) => {\n                axios.defaults.headers.common.Authorization = value.token;\n                new UserService(config).addOrUpdate({\n                    id: user.uid,\n                    email: user.email,\n                    displayName: user.displayName,\n                    photoUrl: user.photoURL\n                } as UserModel);\n                setReady(true);\n            });\n        }\n    }, [user, initialising, config]);\n\n    // React.useEffect(() => {\n    //     const jsonString = JSON.stringify(queryString.parse(location.search));\n    //     const searchParams = JSON.parse(jsonString) as SearchModel;\n    //     setLoading(true);\n\n    //     const setup = async () => {\n    //         let groupsResults: GroupModel[];\n    //         let groupResults: GroupModel | undefined;\n    //         let monthResults: number;\n    //         let yearResults: number;\n\n    //         console.log(searchParams);\n\n    //         try {\n    //             groupsResults = await new GroupService(config).getFullAll();\n    //         } catch {\n    //             groupsResults = [];\n    //         }\n\n    //         console.log(groupsResults);\n\n    //         setGroups(groupsResults);\n    //         if (hasValue(searchParams.group) && groupsResults.some(x => x.id === searchParams.group)) {\n    //             groupResults = groupsResults.find(x => x.id === searchParams.group) as GroupModel;\n    //         } else if (hasValue(groupsResults)) {\n    //             groupResults = groupsResults[0];\n    //         } else {\n    //             // groupResults = {} as Partial<GroupModel>;\n    //             // show error - does not have groups loaded\n    //         }\n    //         setGroup(groupResults);\n\n    //         console.log(groupResults);\n\n    //         if (hasValue(searchParams.month) && searchParams.month >= 1 && searchParams.month <= 12) {\n    //             monthResults = searchParams.month;\n    //         } else {\n    //             monthResults = new Date().getMonth();\n    //         }\n    //         setMonth(monthResults);\n\n    //         console.log(monthResults);\n\n    //         // TODO get years from expenses\n    //         if (hasValue(searchParams.year)) {\n    //             yearResults = searchParams.year;\n    //         } else {\n    //             yearResults = new Date().getFullYear();\n    //         }\n    //         setMonth(yearResults);\n\n    //         console.log(yearResults);\n\n    //         // history.push({\n    //         //     pathname: location.pathname,\n    //         //     search: queryString.stringify({\n    //         //         group: groupResults,\n    //         //         month: monthResults,\n    //         //         year: yearResults\n    //         //     })\n    //         // });\n\n    //         setLoading(false);\n    //     };\n    //     setup();\n    // }, [config, location.search]);\n\n    const prefersDarkMode = useMediaQuery('(prefers-color-scheme: dark)');\n    const theme = React.useMemo(\n        () =>\n            createMuiTheme({\n                palette: {\n                    type: prefersDarkMode ? 'dark' : 'light'\n                },\n                typography: {\n                    button: {\n                        textTransform: 'none'\n                    }\n                }\n            }),\n        [prefersDarkMode]\n    );\n\n    return (\n        <>\n            <ThemeProvider theme={theme}>\n                <CssBaseline />\n                <userContext.Provider\n                    value={{\n                        user: user,\n                        initialising: initialising,\n                        isReady: isReady\n                    }}\n                >\n                    <BrowserRouter>\n                        <Header />\n                        <Container maxWidth=\"md\" className={classes.container}>\n                            <LoadingComponent showLoading={initialising}>\n                                <Main />\n                                {/* <globalContext.Provider\n                                    value={{\n                                        isLoading: isLoading,\n                                        groups: groups,\n                                        years: years,\n                                        group: group,\n                                        month: month,\n                                        year: year\n                                    }}\n                                >\n                                    <Switch>\n                                        <PrivateRoute path={Routes.groups} component={GroupsPage} />\n                                        <PrivateRoute path={Routes.labels} component={LabelsPage} />\n                                        <PrivateRoute path={Routes.expenses} component={ExpensesPage} />\n\n                                        <Route path={Routes.auth} component={AuthPage} />\n                                        <Route exact path={Routes.home}>\n                                            <>\n                                                <Typography variant=\"h3\">HOME</Typography>\n                                                <Typography variant=\"h6\">\n                                                    Build Version: {config.buildVersion}\n                                                </Typography>\n                                            </>\n                                        </Route>\n                                        <Route path=\"*\">\n                                            <h1> 404 </h1>\n                                        </Route>\n                                    </Switch>\n                                </globalContext.Provider> */}\n                            </LoadingComponent>\n                        </Container>\n                    </BrowserRouter>\n                </userContext.Provider>\n            </ThemeProvider>\n        </>\n    );\n});\n\nexport const App = Application;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","const firebaseConfig = {\r\n    apiKey: 'AIzaSyAVfjm2M_d7mmVbD4kOwVWxp57CQZV8jqQ',\r\n    authDomain: 'myexpenses-6e402.firebaseapp.com',\r\n    databaseURL: 'https://myexpenses-6e402.firebaseio.com',\r\n    projectId: 'myexpenses-6e402',\r\n    storageBucket: 'myexpenses-6e402',\r\n    messagingSenderId: 'my-sender-id'\r\n};\r\n\r\nexport default firebaseConfig;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { initializeApp } from 'firebase/app';\n\nimport './index.scss';\nimport './configurations/i18n';\n\nimport { App } from './pages/App';\nimport * as serviceWorker from './serviceWorker';\nimport { setConfiguration } from './configurations/configurationManager';\nimport firebaseConfig from './configurations/firebase';\n\nsetConfiguration();\n\n// initialize firebase\ninitializeApp({ ...firebaseConfig });\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}