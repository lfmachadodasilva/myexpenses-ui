(this.webpackJsonpmyexpenses=this.webpackJsonpmyexpenses||[]).push([[0],{115:function(e){e.exports=JSON.parse('{"MONTHS":{"1":"January","2":"February","3":"March","4":"April","5":"May","6":"June","7":"July","8":"August","9":"September","10":"October","11":"November","12":"December"},"HEADER":{"TITLE":"MyExpenses","GROUP":"Group","LABEL":"Label","EXPENSE":"Expense","SETTINGS":"Settings","LOGOUT":"Logout","LOGIN":"Login"},"SEARCH":{"GROUP":"Group","MONTH":"Month","YEAR":"Year","ACTION":"Search","HEADER":"Search by"},"AUTH":{"FACEBOOK":"Facebook","BY_FACEBOOK":"Login by Facebook","EMAIL":"Email","EMAIL_PLACEHOLDER":"Enter email","PASSWORD":"Password","PASSWORD_PLACEHOLDER":"Enter password","LOGIN":"Login","BY_EMAIL":"Login by email","ERROR":"Something went wrong. Try again later."},"GROUP":{"TITLE":"Groups","ADD":"Add new group","ERROR":"Something went wrong. Try again later.","YOU":"You","EDIT":"Edit","DELETE":"Delete","MODAL":{"ADD_TITLE":"Add new group","EDIT_TITLE":"Edit group","ADD_ACTION":"Add","EDIT_ACTION":"Edit","NAME":"Name","NAME_PLACEHOLDER":"Enter name","USERS":"Users"}},"LABEL":{"TITLE":"Labels","ADD":"Add new label","ERROR":"Something went wrong. Try again later.","EDIT":"Edit","DELETE":"Delete","MODAL":{"ADD_TITLE":"Add new label","EDIT_TITLE":"Edit label","ADD_ACTION":"Add","EDIT_ACTION":"Edit","NAME":"Name","NAME_PLACEHOLDER":"Enter name"}}}')},123:function(e,t,a){e.exports=a(182)},137:function(e,t,a){},182:function(e,t,a){"use strict";a.r(t);var n=a(52),r=a(0),c=a.n(r),i=a(36),u=a.n(i),o=a(114);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var s=a(102),l=a(70),p={en:{translation:a(115)}};s.a.use(l.e).init({resources:p,lng:"en",fallbackLng:"en",interpolation:{escapeValue:!1}});s.a,a(137);var f,m=a(20),b=a(27),h=a(99),E=a.n(h),d=function(e){return null!==e&&void 0!==e&&("string"!==typeof e&&!Array.isArray(e)||e.length>0)},v=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.find((function(e){return d(e)}))};!function(e){e.FIREBASE="FIREBASE",e.LOCAL_STORAGE="LOCAL_STORAGE",e.TOTAL_FAKE="TOTAL_FAKE",e.TEST_API="TEST_API"}(f||(f={}));var O=function e(){Object(m.a)(this,e),this.apiUrl="TOTAL_FAKE",this.buildVersion="local",this.requestDelay=2e3,this.firebaseApiKey="AIzaSyDMDE7eTQbjwkQglMJf5KnFtMr48-pAoVM",this.firebaseProject="lfmachadodasilva-dev"},g=function(){function e(){Object(m.a)(this,e)}return Object(b.a)(e,null,[{key:"get",value:function(){var e=E.a.get("ApplicationConfiguration"),t=new O;return Object.assign(t,e),t}}]),e}();g.set=function(e){E.a.set({ApplicationConfiguration:e},{freeze:!1})};var k=a(8),A=a(77),x=a(22),y=a(34),L=a.n(y),R=a(4),T=a.n(R),j=a(9),U=a(28),S=a(48),w=a(72),C=a(58),D=a(71),_=a(187),I=a(11),M=function e(){Object(m.a)(this,e)};M.home="/",M.auth="/auth",M.settings="/settings",M.group="/group",M.label="/label",M.expense="/expense";var F=c.a.createContext({user:null,initialising:!1,isReady:!1}),G=a(40),N=a.n(G),B=(a(158),new G.auth.FacebookAuthProvider),P=function(){var e=Object(j.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(G.auth)().signInWithPopup(B);case 3:return e.abrupt("return",e.sent);case 6:throw e.prev=6,e.t0=e.catch(0),console.error(e.t0),e.t0;case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}(),H=function(){var e=Object(j.a)(T.a.mark((function e(t,a){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(G.auth)().signInWithEmailAndPassword(t,a);case 3:e.next=9;break;case 5:throw e.prev=5,e.t0=e.catch(0),console.error(e.t0),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,a){return e.apply(this,arguments)}}(),K=function(e){var t,a;return d(e)?d(e.displayName)?null===(a=e.displayName)||void 0===a?void 0:a.split(" ")[0]:null===(t=e.email)||void 0===t?void 0:t.split("@")[0]:""};function z(){var e=Object(U.a)(["\n        .navbar-brand {\n            cursor: pointer;\n        };\n    "]);return z=function(){return e},e}var Y=Object(x.b)(z()),J=c.a.memo((function(e){var t=Object(r.useContext)(F),a=t.user,n=t.initialising,i=Object(I.g)(),u=Object(_.a)(),o=Object(k.a)(u,1)[0],s=c.a.useCallback((function(e){d(i.location.search)?i.push({pathname:e,search:i.location.search}):i.push(e)}),[i]),l=c.a.useCallback(Object(j.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,N.a.auth().signOut();case 2:setTimeout((function(){return i.push(M.home)}));case 3:case"end":return e.stop()}}),e)}))),[i]),p=c.a.useMemo((function(){if(d(a)){var e=K(a);return c.a.createElement(S.a,null,c.a.createElement(D.a,{title:e,id:"collasible-nav-dropdown"},c.a.createElement(D.a.Item,{onClick:function(){return s(M.settings)}},o("HEADER.SETTINGS")),c.a.createElement(D.a.Divider,null),c.a.createElement(D.a.Item,{onClick:l},o("HEADER.LOGOUT"))))}return c.a.createElement(S.a,null,c.a.createElement(S.a.Link,{onClick:function(){return s(M.auth)}},o("HEADER.LOGIN")))}),[a,s,l,o]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(Y,null),c.a.createElement(w.a,{bg:"dark",variant:"dark",expand:"sm"},c.a.createElement(C.a,null,c.a.createElement(w.a.Brand,{onClick:function(){return s(M.home)}},o("HEADER.TITLE")),c.a.createElement(w.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),c.a.createElement(w.a.Collapse,{id:"responsive-navbar-nav",className:"mr-auto "},c.a.createElement(S.a,{className:"mr-auto"},c.a.createElement(S.a.Link,{onClick:function(){return s(M.group)}},o("HEADER.GROUP")),c.a.createElement(S.a.Link,{onClick:function(){return s(M.label)}},o("HEADER.LABEL")),c.a.createElement(S.a.Link,{onClick:function(){return s(M.expense)}},o("HEADER.EXPENSE"))),!n&&p))))}));function V(){var e=Object(U.a)(["\n  body {\n    background: ",";\n    color: ",";\n  };\n\n  .card {\n    background: ",";\n    color: ",";\n    border-color:",";\n  };\n  .card-header {\n    background: ",";\n    color: ",";\n    border-color:",";\n  };\n\n  .form-control {\n    background-color: ",";\n    color: ",";\n  };\n\n  .modal-content {\n    background-color: ",";\n    border-color:",";\n  };\n  .modal-header {\n    background-color: ",";\n    border-color:",";\n  };\n  .modal-body {\n    background-color: ",";\n    border-color:",";\n  };\n  .modal-footer {\n    background-color: ",";\n    border-color:",";\n  };\n  .close {\n    background-color: ",";\n    color: ",";\n    border-color:",";\n    text-shadow: none;\n  }\n  "]);return V=function(){return e},e}var W=Object(x.b)(V(),(function(e){return e.theme.body}),(function(e){return e.theme.text}),(function(e){return e.theme.body}),(function(e){return e.theme.text}),(function(e){return e.theme.toggleBorder}),(function(e){return e.theme.body}),(function(e){return e.theme.text}),(function(e){return e.theme.toggleBorder}),(function(e){return e.theme.body}),(function(e){return e.theme.text}),(function(e){return e.theme.body}),(function(e){return e.theme.toggleBorder}),(function(e){return e.theme.body}),(function(e){return e.theme.toggleBorder}),(function(e){return e.theme.body}),(function(e){return e.theme.toggleBorder}),(function(e){return e.theme.body}),(function(e){return e.theme.toggleBorder}),(function(e){return e.theme.body}),(function(e){return e.theme.text}),(function(e){return e.theme.toggleBorder})),q={body:"#363537",text:"#FAFAFA",toggleBorder:"#646464",gradient:"linear-gradient(#091236, #1E215D)"},Q=a(68),X=a.n(Q),$=a(39),Z=a(25),ee=a(91),te=a(13),ae=a(43),ne=a(16);function re(){var e=Object(U.a)(["\n    "]);return re=function(){return e},e}var ce=Object(x.b)(re()),ie=c.a.memo((function(e){var t=Object(_.a)(),a=Object(k.a)(t,1)[0],n=Object(I.g)(),r=c.a.useState(!1),i=Object(k.a)(r,2),u=i[0],o=i[1],s=c.a.useState(!1),l=Object(k.a)(s,2),p=l[0],f=l[1],m=c.a.useState(""),b=Object(k.a)(m,2),h=b[0],E=b[1],d=c.a.useState(""),v=Object(k.a)(d,2),O=v[0],g=v[1],A=c.a.useCallback(Object(j.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),f(!1),e.prev=2,e.next=5,P();case 5:setTimeout((function(){return n.push(M.home)})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),f(!0);case 11:return e.prev=11,o(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[2,8,11,14]])}))),[n]),x=c.a.useCallback((function(e){E(e.target.value)}),[]),y=c.a.useCallback((function(e){g(e.target.value)}),[]),L=c.a.useCallback(Object(j.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),f(!1),e.prev=2,e.next=5,H(h,O);case 5:setTimeout((function(){return n.push(M.home)})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),f(!0);case 11:return e.prev=11,o(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[2,8,11,14]])}))),[h,O,n]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(ce,null),c.a.createElement(C.a,{className:"p-4"},p&&c.a.createElement(ae.a,{key:"AUTH.ERROR",variant:"danger"},a("AUTH.ERROR")),c.a.createElement(ee.a,null,c.a.createElement($.a,{className:"p-1",xs:12,sm:6},c.a.createElement(ne.a,{className:"p-4"},c.a.createElement(ne.a.Title,null,a("AUTH.BY_FACEBOOK")),c.a.createElement(ne.a.Body,null,c.a.createElement(Z.a,{onClick:A},a("AUTH.FACEBOOK"))))),c.a.createElement($.a,{className:"p-1",xs:12,sm:6},c.a.createElement(ne.a,{className:"p-4"},c.a.createElement(ne.a.Title,null,a("AUTH.BY_EMAIL")),c.a.createElement(ne.a.Body,null,c.a.createElement(te.a,null,c.a.createElement(te.a.Group,{controlId:"formBasicEmail"},c.a.createElement(te.a.Label,null,a("AUTH.EMAIL")),c.a.createElement(te.a.Control,{type:"email",placeholder:a("AUTH.EMAIL_PLACEHOLDER"),onChange:x})),c.a.createElement(te.a.Group,{controlId:"formBasicPassword"},c.a.createElement(te.a.Label,null,a("AUTH.PASSWORD")),c.a.createElement(te.a.Control,{type:"password",placeholder:a("AUTH.PASSWORD_PLACEHOLDER"),onChange:y})),c.a.createElement(Z.a,{variant:"primary",onClick:L,disabled:u},a("AUTH.LOGIN")))))))))})),ue=a(95),oe=a(59),se=c.a.createContext({isLoading:!0,groups:[],years:[],group:0,month:0,year:0});function le(){var e=Object(U.a)(["\n    .card-header {\n        padding: 5px;\n        border: none;\n    }\n    .card-body {\n        padding-top: 0;\n        padding-bottom: 0;\n        padding-right: 10px;\n        padding-left: 10px;\n    }\n    .search-header {\n        margin: 0px;\n    }\n    "]);return le=function(){return e},e}var pe,fe=Object(x.b)(le()),me=c.a.memo((function(e){var t=Object(_.a)(),a=Object(k.a)(t,1)[0],n=Object(I.g)(),i=Object(r.useContext)(se),u=c.a.useState([1,2,3,4,5,6,7,8,9,10,11,12]),o=Object(k.a)(u,1)[0],s=c.a.useState(i.group),l=Object(k.a)(s,2),p=l[0],f=l[1],m=c.a.useState(i.month),b=Object(k.a)(m,2),h=b[0],E=b[1],d=c.a.useState(i.year),v=Object(k.a)(d,2),O=v[0],g=v[1],A=c.a.useState(!1),x=Object(k.a)(A,2),y=x[0],L=x[1];c.a.useEffect((function(){f(i.group),E(i.month),g(i.year)}),[i.group,i.month,i.year]);var R=c.a.useCallback((function(e){f(e.target.value)}),[]),T=c.a.useCallback((function(e){E(e.target.value)}),[]),j=c.a.useCallback((function(e){g(e.target.value)}),[]),U=c.a.useCallback((function(){n.push({pathname:n.location.pathname,search:X.a.stringify({group:p,month:h,year:O})})}),[n,p,h,O]),S=c.a.useCallback((function(){L(!y)}),[y]),w=c.a.useMemo((function(){return i.groups.map((function(e){return c.a.createElement("option",{key:"GROUP_"+e.id,value:e.id},e.name)}))}),[i.groups]),C=c.a.useMemo((function(){return o.map((function(e){return c.a.createElement("option",{key:"MONTH_"+e,value:e},a("MONTHS."+e))}))}),[o,a]),D=c.a.useMemo((function(){return i.years.map((function(e){return c.a.createElement("option",{key:"YEAR_"+e,value:e},e)}))}),[i.years]),M=c.a.useMemo((function(){if(i.isLoading)return c.a.createElement("div",{className:"text-center"},c.a.createElement(oe.a,{animation:"border",role:"status",size:"sm"},c.a.createElement("span",{className:"sr-only"},"Loading...")));if(y)return c.a.createElement("div",{className:"d-flex justify-content-between"},c.a.createElement("strong",null,c.a.createElement("p",{className:"search-header"},a("SEARCH.HEADER"))),c.a.createElement(Z.a,{onClick:U,size:"sm"},a("SEARCH.ACTION")));var e=i.groups.find((function(e){return e.id===p}));return c.a.createElement("div",{className:"d-flex justify-content-around"},c.a.createElement("p",{className:"search-header"},null===e||void 0===e?void 0:e.name),c.a.createElement("p",{className:"search-header"},a("MONTHS."+h)),c.a.createElement("p",{className:"search-header"},O))}),[y,i.isLoading,i.groups,p,h,O,a,U]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(fe,null),c.a.createElement(ue.a,null,c.a.createElement(ne.a,null,c.a.createElement(ne.a.Header,null,c.a.createElement(ue.a.Toggle,{as:ne.a.Header,eventKey:"0",onClick:S},M)),c.a.createElement(ue.a.Collapse,{eventKey:"0"},c.a.createElement(ne.a.Body,null,c.a.createElement(ee.a,null,c.a.createElement($.a,{xs:12,sm:5},c.a.createElement(te.a.Group,null,c.a.createElement(te.a.Label,null,a("SEARCH.GROUP")),c.a.createElement(te.a.Control,{as:"select",size:"sm",value:p,onChange:R},w))),c.a.createElement($.a,{xs:12,sm:4},c.a.createElement(te.a.Group,null,c.a.createElement(te.a.Label,null,a("SEARCH.MONTH")),c.a.createElement(te.a.Control,{as:"select",size:"sm",value:h,onChange:T},C))),c.a.createElement($.a,{xs:12,sm:3},c.a.createElement(te.a.Group,null,c.a.createElement(te.a.Label,null,a("SEARCH.YEAR")),c.a.createElement(te.a.Control,{as:"select",size:"sm",value:O,onChange:j},D)))))))),c.a.createElement("br",null))})),be=c.a.memo((function(e){return c.a.createElement(c.a.Fragment,null,"Expense page",c.a.createElement("br",null),c.a.createElement(me,null))})),he=a(92),Ee=a(19),de=a(45),ve=a(44),Oe=[{id:"1",displayName:"User 1",email:"user1@email.com"},{id:"2",displayName:"User 2",email:"user2@email.com"},{id:"3",displayName:"User 3",email:"user3@email.com"},{id:"4",displayName:"User 4",email:"user4@email.com"},{id:"5",displayName:"User 5",email:"user5@email.com"}],ge=[{id:1,name:"Group 1",users:Oe.map((function(e){return e.id}))},{id:2,name:"Group 2",users:Oe.map((function(e){return e.id}))},{id:3,name:"Group 3",users:Oe.map((function(e){return e.id}))},{id:4,name:"Group 4",users:Oe.map((function(e){return e.id}))}],ke=[{id:1,name:"Group 1",users:Oe},{id:2,name:"Group 2",users:Oe},{id:3,name:"Group 3",users:Oe},{id:4,name:"Group 4",users:Oe}];!function(e){e[e.OK=200]="OK",e[e.ERROR=500]="ERROR"}(pe||(pe={}));var Ae=function(){var e=Object(j.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.response&&t.response.status>=pe.OK&&(console.error("Request Failed:",t.config),console.error("Status:",t.response.status),console.error("Data:",t.response.data),console.error("Headers:",t.response.headers)),e.abrupt("return",Promise.reject(t));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),xe=function(){function e(t){Object(m.a)(this,e),this.config=t}return Object(b.a)(e,[{key:"resolveMockData",value:function(){var e=Object(j.a)(T.a.mark((function e(t){var a=this;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){setTimeout((function(){e(t)}),a.config.requestDelay)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"rejectMockData",value:function(){var e=Object(j.a)(T.a.mark((function e(){var t=this;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){setTimeout((function(){a()}),t.config.requestDelay)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"get",value:function(){var e=Object(j.a)(T.a.mark((function e(t,a){var n;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.get(t,{baseURL:this.config.apiUrl,withCredentials:!0,headers:{Accept:"application/json; charset=utf=8",Authorization:"Bearer "+L.a.defaults.headers.common.Authorization},params:a});case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Ae(e.t0));case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"post",value:function(){var e=Object(j.a)(T.a.mark((function e(t,a,n){var r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.post(t,n,{baseURL:this.config.apiUrl,withCredentials:!0,headers:{Accept:"application/json; charset=utf=8",Authorization:"Bearer "+L.a.defaults.headers.common.Authorization},params:a});case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Ae(e.t0));case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"put",value:function(){var e=Object(j.a)(T.a.mark((function e(t,a,n){var r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.put(t,n,{baseURL:this.config.apiUrl,withCredentials:!0,headers:{Accept:"application/json; charset=utf=8",Authorization:"Bearer "+L.a.defaults.headers.common.Authorization},params:a});case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Ae(e.t0));case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(j.a)(T.a.mark((function e(t){var a;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.delete(t,{baseURL:this.config.apiUrl,withCredentials:!0,headers:{Accept:"application/json; charset=utf=8",Authorization:"Bearer "+L.a.defaults.headers.common.Authorization}});case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",Ae(e.t0));case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),ye=function(e){Object(de.a)(a,e);var t=Object(ve.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).config=e,n.baseUrl="/api/group",n}return Object(b.a)(a,[{key:"getAllFull",value:function(){var e=Object(j.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config.apiUrl!==f.FIREBASE){e.next=3;break}e.next=8;break;case 3:if(this.config.apiUrl!==f.LOCAL_STORAGE){e.next=6;break}e.next=8;break;case 6:if(this.config.apiUrl!==f.TOTAL_FAKE){e.next=8;break}return e.abrupt("return",this.resolveMockData(ke));case 8:return e.next=10,this.get(this.baseUrl+"/full",{user:t});case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAll",value:function(){var e=Object(j.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config.apiUrl!==f.FIREBASE){e.next=3;break}e.next=8;break;case 3:if(this.config.apiUrl!==f.LOCAL_STORAGE){e.next=6;break}e.next=8;break;case 6:if(this.config.apiUrl!==f.TOTAL_FAKE){e.next=8;break}return e.abrupt("return",this.resolveMockData(ge));case 8:return e.next=10,this.get(this.baseUrl);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Object(j.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config.apiUrl!==f.FIREBASE){e.next=3;break}e.next=8;break;case 3:if(this.config.apiUrl!==f.LOCAL_STORAGE){e.next=6;break}e.next=8;break;case 6:if(this.config.apiUrl!==f.TOTAL_FAKE){e.next=8;break}return e.abrupt("return",this.resolveMockData(ge[0]));case 8:return e.next=10,this.post(this.baseUrl,{},t);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=Object(j.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config.apiUrl!==f.FIREBASE){e.next=3;break}e.next=8;break;case 3:if(this.config.apiUrl!==f.LOCAL_STORAGE){e.next=6;break}e.next=8;break;case 6:if(this.config.apiUrl!==f.TOTAL_FAKE){e.next=8;break}return e.abrupt("return",this.resolveMockData(void 0));case 8:return e.next=10,this.put(this.baseUrl,{},t);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"remove",value:function(){var e=Object(j.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config.apiUrl!==f.FIREBASE){e.next=3;break}e.next=8;break;case 3:if(this.config.apiUrl!==f.LOCAL_STORAGE){e.next=6;break}e.next=8;break;case 6:if(this.config.apiUrl!==f.TOTAL_FAKE){e.next=8;break}return e.abrupt("return",this.resolveMockData(void 0));case 8:return e.next=10,this.delete(this.baseUrl+"/"+t);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),a}(xe),Le=a(62),Re=function(e){Object(de.a)(a,e);var t=Object(ve.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).config=e,n.baseUrl="/api/user",n}return Object(b.a)(a,[{key:"getAll",value:function(){var e=Object(j.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config.apiUrl!==f.FIREBASE){e.next=3;break}e.next=8;break;case 3:if(this.config.apiUrl!==f.LOCAL_STORAGE){e.next=6;break}e.next=8;break;case 6:if(this.config.apiUrl!==f.TOTAL_FAKE){e.next=8;break}return e.abrupt("return",this.resolveMockData(Oe));case 8:return e.next=10,this.get(this.baseUrl);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Object(j.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config.apiUrl!==f.FIREBASE){e.next=3;break}e.next=8;break;case 3:if(this.config.apiUrl!==f.LOCAL_STORAGE){e.next=6;break}e.next=8;break;case 6:if(this.config.apiUrl!==f.TOTAL_FAKE){e.next=8;break}return e.abrupt("return",this.resolveMockData(Oe[0]));case 8:return e.next=10,this.post(this.baseUrl,{},t);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=Object(j.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config.apiUrl!==f.FIREBASE){e.next=3;break}e.next=8;break;case 3:if(this.config.apiUrl!==f.LOCAL_STORAGE){e.next=6;break}e.next=8;break;case 6:if(this.config.apiUrl!==f.TOTAL_FAKE){e.next=8;break}return e.abrupt("return",this.resolveMockData(void 0));case 8:return e.next=10,this.put(this.baseUrl,{},t);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"remove",value:function(){var e=Object(j.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config.apiUrl!==f.FIREBASE){e.next=3;break}e.next=8;break;case 3:if(this.config.apiUrl!==f.LOCAL_STORAGE){e.next=6;break}e.next=8;break;case 6:if(this.config.apiUrl!==f.TOTAL_FAKE){e.next=8;break}return e.abrupt("return",this.resolveMockData(void 0));case 8:return e.next=10,this.delete(this.baseUrl+"/"+t);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),a}(xe),Te=c.a.memo((function(e){var t=Object(_.a)(),a=Object(k.a)(t,1)[0],n=Object(r.useContext)(F).user,i=c.a.useState(""),u=Object(k.a)(i,2),o=u[0],s=u[1],l=c.a.useState(g.get()),p=Object(k.a)(l,1)[0],f=c.a.useState(""),m=Object(k.a)(f,2),b=m[0],h=m[1],E=c.a.useState([]),v=Object(k.a)(E,2),O=v[0],A=v[1],x=c.a.useState([]),y=Object(k.a)(x,2),L=y[0],R=y[1],U=c.a.useState(!1),S=Object(k.a)(U,2),w=S[0],C=S[1],D=c.a.useState(!1),I=Object(k.a)(D,2),M=I[0],G=I[1],N=c.a.useCallback((function(e){h(e.target.value)}),[]),B=c.a.useCallback((function(e){A(Array.from(e.target.selectedOptions,(function(e){return e.value})))}),[]),P=c.a.useCallback(Object(j.a)(T.a.mark((function t(){var n;return T.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(G(!0),!d(e.group)){t.next=16;break}return t.prev=2,t.next=5,new ye(p).update({id:null===(n=e.group)||void 0===n?void 0:n.id,name:b,users:O});case 5:e.onAction(),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(2),s(a("GROUP.ERROR"));case 11:return t.prev=11,G(!1),t.finish(11);case 14:t.next=29;break;case 16:return G(!0),t.prev=17,t.next=20,new ye(p).add({name:b,users:O});case 20:e.onAction(),t.next=26;break;case 23:t.prev=23,t.t1=t.catch(17),s(a("GROUP.ERROR"));case 26:return t.prev=26,G(!1),t.finish(26);case 29:case"end":return t.stop()}}),t,null,[[2,8,11,14],[17,23,26,29]])}))),[b,O,a,p,e]);c.a.useEffect((function(){var t,a;e.show&&(e.group?(h(null===(t=e.group)||void 0===t?void 0:t.name),A(null===(a=e.group)||void 0===a?void 0:a.users.map((function(e){return e.id})))):(h(""),A([])))}),[e]),c.a.useEffect((function(){(function(){var e=Object(j.a)(T.a.mark((function e(){var t;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return C(!0),s(""),e.prev=2,e.next=5,new Re(p).getAll();case 5:t=e.sent,R(t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),s(a("GROUP.ERROR"));case 12:return e.prev=12,C(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[2,9,12,15]])})));return function(){return e.apply(this,arguments)}})()()}),[a,p]);var H=c.a.useMemo((function(){return!!M||(!!d(o)||(!d(b)||!d(O)))}),[o,b,O,M]),K=c.a.useMemo((function(){return L.map((function(e){return(null===n||void 0===n?void 0:n.uid)===e.id?c.a.createElement("option",{key:e.id,value:e.id},a("GROUP.YOU")):c.a.createElement("option",{key:e.id,value:e.id},"".concat(e.displayName," (").concat(e.email,")"))}))}),[L,n,a]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(Le.a,{show:e.show,onHide:e.onHide,size:"lg",centered:!0},c.a.createElement(Le.a.Header,{closeButton:!0},c.a.createElement(Le.a.Title,null,d(e.group)?a("GROUP.MODAL.EDIT_TITLE"):a("GROUP.MODAL.ADD_TITLE"))),c.a.createElement(Le.a.Body,null,d(o)&&c.a.createElement(ae.a,{key:"GROUP.MODAL.ERROR",variant:"danger"},o),c.a.createElement(te.a,null,c.a.createElement(te.a.Group,{controlId:"exampleForm.ControlInput1"},c.a.createElement(te.a.Label,null,a("GROUP.MODAL.NAME")),c.a.createElement(te.a.Control,{"data-testid":"group-name-field",type:"text",value:b,placeholder:a("GROUP.MODAL.NAME_PLACEHOLDER"),onChange:N})),c.a.createElement(te.a.Group,{controlId:"exampleForm.ControlSelect2"},c.a.createElement(te.a.Label,null,a("GROUP.MODAL.USERS")),c.a.createElement(te.a.Control,{"data-testid":"group-users-field",as:"select",multiple:!0,value:O,readOnly:w&&d(o),onChange:B},K)))),c.a.createElement(Le.a.Footer,null,c.a.createElement(Z.a,{variant:"primary",onClick:P,disabled:H},d(e.group)?a("GROUP.MODAL.EDIT_ACTION"):a("GROUP.MODAL.ADD_ACTION")))))}));function je(){var e=Object(U.a)(["\n    .card-body {\n        padding: 10px;\n    };\n    "]);return je=function(){return e},e}var Ue=Object(x.b)(je()),Se=c.a.memo((function(e){var t=Object(_.a)(),a=Object(k.a)(t,1)[0],n=Object(r.useContext)(F).user,i=c.a.useState(g.get()),u=Object(k.a)(i,1)[0],o=c.a.useState(!1),s=Object(k.a)(o,2),l=s[0],p=s[1],f=c.a.useState(),m=Object(k.a)(f,2),b=m[0],h=m[1],E=c.a.useState([]),v=Object(k.a)(E,2),O=v[0],A=v[1],x=c.a.useState(""),y=Object(k.a)(x,2),L=y[0],R=y[1],U=c.a.useState(!1),S=Object(k.a)(U,2),w=S[0],C=S[1],D=c.a.useState(!1),I=Object(k.a)(D,2),M=I[0],G=I[1],N=c.a.useCallback((function(){h(void 0),C(!0)}),[]),B=c.a.useCallback((function(e){h(e),C(!0)}),[]),P=c.a.useCallback(function(){var e=Object(j.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new ye(u).remove(null===t||void 0===t?void 0:t.id);case 3:setTimeout((function(){G(!M)}),u.requestDelay),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),R(a("GROUP.ERROR"));case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),[u,M,a]),H=c.a.useCallback((function(){C(!1)}),[]),z=c.a.useCallback((function(){C(!1),setTimeout((function(){G(!M)}),u.requestDelay)}),[u,M]);c.a.useEffect((function(){(function(){var e=Object(j.a)(T.a.mark((function e(){var t,r;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.prev=1,e.next=4,new ye(u).getAllFull(null!==(t=null===n||void 0===n?void 0:n.uid)&&void 0!==t?t:"");case 4:r=e.sent,A(r),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),A([]),R(a("GROUP.ERROR"));case 12:return e.prev=12,p(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,8,12,15]])})));return function(){return e.apply(this,arguments)}})()()}),[u,n,M,a]);var Y=c.a.useMemo((function(){return O.map((function(e,t){return c.a.createElement(ne.a,{key:"GROUP_".concat(t),className:"mb-1"},c.a.createElement(ne.a.Body,null,c.a.createElement(ne.a.Title,null,c.a.createElement("div",{className:"d-flex justify-content-between"},e.name,c.a.createElement(he.a,{size:"sm",variant:"secondary",title:"",id:"group-menu-".concat(e.id)},c.a.createElement(Ee.a.Item,{eventKey:"1",onClick:function(){return B(e)}},a("GROUP.EDIT")),c.a.createElement(Ee.a.Divider,null),c.a.createElement(Ee.a.Item,{eventKey:"2",onClick:function(){return P(e)}},a("GROUP.DELETE"))))),c.a.createElement(ne.a.Body,null,c.a.createElement("div",{key:"GROUP_USERS_".concat(t),className:"d-flex flex-wrap justify-content-start"},e.users.map((function(e,a){return c.a.createElement("small",{key:"GROUP_SMALL_".concat(t,"_").concat(a),className:"mr-2"},K(e))}))))))}))}),[O,B,P,a]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ue,null),c.a.createElement("div",{className:"d-flex justify-content-between mb-2"},c.a.createElement("h4",null,a("GROUP.TITLE")),c.a.createElement(Z.a,{onClick:N},a("GROUP.ADD"))),d(L)&&c.a.createElement(ae.a,{key:"GROUP.ERROR",variant:"danger"},L),l&&c.a.createElement("div",{className:"d-flex justify-content-center m-4"},c.a.createElement(oe.a,{className:"group-loading",animation:"border",role:"status"},c.a.createElement("span",{className:"sr-only"},"Loading..."))),!l&&Y,c.a.createElement(Te,{show:w,group:b,onHide:H,onAction:z}))})),we=[{id:1,name:"Label 1"},{id:2,name:"Label 2"},{id:3,name:"Label 3"},{id:4,name:"Label 4"}],Ce=[{id:1,name:"Label 1"},{id:2,name:"Label 2"},{id:3,name:"Label 3"},{id:4,name:"Label 4"}],De=function(e){Object(de.a)(a,e);var t=Object(ve.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).config=e,n.baseUrl="/api/label",n}return Object(b.a)(a,[{key:"getAllFull",value:function(){var e=Object(j.a)(T.a.mark((function e(t,a,n){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config.apiUrl!==f.FIREBASE){e.next=3;break}e.next=8;break;case 3:if(this.config.apiUrl!==f.LOCAL_STORAGE){e.next=6;break}e.next=8;break;case 6:if(this.config.apiUrl!==f.TOTAL_FAKE){e.next=8;break}return e.abrupt("return",this.resolveMockData(Ce));case 8:return e.next=10,this.get(this.baseUrl+"/full",{group:t,month:a,year:n});case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"getAll",value:function(){var e=Object(j.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config.apiUrl!==f.FIREBASE){e.next=3;break}e.next=8;break;case 3:if(this.config.apiUrl!==f.LOCAL_STORAGE){e.next=6;break}e.next=8;break;case 6:if(this.config.apiUrl!==f.TOTAL_FAKE){e.next=8;break}return e.abrupt("return",this.resolveMockData(we));case 8:return e.next=10,this.get(this.baseUrl);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Object(j.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config.apiUrl!==f.FIREBASE){e.next=3;break}e.next=8;break;case 3:if(this.config.apiUrl!==f.LOCAL_STORAGE){e.next=6;break}e.next=8;break;case 6:if(this.config.apiUrl!==f.TOTAL_FAKE){e.next=8;break}return e.abrupt("return",this.resolveMockData(we[0]));case 8:return e.next=10,this.post(this.baseUrl,{},t);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=Object(j.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config.apiUrl!==f.FIREBASE){e.next=3;break}e.next=8;break;case 3:if(this.config.apiUrl!==f.LOCAL_STORAGE){e.next=6;break}e.next=8;break;case 6:if(this.config.apiUrl!==f.TOTAL_FAKE){e.next=8;break}return e.abrupt("return",this.resolveMockData(void 0));case 8:return e.next=10,this.put(this.baseUrl,{},t);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"remove",value:function(){var e=Object(j.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config.apiUrl!==f.FIREBASE){e.next=3;break}e.next=8;break;case 3:if(this.config.apiUrl!==f.LOCAL_STORAGE){e.next=6;break}e.next=8;break;case 6:if(this.config.apiUrl!==f.TOTAL_FAKE){e.next=8;break}return e.abrupt("return",this.resolveMockData(void 0));case 8:return e.next=10,this.delete(this.baseUrl+"/"+t);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),a}(xe);function _e(){var e=Object(U.a)(["\n    "]);return _e=function(){return e},e}var Ie,Me=Object(x.b)(_e()),Fe=c.a.memo((function(e){var t=Object(_.a)(),a=Object(k.a)(t,1)[0],n=Object(r.useContext)(se),i=c.a.useState(g.get()),u=Object(k.a)(i,1)[0],o=c.a.useState(""),s=Object(k.a)(o,2),l=s[0],p=s[1],f=c.a.useState(!1),m=Object(k.a)(f,2),b=m[0],h=m[1],E=c.a.useState([]),v=Object(k.a)(E,2),O=v[0],A=v[1];c.a.useEffect((function(){n.isLoading||(console.log(n),function(){var e=Object(j.a)(T.a.mark((function e(){var t;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.prev=1,e.next=4,new De(u).getAllFull(n.group,n.month,n.year);case 4:t=e.sent,A(t),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),A([]),p(a("LABEL.ERROR"));case 12:return e.prev=12,h(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,8,12,15]])})));return function(){return e.apply(this,arguments)}}()())}),[n,u,a]);var x=c.a.useCallback((function(){}),[]),y=c.a.useCallback((function(e){}),[]),L=c.a.useCallback((function(e){}),[]),R=c.a.useMemo((function(){return O.map((function(e,t){return c.a.createElement(ne.a,{key:"LABEL_".concat(t),className:"mb-1"},c.a.createElement(ne.a.Body,null,c.a.createElement(ne.a.Title,null,c.a.createElement("div",{className:"d-flex justify-content-between"},e.name,c.a.createElement(he.a,{size:"sm",variant:"secondary",title:"",id:"group-menu-".concat(e.id)},c.a.createElement(Ee.a.Item,{eventKey:"1",onClick:function(){return y(e)}},a("LABEL.EDIT")),c.a.createElement(Ee.a.Divider,null),c.a.createElement(Ee.a.Item,{eventKey:"2",onClick:function(){return L(e)}},a("LABEL.DELETE"))))),c.a.createElement(ne.a.Body,null)))}))}),[O,y,L,a]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(Me,null),c.a.createElement(me,null),c.a.createElement("div",{className:"d-flex justify-content-between mb-2"},c.a.createElement("h4",null,a("LABEL.TITLE")),c.a.createElement(Z.a,{onClick:x},a("LABEL.ADD"))),d(l)&&c.a.createElement(ae.a,{key:"LABEL.ERROR",variant:"danger"},l),c.a.createElement("div",null,!b&&R),b&&c.a.createElement("div",{className:"text-center"},c.a.createElement(oe.a,{animation:"border",role:"status",size:"sm"},c.a.createElement("span",{className:"sr-only"},"Loading..."))))})),Ge=c.a.memo((function(e){return c.a.createElement(c.a.Fragment,null,"Settings page")})),Ne=a(122),Be=function(e){var t=e.component;e.path,Object(Ne.a)(e,["component","path"]);return Object(r.useContext)(F).user?c.a.createElement(t,null):c.a.createElement(I.a,{to:"/auth"})},Pe=[{id:1,name:"Expense 1"},{id:2,name:"Expense 2"},{id:3,name:"Expense 3"},{id:4,name:"Expense 4"}],He=[2015,2016,2017,2018,2019,2020],Ke=function(e){Object(de.a)(a,e);var t=Object(ve.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).config=e,n.baseUrl="/api/expense",n}return Object(b.a)(a,[{key:"getYears",value:function(){var e=Object(j.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config.apiUrl!==f.FIREBASE){e.next=3;break}e.next=8;break;case 3:if(this.config.apiUrl!==f.LOCAL_STORAGE){e.next=6;break}e.next=8;break;case 6:if(this.config.apiUrl!==f.TOTAL_FAKE){e.next=8;break}return e.abrupt("return",this.resolveMockData(He));case 8:return e.next=10,this.get(this.baseUrl+"/years");case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAll",value:function(){var e=Object(j.a)(T.a.mark((function e(){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config.apiUrl!==f.FIREBASE){e.next=3;break}e.next=8;break;case 3:if(this.config.apiUrl!==f.LOCAL_STORAGE){e.next=6;break}e.next=8;break;case 6:if(this.config.apiUrl!==f.TOTAL_FAKE){e.next=8;break}return e.abrupt("return",this.resolveMockData(Pe));case 8:return e.next=10,this.get(this.baseUrl);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Object(j.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config.apiUrl!==f.FIREBASE){e.next=3;break}e.next=8;break;case 3:if(this.config.apiUrl!==f.LOCAL_STORAGE){e.next=6;break}e.next=8;break;case 6:if(this.config.apiUrl!==f.TOTAL_FAKE){e.next=8;break}return e.abrupt("return",this.resolveMockData(Pe[0]));case 8:return e.next=10,this.post(this.baseUrl,{},t);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=Object(j.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config.apiUrl!==f.FIREBASE){e.next=3;break}e.next=8;break;case 3:if(this.config.apiUrl!==f.LOCAL_STORAGE){e.next=6;break}e.next=8;break;case 6:if(this.config.apiUrl!==f.TOTAL_FAKE){e.next=8;break}return e.abrupt("return",this.resolveMockData(void 0));case 8:return e.next=10,this.put(this.baseUrl,{},t);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"remove",value:function(){var e=Object(j.a)(T.a.mark((function e(t){return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config.apiUrl!==f.FIREBASE){e.next=3;break}e.next=8;break;case 3:if(this.config.apiUrl!==f.LOCAL_STORAGE){e.next=6;break}e.next=8;break;case 6:if(this.config.apiUrl!==f.TOTAL_FAKE){e.next=8;break}return e.abrupt("return",this.resolveMockData(void 0));case 8:return e.next=10,this.delete(this.baseUrl+"/"+t);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),a}(xe),ze=c.a.memo((function(e){var t,a=Object(r.useContext)(F),n=a.user,i=a.isReady,u=Object(I.g)(),o=Object(I.h)(),s=c.a.useState(g.get()),l=Object(k.a)(s,1)[0],p=c.a.useState(!0),f=Object(k.a)(p,2),m=f[0],b=f[1],h=c.a.useState([]),E=Object(k.a)(h,2),v=E[0],O=E[1],A=c.a.useState([]),x=Object(k.a)(A,2),y=x[0],L=x[1],R=c.a.useState(),U=Object(k.a)(R,2),S=U[0],w=U[1],D=c.a.useState((new Date).getMonth()),_=Object(k.a)(D,2),G=_[0],N=_[1],B=c.a.useState(0),P=Object(k.a)(B,2),H=P[0],K=P[1];return c.a.useEffect((function(){if(i){var e=JSON.stringify(X.a.parse(o.search)),t=JSON.parse(e);b(!0),function(){var e=Object(j.a)(T.a.mark((function e(){var a,r,c,i,s,p,f,m,h,E,g,k,A;return T.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(v.length>0)){e.next=4;break}c=v,e.next=14;break;case 4:return e.prev=4,e.next=7,new ye(l).getAll(null!==(m=null===n||void 0===n?void 0:n.uid)&&void 0!==m?m:"");case 7:c=e.sent,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),c=[];case 13:console.log("load again ",c);case 14:if(h=localStorage.getItem("group"),O(c),d(t.group)&&c.some((function(e){return e.id===+t.group}))?i=c.find((function(e){return e.id===+t.group})):d(h)&&c.some((function(e){return e.id===+h}))?i=c.find((function(e){return e.id===+h})):d(c)&&(i=c[0]),w(i),localStorage.setItem("group",null===(a=i)||void 0===a?void 0:a.id.toString()),E=localStorage.getItem("month"),s=d(t.month)&&t.month>=1&&t.month<=12?t.month:d(E)&&+E>=1&&+E<=12?+E:(new Date).getMonth(),N(s),localStorage.setItem("month",s.toString()),!(y.length>0)){e.next=27;break}p=y,e.next=36;break;case 27:return e.prev=27,e.next=30,new Ke(l).getYears(null!==(g=null===(k=i)||void 0===k?void 0:k.id)&&void 0!==g?g:0);case 30:p=e.sent,e.next=36;break;case 33:e.prev=33,e.t1=e.catch(27),p=[];case 36:A=localStorage.getItem("year"),L(p),f=d(t.year)&&p.some((function(e){return e===+t.year}))?t.year:d(A)&&p.some((function(e){return e===+A}))?+A:(new Date).getFullYear(),K(f),localStorage.setItem("year",f.toString()),u.push({pathname:o.pathname,search:X.a.stringify({group:null===(r=i)||void 0===r?void 0:r.id,month:s,year:f})}),b(!1);case 43:case"end":return e.stop()}}),e,null,[[4,10],[27,33]])})));return function(){return e.apply(this,arguments)}}()()}}),[l,u,o,i,n]),c.a.createElement(c.a.Fragment,null,c.a.createElement(se.Provider,{value:{isLoading:m,groups:v,years:y,group:null!==(t=null===S||void 0===S?void 0:S.id)&&void 0!==t?t:0,month:G,year:H}},c.a.createElement(C.a,{className:"mt-2"},c.a.createElement(I.d,null,i&&c.a.createElement(Be,{key:M.group,path:M.group,component:Se}),i&&c.a.createElement(Be,{key:M.label,path:M.label,component:Fe}),i&&c.a.createElement(Be,{key:M.expense,path:M.expense,component:be}),c.a.createElement(Be,{key:M.settings,path:M.settings,component:Ge}),c.a.createElement(I.b,{key:M.auth,path:M.auth,component:ie}),c.a.createElement(I.b,{key:M.home,exact:!0,path:M.home},c.a.createElement(c.a.Fragment,null,c.a.createElement("h3",null,"HOME"),c.a.createElement("h6",null,"Build Version: ",l.buildVersion))),c.a.createElement(I.b,{key:"*",path:"*"},c.a.createElement("h1",null," 404 "))))))})),Ye=c.a.memo((function(e){var t=c.a.useState(g.get()),a=Object(k.a)(t,1)[0],n=c.a.useMemo((function(){return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches}),[]),i=function(){var e=Object(r.useState)((function(){var e=Object(G.auth)().currentUser;return{initialising:!e,user:e}})),t=Object(k.a)(e,2),a=t[0],n=t[1],i=function(e){n({initialising:!1,user:e})};return c.a.useEffect((function(){var e=Object(G.auth)().onAuthStateChanged(i);return function(){return e()}}),[]),a}(),u=i.user,o=i.initialising,s=c.a.useState(!1),l=Object(k.a)(s,2),p=l[0],f=l[1];return c.a.useEffect((function(){!o&&u&&d(u)&&u.getIdTokenResult().then((function(e){L.a.defaults.headers.common.Authorization=e.token,f(!0)}))}),[u,o,a]),c.a.createElement(c.a.Fragment,null,c.a.createElement(x.a,{theme:n?q:{}},c.a.createElement(c.a.Fragment,null,c.a.createElement(W,null),c.a.createElement(F.Provider,{value:{user:u,initialising:o,isReady:p}},c.a.createElement(A.a,{basename:"/"},c.a.createElement(J,null),c.a.createElement(ze,null))))))})),Je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=new O;return t=Object(n.a)(Object(n.a)({},t),{},{buildVersion:v("77",e.buildVersion,t.buildVersion),apiUrl:v(Object({NODE_ENV:"production",PUBLIC_URL:"/myexpenses-ui",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,REACT_APP_BUILD_VERSION:"77",REACT_APP_FIREBASE_API_KEY:"AIzaSyDMDE7eTQbjwkQglMJf5KnFtMr48-pAoVM",REACT_APP_FIREBASE_PROJECT:"lfmachadodasilva-dev"}).REACT_APP_API_URL,e.apiUrl,t.apiUrl)}),g.set(Object(n.a)(Object(n.a)({},t),e)),g.get()}();Object(o.initializeApp)(Object(n.a)({},(Ie=v("lfmachadodasilva-dev",Je.firebaseProject),{apiKey:v("AIzaSyDMDE7eTQbjwkQglMJf5KnFtMr48-pAoVM",Je.firebaseApiKey),authDomain:"".concat(Ie,".firebaseapp.com"),databaseURL:"https://".concat(Ie,".firebaseio.com"),projectId:Ie,storageBucket:Ie,messagingSenderId:"my-sender-id"}))),u.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(Ye,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[123,1,2]]]);
//# sourceMappingURL=main.594606cd.chunk.js.map