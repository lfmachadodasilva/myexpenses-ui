(this.webpackJsonpmyexpenses=this.webpackJsonpmyexpenses||[]).push([[0],{182:function(e){e.exports=JSON.parse('{"MONTHS":{"1":"January","2":"February","3":"March","4":"April","5":"May","6":"June","7":"July","8":"August","9":"September","10":"October","11":"November","12":"December"},"LOADING":"Loading...","HEADER":{"TITLE":"MyExpenses","GROUP":"Group","LABEL":"Label","EXPENSE":"Expense","SETTINGS":"Settings","IMPORT":"Import","EXPORT":"Export","LOGOUT":"Logout","LOGIN":"Login"},"SEARCH":{"GROUP":"Group","MONTH":"Month","YEAR":"Year","ACTION":"Search","HEADER":"Search by"},"AUTH":{"FACEBOOK":"Facebook","BY_FACEBOOK":"Login by Facebook","EMAIL":"Email","EMAIL_PLACEHOLDER":"Enter email","PASSWORD":"Password","PASSWORD_PLACEHOLDER":"Enter password","LOGIN":"Login","BY_EMAIL":"Login by email","ERROR":"Something went wrong. Try again later."},"ITEM":{"EDIT":"Edit","DUPLICATE":"Duplicate","DELETE":"Delete","DELETE_TITLE":"Delete confirmation","DELETE_QUESTON":"Are you sure you want to delete this item?","DELETE_ACTION":"Delete it!"},"GROUP":{"TITLE":"Groups","ADD":"Add new group","ERROR":"Something went wrong. Try again later.","YOU":"You","EDIT":"Edit","DELETE":"Delete","EMPTY":"You don\'t have any group. Please create new one to start.","MODAL":{"ADD_TITLE":"Add new group","EDIT_TITLE":"Edit group","ADD_ACTION":"Add","EDIT_ACTION":"Edit","NAME":"Name","NAME_PLACEHOLDER":"Enter name","USERS":"Users"}},"LABEL":{"TITLE":"Labels","ADD":"Add new label","ERROR":"Something went wrong. Try again later.","EDIT":"Edit","DELETE":"Delete","TAB_ITEMS":"Items","TAB_GRAPH":"Graph","CURRENT_MONTH":"This month","LAST_MONTH":"Last month","AVERAGE":"Average","EMPTY":"You don\'t have any label. Please create new one to start.","EMPTY_GROUP":"You don\'t have any group. Please create new one to start.","MODAL":{"ADD_TITLE":"Add new label","EDIT_TITLE":"Edit label","ADD_ACTION":"Add","EDIT_ACTION":"Edit","NAME":"Name","NAME_PLACEHOLDER":"Enter name"}},"EXPENSE":{"TITLE":"Expenses","ADD":"Add new expense","ERROR":"Something went wrong. Try again later.","EDIT":"Edit","DELETE":"Delete","SUMMARY":"Summary","INCOMING":"Incoming","OUTCOMING":"Outcoming","VALUE":"Value","DATE":"Date","LABEL":"Label","DATE_FORMAT":"dd/MM/yy","FIELD_DATE_FORMAT":"yyyy-MM-dd","TOTAL_INCOMING":"Total incoming","TOTAL_OUTCOMING":"Total outcoming","TOTAL_LEFT":"Total left","EMPTY":"You don\'t have any expense. Please create new one to start.","EMPTY_GROUP":"You don\'t have any group or label. Please create new one to start.","MODAL":{"ADD_TITLE":"Add new expense","EDIT_TITLE":"Edit expense","DUPLICATE_TITLE":"Duplicate expense","ADD_ACTION":"Add","EDIT_ACTION":"Edit","DUPLICATE_ACTION":"Duplicate","TYPE":"Type","NAME":"Name","VALUE":"Value","DATE":"Date","LABEL":"Label","COMMENTS":"Comments","NAME_PLACEHOLDER":"Enter name","VALUE_PLACEHOLDER":"Enter value","COMMENTS_PLACEHOLDER":"Enter comments"}},"SETTINGS":{"TITLE":"Settings","DARK_THEME":"Dark theme","DISPLAY_NAME":"Display name","DISPLAY_NAME_PLACEHOLDER":"Enter display name","UPDATE":"Update","ERROR":"Something went wrong. Try again later."},"IMPORT":{"TITLE":"Import","GROUP":"Group","SEPARATOR":"Separator","DATA":"Import data","DATA_TEXT":"Format per line: TYPE;NAME;VALUE;DATE;LABEL;COMMENTS","DATA_PLACEHOLDER":"1;Some drinks;8.79;20/12/2020;Pub;2x\\n1;Some food;20.55;25/12/2020;Meal;5 Old Mill\\n0;Your salary;999.99;27/12/2020;Salary;your salary + bonus","ACTION":"Process","ERROR":"Some of the import expenses went wrong.","CANCEL":"Cancel","TABLE":{"NUMBER":"#","STATUS":"Status","TYPE":"Type","NAME":"Name","VALUE":"Value","DATE":"Date","DATE_FORMAT":"dd/MM/yy","INVALID_DATE":"Invalid date","LABEL":"Label","COMMENTS":"Comments"}},"EXPORT":{"TITLE":"Export","GROUP":"Group","SEPARATOR":"Separator","DATA":"Export data","DATA_TEXT":"Format per line: TYPE;NAME;VALUE;DATE;LABEL;COMMENTS","DATA_PLACEHOLDER":"Press Process button to export all data from the selected group","ACTION":"Process","EXPORTING":"Exporting...","ERROR":"Something went wrong. Try again later.","EMPTY":"You don\'t have any expense. Please create new one to start.","EMPTY_GROUP":"You don\'t have any group. Please create new one to start."}}')},197:function(e,t,a){e.exports=a(363)},212:function(e,t,a){},268:function(e,t,a){},363:function(e,t,a){"use strict";a.r(t);var n=a(20),r=a(1),c=a.n(r),o=a(33),l=a.n(o),u=a(40);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var i=a(151),s=a(93),m={en:{translation:a(182)}};i.a.use(s.e).init({resources:m,lng:"en",fallbackLng:"en",interpolation:{escapeValue:!1}});i.a,a(212);var E,p=a(25),d=a(34),f=a(147),b=a.n(f),O=function(e){return null!==e&&void 0!==e&&("string"!==typeof e&&!Array.isArray(e)||e.length>0)},h=function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.find((function(e){return O(e)}))};!function(e){e.FIREBASE="FIREBASE",e.LOCAL_STORAGE="LOCAL_STORAGE",e.TOTAL_FAKE="TOTAL_FAKE",e.TEST_API="TEST_API"}(E||(E={}));var v=function e(){Object(p.a)(this,e),this.apiUrl="https://myexpenses-backend-dev.herokuapp.com/",this.buildVersion="local",this.requestDelay=1e3,this.firebaseApiKey="AIzaSyDMDE7eTQbjwkQglMJf5KnFtMr48-pAoVM",this.firebaseProject="lfmachadodasilva-dev",this.useHashRouter=!1},A=function(){function e(){Object(p.a)(this,e)}return Object(d.a)(e,null,[{key:"get",value:function(){var e=b.a.get("ApplicationConfiguration"),t=new v;return Object.assign(t,e),t}}]),e}();A.set=function(e){b.a.set({ApplicationConfiguration:e},{freeze:!1})};var g=a(4),T=a(84),L=a(22),x=a(42),k=a.n(x),R=a(185),S=a.n(R),D=a(186),y=a(6),C=a.n(y),N=a(11),I=a(26),j=a(370),M=a(16),w=a(117),P=a(88),U=a(43),_=a(94),G=a(72),F=a(65),B=function e(){Object(p.a)(this,e)};B.home="/",B.auth="/auth",B.settings="/settings",B.import="/import",B.export="/export",B.group="/group",B.label="/label",B.expense="/expense";var H,X,V=c.a.createContext({initialising:!1,isReady:!1,isDarkTheme:!1,setDarkTheme:function(e){}}),Y=a(56),K=a(55),z=[{id:"1",displayName:"User 1",email:"user1@email.com"},{id:"2",displayName:"User 2",email:"user2@email.com"},{id:"3",displayName:"User 3",email:"user3@email.com"},{id:"4",displayName:"User 4",email:"user4@email.com"},{id:"5",displayName:"User 5",email:"user5@email.com"}];!function(e){e[e.READY=0]="READY",e[e.LOADING=1]="LOADING",e[e.LOADED=2]="LOADED",e[e.ERROR=3]="ERROR"}(H||(H={})),function(e){e[e.OK=200]="OK",e[e.ERROR=500]="ERROR"}(X||(X={}));var J=function(){var e=Object(N.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.response&&t.response.status>=X.OK&&(console.error("Request Failed:",t.config),console.error("Status:",t.response.status),console.error("Data:",t.response.data),console.error("Headers:",t.response.headers)),e.abrupt("return",Promise.reject(t));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){function e(t){Object(p.a)(this,e),this.config=t}return Object(d.a)(e,[{key:"resolveMockData",value:function(){var e=Object(N.a)(C.a.mark((function e(t){var a=this;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){setTimeout((function(){e(t)}),a.config.requestDelay)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"rejectMockData",value:function(){var e=Object(N.a)(C.a.mark((function e(){var t=this;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,a){setTimeout((function(){a()}),t.config.requestDelay)})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"get",value:function(){var e=Object(N.a)(C.a.mark((function e(t,a){var n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.a.get(t,{baseURL:this.config.apiUrl,withCredentials:!0,headers:{Accept:"application/json; charset=utf=8",Authorization:"Bearer "+k.a.defaults.headers.common.Authorization},params:a});case 3:return n=e.sent,e.abrupt("return",n.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",J(e.t0));case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"post",value:function(){var e=Object(N.a)(C.a.mark((function e(t,a,n){var r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.a.post(t,n,{baseURL:this.config.apiUrl,withCredentials:!0,headers:{Accept:"application/json; charset=utf=8",Authorization:"Bearer "+k.a.defaults.headers.common.Authorization},params:a});case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",J(e.t0));case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"put",value:function(){var e=Object(N.a)(C.a.mark((function e(t,a,n){var r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.a.put(t,n,{baseURL:this.config.apiUrl,withCredentials:!0,headers:{Accept:"application/json; charset=utf=8",Authorization:"Bearer "+k.a.defaults.headers.common.Authorization},params:a});case 3:return r=e.sent,e.abrupt("return",r.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",J(e.t0));case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(N.a)(C.a.mark((function e(t){var a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.a.delete(t,{baseURL:this.config.apiUrl,withCredentials:!0,headers:{Accept:"application/json; charset=utf=8",Authorization:"Bearer "+k.a.defaults.headers.common.Authorization}});case 3:return a=e.sent,e.abrupt("return",a.data);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",J(e.t0));case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),W=function(e){Object(Y.a)(a,e);var t=Object(K.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).config=e,n.baseUrl="/api/user",n}return Object(d.a)(a,[{key:"addOrUpdate",value:function(){var e=Object(N.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config.apiUrl!==E.FIREBASE){e.next=3;break}e.next=8;break;case 3:if(this.config.apiUrl!==E.LOCAL_STORAGE){e.next=6;break}e.next=8;break;case 6:if(this.config.apiUrl!==E.TOTAL_FAKE){e.next=8;break}return e.abrupt("return",this.resolveMockData(z[0]));case 8:return e.next=10,this.post("/api/user",{},t);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAll",value:function(){var e=Object(N.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config.apiUrl!==E.FIREBASE){e.next=3;break}e.next=8;break;case 3:if(this.config.apiUrl!==E.LOCAL_STORAGE){e.next=6;break}e.next=8;break;case 6:if(this.config.apiUrl!==E.TOTAL_FAKE){e.next=8;break}return e.abrupt("return",this.resolveMockData(z));case 8:return e.next=10,this.get(this.baseUrl);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"remove",value:function(){var e=Object(N.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config.apiUrl!==E.FIREBASE){e.next=3;break}e.next=8;break;case 3:if(this.config.apiUrl!==E.LOCAL_STORAGE){e.next=6;break}e.next=8;break;case 6:if(this.config.apiUrl!==E.TOTAL_FAKE){e.next=8;break}return e.abrupt("return",this.resolveMockData(void 0));case 8:return e.next=10,this.delete(this.baseUrl+"/"+t);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),a}(q),Q=function(){var e=Object(N.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=new u.auth.FacebookAuthProvider,e.prev=1,e.next=4,Object(u.auth)().signInWithPopup(t);case 4:return e.abrupt("return",e.sent);case 7:throw e.prev=7,e.t0=e.catch(1),console.error(e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=Object(N.a)(C.a.mark((function e(t,a){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(u.auth)().signInWithEmailAndPassword(t,a);case 3:e.next=9;break;case 5:throw e.prev=5,e.t0=e.catch(0),console.error(e.t0),e.t0;case 9:case"end":return e.stop()}}),e,null,[[0,5]])})));return function(t,a){return e.apply(this,arguments)}}(),Z=function(){var e=Object(N.a)(C.a.mark((function e(t,a,n){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,null===a||void 0===a?void 0:a.updateProfile({displayName:n});case 3:return e.next=5,new W(t).addOrUpdate({id:a.uid,email:a.email,displayName:a.displayName,photoUrl:a.photoURL});case 5:e.next=11;break;case 7:throw e.prev=7,e.t0=e.catch(0),console.error(e.t0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a,n){return e.apply(this,arguments)}}(),ee=function(e){var t,a;return O(e)?O(e.displayName)?null===(a=e.displayName)||void 0===a?void 0:a.split(" ")[0]:null===(t=e.email)||void 0===t?void 0:t.split("@")[0]:""};function te(){var e=Object(I.a)(["\n    .navbar-brand {\n        cursor: pointer;\n    };\n"]);return te=function(){return e},e}var ae=Object(L.b)(te()),ne=c.a.memo((function(e){var t=Object(r.useContext)(V),a=t.user,n=t.initialising,o=t.isReady,l=Object(M.g)(),i=Object(j.a)(),s=Object(g.a)(i,1)[0],m=c.a.useState(!1),E=Object(g.a)(m,2),p=E[0],d=E[1],f=c.a.useCallback((function(e){d(e)}),[]),b=c.a.useCallback((function(e){d(!1),O(l.location.search)?l.push({pathname:e,search:l.location.search}):l.push(e)}),[l]),h=c.a.useCallback(Object(N.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(u.auth)().signOut();case 2:setTimeout((function(){return l.push(B.home)}));case 3:case"end":return e.stop()}}),e)}))),[l]),v=c.a.useMemo((function(){if(O(a)){var e=ee(a);return c.a.createElement(U.a,null,c.a.createElement(F.a,{title:e,id:"collasible-nav-dropdown"},c.a.createElement(F.a.Item,{onClick:function(){return b(B.settings)}},c.a.createElement(w.b,null),s("HEADER.SETTINGS")),c.a.createElement(F.a.Item,{onClick:function(){return b(B.import)}},c.a.createElement(P.b,{className:"react-icons"}),s("HEADER.IMPORT")),c.a.createElement(F.a.Item,{onClick:function(){return b(B.export)}},c.a.createElement(P.a,{className:"react-icons"}),s("HEADER.EXPORT")),c.a.createElement(F.a.Divider,null),c.a.createElement(F.a.Item,{onClick:h},s("HEADER.LOGOUT"))))}return c.a.createElement(U.a,null,c.a.createElement(U.a.Link,{onClick:function(){return b(B.auth)}},s("HEADER.LOGIN")))}),[a,b,h,s]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(ae,null),c.a.createElement(_.a,{bg:"dark",variant:"dark",expand:"sm",onToggle:f,expanded:p},c.a.createElement(G.a,null,c.a.createElement(_.a.Brand,{onClick:function(){return b(B.home)}},s("HEADER.TITLE")),c.a.createElement(_.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),c.a.createElement(_.a.Collapse,{id:"responsive-navbar-nav",className:"mr-auto "},o&&c.a.createElement(U.a,{className:"mr-auto"},c.a.createElement(U.a.Link,{onClick:function(){return b(B.group)}},s("HEADER.GROUP")),c.a.createElement(U.a.Link,{onClick:function(){return b(B.label)}},s("HEADER.LABEL")),c.a.createElement(U.a.Link,{onClick:function(){return b(B.expense)}},s("HEADER.EXPENSE"))),!o&&c.a.createElement(U.a,{className:"mr-auto"}),!n&&v))))}));function re(){var e=Object(I.a)(["\n  body {\n    background: ",";\n    color: ",";\n  };\n\n  .table {\n    color: ",";\n  };\n  \n  .card {\n    background: ",";\n    color: ",";\n    border-color:",";\n  };\n  .card-header {\n    background: ",";\n    color: ",";\n    border-color:",";\n  };\n\n  .form-control {\n    background-color: ",";\n    color: ",";\n  };\n\n  .modal-content {\n    background-color: ",";\n    border-color:",";\n  };\n  .modal-header {\n    background-color: ",";\n    border-color:",";\n  };\n  .modal-body {\n    background-color: ",";\n    border-color:",";\n  };\n  .modal-footer {\n    background-color: ",";\n    border-color:",";\n  };\n  .close {\n    background-color: ",";\n    color: ",";\n    border-color:",";\n    text-shadow: none;\n  };\n\n  .nav-tabs .nav-link.active, .nav-tabs .nav-item.show .nav-link  {\n      background-color: ",";\n      color: ",";\n      border-color: ",";\n  };\n  "]);return re=function(){return e},e}var ce=Object(L.b)(re(),(function(e){return e.theme.body}),(function(e){return e.theme.text}),(function(e){return e.theme.text}),(function(e){return e.theme.body}),(function(e){return e.theme.text}),(function(e){return e.theme.toggleBorder}),(function(e){return e.theme.body}),(function(e){return e.theme.text}),(function(e){return e.theme.toggleBorder}),(function(e){return e.theme.body}),(function(e){return e.theme.text}),(function(e){return e.theme.body}),(function(e){return e.theme.toggleBorder}),(function(e){return e.theme.body}),(function(e){return e.theme.toggleBorder}),(function(e){return e.theme.body}),(function(e){return e.theme.toggleBorder}),(function(e){return e.theme.body}),(function(e){return e.theme.toggleBorder}),(function(e){return e.theme.body}),(function(e){return e.theme.text}),(function(e){return e.theme.toggleBorder}),(function(e){return e.theme.body}),(function(e){return e.theme.text}),(function(e){return e.theme.toggleBorder})),oe={body:"#f8f9fa",text:"#343a40",toggleBorder:"#595959",gradient:"linear-gradient(#39598A, #79D7ED)"},le={body:"#363537",text:"#fff",toggleBorder:"#646464",gradient:"linear-gradient(#091236, #1E215D)"},ue=a(89),ie=a.n(ue),se=a(53),me=a(52),Ee=a(120),pe=a(9),de=a(29),fe=c.a.memo((function(e){var t=e.type,a=void 0===t?"danger":t,n=e.message;return O(n)?c.a.createElement("div",{className:"alert alert-".concat(a),role:"alert"},n):c.a.createElement(c.a.Fragment,null)}));function be(){var e=Object(I.a)([""]);return be=function(){return e},e}var Oe=Object(L.b)(be()),he=c.a.memo((function(e){var t=Object(j.a)(),a=Object(g.a)(t,1)[0],n=Object(M.g)(),r=c.a.useState(!1),o=Object(g.a)(r,2),l=o[0],u=o[1],i=c.a.useState(""),s=Object(g.a)(i,2),m=s[0],E=s[1],p=c.a.useState(""),d=Object(g.a)(p,2),f=d[0],b=d[1],O=c.a.useState(""),h=Object(g.a)(O,2),v=h[0],A=h[1],T=c.a.useCallback(Object(N.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),E(""),e.prev=2,e.next=5,Q();case 5:setTimeout((function(){return n.push(B.home)})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),E(a("AUTH.ERROR"));case 11:return e.prev=11,u(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[2,8,11,14]])}))),[n,a]),L=c.a.useCallback((function(e){b(e.target.value)}),[]),x=c.a.useCallback((function(e){A(e.target.value)}),[]),k=c.a.useCallback(Object(N.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),E(""),e.prev=2,e.next=5,$(f,v);case 5:setTimeout((function(){return n.push(B.home)})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),E(a("AUTH.ERROR"));case 11:return e.prev=11,u(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[2,8,11,14]])}))),[f,v,n,a]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(Oe,null),c.a.createElement(G.a,{className:"p-4"},c.a.createElement(fe,{message:m,type:"danger"}),c.a.createElement(Ee.a,null,c.a.createElement(se.a,{className:"p-1",xs:12,sm:6},c.a.createElement(de.a,{className:"p-4"},c.a.createElement(de.a.Title,null,a("AUTH.BY_FACEBOOK")),c.a.createElement(de.a.Body,null,c.a.createElement(me.a,{onClick:T},a("AUTH.FACEBOOK"))))),c.a.createElement(se.a,{className:"p-1",xs:12,sm:6},c.a.createElement(de.a,{className:"p-4"},c.a.createElement(de.a.Title,null,a("AUTH.BY_EMAIL")),c.a.createElement(de.a.Body,null,c.a.createElement(pe.a,null,c.a.createElement(pe.a.Group,{controlId:"formBasicEmail"},c.a.createElement(pe.a.Label,null,a("AUTH.EMAIL")),c.a.createElement(pe.a.Control,{type:"email",placeholder:a("AUTH.EMAIL_PLACEHOLDER"),onChange:L})),c.a.createElement(pe.a.Group,{controlId:"formBasicPassword"},c.a.createElement(pe.a.Label,null,a("AUTH.PASSWORD")),c.a.createElement(pe.a.Control,{type:"password",placeholder:a("AUTH.PASSWORD_PLACEHOLDER"),onChange:x})),c.a.createElement(me.a,{variant:"primary",onClick:k,disabled:l},a("AUTH.LOGIN")))))))))})),ve=a(64),Ae=a(124),ge=c.a.memo((function(e){var t=e.size,a=void 0===t?"md":t,n=e.className,r=e.type,o=void 0===r?"primary":r,l=e.icon,u=e.text,i=e.onClick,s=e.disabled;return!O(u)&&O(l)?c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{role:"button",className:n,onClick:i},l)):c.a.createElement("div",{className:"dropdown-button"},c.a.createElement("button",{type:"button",className:"btn btn-".concat(o," btn-").concat(a," ").concat(n),onClick:i,disabled:s},c.a.createElement("div",{className:"d-flex justify-content-center"},l&&c.a.createElement("div",null,l),u)))})),Te=c.a.memo((function(e){var t;return c.a.createElement("div",{className:"d-flex justify-content-between mb-2"},c.a.createElement("h4",null,e.title),c.a.createElement(ge,{className:"mb-2",type:"primary",text:e.action,onClick:e.onAction,disabled:null!==(t=e.disableAction)&&void 0!==t&&t}))})),Le=a(189),xe=a.n(Le);function ke(){var e=Object(I.a)(["\n    ._loading_overlay_overlay {\n        background: rgba(0,0,0,0.5);\n    };\n"]);return ke=function(){return e},e}var Re=Object(L.b)(ke()),Se=c.a.memo((function(e){var t,a=Object(j.a)(),n=Object(g.a)(a,1)[0];return c.a.createElement(c.a.Fragment,null,c.a.createElement(Re,null),c.a.createElement(xe.a,{active:e.isLoading,spinner:c.a.createElement("div",{className:"spinner-border",role:"status"},c.a.createElement("span",{className:"sr-only"},n("LOADING"))),text:c.a.createElement(c.a.Fragment,null,c.a.createElement("p",null,null!==(t=e.text)&&void 0!==t?t:n("LOADING")))},e.children))})),De=a(63),ye=a(133),Ce=a(190),Ne={isLoading:!0,labels:[],groups:[],years:[],group:0,month:1,year:2020,reloadGroups:function(){},reloadLabels:function(){}},Ie=c.a.createContext(Ne);function je(){var e=Object(I.a)(["\n    .search-component {\n        .card-header {\n            padding: 5px;\n            border: none;\n        }\n        .card-body {\n            padding-top: 0;\n            padding-bottom: 0;\n            padding-right: 10px;\n            padding-left: 10px;\n        }\n        .search-header {\n            margin: 0px;\n        }\n    }\n"]);return je=function(){return e},e}var Me,we=Object(L.b)(je()),Pe=c.a.memo((function(e){var t=Object(j.a)(),a=Object(g.a)(t,1)[0],n=Object(M.g)(),o=Object(r.useContext)(Ie),l=c.a.useState([1,2,3,4,5,6,7,8,9,10,11,12]),u=Object(g.a)(l,1)[0],i=c.a.useState(o.group),s=Object(g.a)(i,2),m=s[0],E=s[1],p=c.a.useState(o.month),d=Object(g.a)(p,2),f=d[0],b=d[1],O=c.a.useState(o.year),h=Object(g.a)(O,2),v=h[0],A=h[1],T=c.a.useState(!1),L=Object(g.a)(T,2),x=L[0],k=L[1];c.a.useEffect((function(){E(o.group),b(o.month),A(o.year)}),[o.group,o.month,o.year]);var R=c.a.useCallback((function(e){E(e.target.value)}),[]),S=c.a.useCallback((function(e){b(e.target.value)}),[]),D=c.a.useCallback((function(e){A(e.target.value)}),[]),y=c.a.useCallback((function(){n.push({pathname:n.location.pathname,search:ie.a.stringify({group:m,month:f,year:v})})}),[n,m,f,v]),C=c.a.useCallback((function(){k(!x)}),[x]),N=c.a.useMemo((function(){return o.groups.map((function(e){return c.a.createElement("option",{key:"GROUP_"+e.id,value:e.id},e.name)}))}),[o.groups]),I=c.a.useMemo((function(){return u.map((function(e){return c.a.createElement("option",{key:"MONTH_"+e,value:e},a("MONTHS."+e))}))}),[u,a]),w=c.a.useMemo((function(){return o.years.map((function(e){return c.a.createElement("option",{key:"YEAR_"+e,value:e},e)}))}),[o.years]),P=c.a.useMemo((function(){if(o.isLoading)return c.a.createElement("div",{className:"text-center"},c.a.createElement(Ce.a,{"data-testid":"search-loading",animation:"border",role:"status",size:"sm"},c.a.createElement("span",{className:"sr-only"},"Loading...")));if(x)return c.a.createElement("strong",null,c.a.createElement("p",{className:"search-header"},a("SEARCH.HEADER")));var e=o.groups.find((function(e){return e.id===m}));return c.a.createElement("div",{className:"d-flex justify-content-around"},c.a.createElement("p",{className:"search-header"},null===e||void 0===e?void 0:e.name),c.a.createElement("p",{className:"search-header"},a("MONTHS."+f)),c.a.createElement("p",{className:"search-header"},v))}),[x,o.isLoading,o.groups,m,f,v,a]);return c.a.createElement("div",{className:"search-component mb-2"},c.a.createElement(we,null),c.a.createElement(ye.a,null,c.a.createElement(de.a,null,c.a.createElement(de.a.Header,null,c.a.createElement(ye.a.Toggle,{as:de.a.Header,eventKey:"0",onClick:C},P)),c.a.createElement(ye.a.Collapse,{eventKey:"0"},c.a.createElement(de.a.Body,null,c.a.createElement(Ee.a,null,c.a.createElement(se.a,{xs:12,sm:5},c.a.createElement(pe.a.Group,null,c.a.createElement(pe.a.Label,null,a("SEARCH.GROUP")),c.a.createElement(pe.a.Control,{as:"select",size:"sm",value:m,onChange:R},N))),c.a.createElement(se.a,{xs:12,sm:4},c.a.createElement(pe.a.Group,null,c.a.createElement(pe.a.Label,null,a("SEARCH.MONTH")),c.a.createElement(pe.a.Control,{as:"select",size:"sm",value:f,onChange:S},I))),c.a.createElement(se.a,{xs:12,sm:3},c.a.createElement(pe.a.Group,null,c.a.createElement(pe.a.Label,null,a("SEARCH.YEAR")),c.a.createElement(pe.a.Control,{as:"select",size:"sm",value:v,onChange:D},w)))),c.a.createElement("div",{className:"d-flex justify-content-end"},c.a.createElement(ge,{size:"sm",className:"mb-2",type:"primary",text:a("SEARCH.ACTION"),icon:c.a.createElement(De.c,{size:12}),onClick:y})))))))}));!function(e){e[e.INCOMING=0]="INCOMING",e[e.OUTCOMING=1]="OUTCOMING"}(Me||(Me={}));var Ue,_e=[{id:1,name:"Group 1",users:z.map((function(e){return e.id}))},{id:2,name:"Group 2",users:z.map((function(e){return e.id}))},{id:3,name:"Group 3",users:z.map((function(e){return e.id}))},{id:4,name:"Group 4",users:z.map((function(e){return e.id}))}],Ge=[{id:1,name:"Group 1",users:z},{id:2,name:"Group 2",users:z},{id:3,name:"Group 3",users:z},{id:4,name:"Group 4",users:z}],Fe=[{id:1,name:"Label 1",groupId:1},{id:2,name:"Label 2",groupId:1},{id:3,name:"Label 3",groupId:2},{id:4,name:"Label 4",groupId:2}],Be=[{id:1,name:"Label 1",groupId:1,currValue:1.11,lastValue:5,avgValue:6.33},{id:2,name:"Label 2",groupId:1,currValue:2.11,lastValue:4,avgValue:5.33},{id:3,name:"Label 3",groupId:2,currValue:3.11,lastValue:3,avgValue:4.33},{id:4,name:"Label 4",groupId:2,currValue:4.11,lastValue:2,avgValue:3.33}],He=[{id:1,name:"Expense 1",type:Me.OUTCOMING,value:1.11,date:new Date(2020,0,1),comments:"Comments 1",groupId:_e[0].id,labelId:Fe[0].id},{id:2,name:"Expense 2",type:Me.OUTCOMING,value:2.11,date:new Date,comments:"Comments 2",groupId:_e[0].id,labelId:Fe[1].id},{id:3,name:"Expense 3",type:Me.INCOMING,value:3.11,date:new Date,comments:"Comments 3",groupId:_e[0].id,labelId:Fe[2].id},{id:4,name:"Expense 4",type:Me.INCOMING,value:4.11,date:new Date,comments:"Comments 3",groupId:_e[0].id,labelId:Fe[3].id}],Xe=[{id:1,name:"Expense 1",type:Me.OUTCOMING,value:1.11,date:new Date(2020,0,1),comments:"Comments 1",groupId:_e[0].id,label:Fe[0]},{id:2,name:"Expense 2",type:Me.OUTCOMING,value:2.11,date:new Date,comments:"Comments 2",groupId:_e[0].id,label:Fe[1]},{id:3,name:"Expense 3",type:Me.INCOMING,value:3.11,date:new Date,comments:"Comments 3",groupId:_e[0].id,label:Fe[2]},{id:4,name:"Expense 4",type:Me.INCOMING,value:4.11,date:new Date,comments:"Comments 4",groupId:_e[0].id,label:Fe[3]}],Ve=[2015,2016,2017,2018,2019,2020],Ye=function(e){Object(Y.a)(a,e);var t=Object(K.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).config=e,n.baseUrl="/api/expense",n}return Object(d.a)(a,[{key:"getYears",value:function(){var e=Object(N.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config.apiUrl!==E.FIREBASE){e.next=3;break}e.next=8;break;case 3:if(this.config.apiUrl!==E.LOCAL_STORAGE){e.next=6;break}e.next=8;break;case 6:if(this.config.apiUrl!==E.TOTAL_FAKE){e.next=8;break}return e.abrupt("return",this.resolveMockData(Ve));case 8:return e.next=10,this.get(this.baseUrl+"/years",{group:t});case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAllFull",value:function(){var e=Object(N.a)(C.a.mark((function e(t,a,n){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config.apiUrl!==E.FIREBASE){e.next=3;break}e.next=8;break;case 3:if(this.config.apiUrl!==E.LOCAL_STORAGE){e.next=6;break}e.next=8;break;case 6:if(this.config.apiUrl!==E.TOTAL_FAKE){e.next=8;break}return e.abrupt("return",this.resolveMockData(Xe));case 8:return e.next=10,this.get(this.baseUrl+"/full",{group:t,month:a,year:n});case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"getAll",value:function(){var e=Object(N.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config.apiUrl!==E.FIREBASE){e.next=3;break}e.next=8;break;case 3:if(this.config.apiUrl!==E.LOCAL_STORAGE){e.next=6;break}e.next=8;break;case 6:if(this.config.apiUrl!==E.TOTAL_FAKE){e.next=8;break}return e.abrupt("return",this.resolveMockData(He));case 8:return e.next=10,this.get(this.baseUrl,{group:t});case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Object(N.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config.apiUrl!==E.FIREBASE){e.next=3;break}e.next=8;break;case 3:if(this.config.apiUrl!==E.LOCAL_STORAGE){e.next=6;break}e.next=8;break;case 6:if(this.config.apiUrl!==E.TOTAL_FAKE){e.next=8;break}return e.abrupt("return",this.resolveMockData(He[0]));case 8:return e.next=10,this.post(this.baseUrl,{},t);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=Object(N.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config.apiUrl!==E.FIREBASE){e.next=3;break}e.next=8;break;case 3:if(this.config.apiUrl!==E.LOCAL_STORAGE){e.next=6;break}e.next=8;break;case 6:if(this.config.apiUrl!==E.TOTAL_FAKE){e.next=8;break}return e.abrupt("return",this.resolveMockData(void 0));case 8:return e.next=10,this.put(this.baseUrl,{},t);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"remove",value:function(){var e=Object(N.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config.apiUrl!==E.FIREBASE){e.next=3;break}e.next=8;break;case 3:if(this.config.apiUrl!==E.LOCAL_STORAGE){e.next=6;break}e.next=8;break;case 6:if(this.config.apiUrl!==E.TOTAL_FAKE){e.next=8;break}return e.abrupt("return",this.resolveMockData(void 0));case 8:return e.next=10,this.delete(this.baseUrl+"/"+t);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),a}(q),Ke=a(369),ze=a(192),Je=a(78),qe=c.a.memo((function(e){var t=e.show,a=e.title,n=e.size,r=void 0===n?"xl":n,o=e.actionText,l=e.actionVariant,u=void 0===l?"primary":l,i=e.actionDisable,s=void 0!==i&&i,m=e.onAction,E=e.onHide;return c.a.createElement(c.a.Fragment,null,c.a.createElement(Je.a,{show:t,onHide:E,size:r,centered:!0},c.a.createElement(Je.a.Header,{closeButton:!0},c.a.createElement(Je.a.Title,null,a)),c.a.createElement(Je.a.Body,null,e.children),c.a.createElement(Je.a.Footer,null,c.a.createElement(me.a,{"data-testid":"action-button",variant:u,onClick:m,disabled:s},o))))})),We=a(37),Qe=a(191),$e=(a(268),c.a.memo((function(e){var t=c.a.useMemo((function(){return e.items.map((function(e){return c.a.createElement(We.a.Item,{eventKey:"1",onClick:e.onClick},c.a.createElement("span",{className:"mr-2"},O(e.icon)&&e.icon),O(e.text)&&e.text)}))}),[e.items]);return c.a.createElement("div",{className:"dropdown-button"},c.a.createElement(Qe.a,{id:e.id,key:e.id,size:e.size,className:"dropdown-toggle ".concat(e.className),title:c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"mr-2"},e.icon),e.text)},t))}))),Ze=c.a.memo((function(e){var t=Object(j.a)(),a=Object(g.a)(t,1)[0],n=c.a.useState(!1),r=Object(g.a)(n,2),o=r[0],l=r[1],u=e.id,i=e.onEdit,s=e.onDelete,m=e.onDuplicate,E=c.a.useCallback((function(){l(!1)}),[]),p=c.a.useCallback((function(){l(!0)}),[]),d=c.a.useCallback((function(){i&&i(u)}),[i,u]),f=c.a.useCallback((function(){m&&m(u)}),[m,u]),b=c.a.useCallback((function(){s&&(s(u),E())}),[s,E,u]),O=c.a.useMemo((function(){var e=[];return i&&e.push({text:a("ITEM.EDIT"),icon:c.a.createElement(De.b,null),onClick:d}),m&&e.push({text:a("ITEM.DUPLICATE"),icon:c.a.createElement(De.a,null),onClick:f}),s&&e.push({text:a("ITEM.DELETE"),icon:c.a.createElement(De.e,null),onClick:p}),e}),[i,m,s,d,f,p,a]);return c.a.createElement("div",{className:"item-component"},c.a.createElement(de.a,{key:"".concat(e.id,"_").concat(e.name),className:"mb-2 mt-2"},c.a.createElement(de.a.Body,{className:"p-2"},c.a.createElement("div",{className:"row align-items-center"},c.a.createElement("div",{className:"col pr-0"},c.a.createElement("h6",null,e.name),e.children),c.a.createElement("div",{className:"col-auto"},c.a.createElement($e,{id:"menu-".concat(e.id),icon:c.a.createElement(De.d,null),items:O}))))),c.a.createElement(qe,{show:o,title:a("ITEM.DELETE_TITLE"),actionText:a("ITEM.DELETE_ACTION"),actionVariant:"danger",onHide:E,onAction:b,size:"sm"},c.a.createElement("p",null,a("ITEM.DELETE_QUESTON"))))})),et=c.a.memo((function(e){var t=Object(j.a)(),a=Object(g.a)(t,1)[0];return c.a.createElement(c.a.Fragment,null,e.items.map((function(t){return c.a.createElement(Ze,{key:t.id,id:t.id,name:t.name,onEdit:function(){return e.onEdit(t.id)},onDuplicate:function(){return e.onDuplicate(t.id)},onDelete:function(){return e.onDelete(t.id)}},c.a.createElement("div",{className:"d-flex justify-content-between"},c.a.createElement("h6",{className:"no-margin"},c.a.createElement("span",{className:"mr-1"},c.a.createElement(ze.a,null)),c.a.createElement("small",null,t.value.toFixed(2))),c.a.createElement("h6",{className:"no-margin"},c.a.createElement("span",{className:"mr-1"},c.a.createElement(w.a,null)),c.a.createElement("small",null,Object(Ke.a)(new Date(t.date),a("EXPENSE.DATE_FORMAT")))),c.a.createElement("h6",{className:"no-margin"},c.a.createElement("span",{className:"mr-1"},c.a.createElement(P.c,null)),c.a.createElement("small",null,t.label.name))))})))})),tt=c.a.memo((function(e){var t=Object(j.a)(),a=Object(g.a)(t,1)[0],n=e.incoming,r=e.outcoming,o=c.a.useState(0),l=Object(g.a)(o,2),u=l[0],i=l[1],s=c.a.useState(0),m=Object(g.a)(s,2),E=m[0],p=m[1],d=c.a.useState(0),f=Object(g.a)(d,2),b=f[0],O=f[1],h=c.a.useState(0),v=Object(g.a)(h,2),A=v[0],T=v[1];return c.a.useEffect((function(){var e=n.reduce((function(e,t){return e+t.value}),0),t=r.reduce((function(e,t){return e+t.value}),0);i(e),p(t);var a=e-t;(O(a),0===e)?T(0):T(a/e*100)}),[n,r]),c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"mt-2 row"},c.a.createElement("div",{className:"col"},c.a.createElement("p",null,a("EXPENSE.TOTAL_INCOMING"))),c.a.createElement("div",{className:"col"},u.toFixed(2))),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col"},c.a.createElement("p",null,a("EXPENSE.TOTAL_OUTCOMING"))),c.a.createElement("div",{className:"col"},E.toFixed(2))),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col"},c.a.createElement("p",null,a("EXPENSE.TOTAL_LEFT"))),c.a.createElement("div",{className:"col"},"".concat(b.toFixed(2)," - ").concat(A.toFixed(2),"%"))))}));!function(e){e[e.ADD=0]="ADD",e[e.EDIT=1]="EDIT",e[e.DUPLICATE=2]="DUPLICATE"}(Ue||(Ue={}));var at=c.a.memo((function(e){var t=Object(j.a)(),a=Object(g.a)(t,1)[0],n=e.show,o=e.type,l=e.expense,u=e.onAction,i=Object(r.useContext)(Ie),s=i.group,m=i.labels,E=c.a.useState(""),p=Object(g.a)(E,2),d=p[0],f=p[1],b=c.a.useState(A.get()),h=Object(g.a)(b,1)[0],v=c.a.useState(Me.OUTCOMING),T=Object(g.a)(v,2),L=T[0],x=T[1],k=c.a.useState(""),R=Object(g.a)(k,2),S=R[0],D=R[1],y=c.a.useState(),I=Object(g.a)(y,2),M=I[0],w=I[1],P=c.a.useState(new Date),U=Object(g.a)(P,2),_=U[0],G=U[1],F=c.a.useState(),B=Object(g.a)(F,2),H=B[0],X=B[1],V=c.a.useState([]),Y=Object(g.a)(V,2),K=Y[0],z=Y[1],J=c.a.useState(""),q=Object(g.a)(J,2),W=q[0],Q=q[1],$=c.a.useState(!1),Z=Object(g.a)($,2),ee=Z[0],te=Z[1],ae=c.a.useCallback((function(e){x(+e.target.value)}),[]),ne=c.a.useCallback((function(e){D(e.target.value)}),[]),re=c.a.useCallback((function(e){w(+e.target.value)}),[]),ce=c.a.useCallback((function(e){G(e.target.value)}),[]),oe=c.a.useCallback((function(e){X(+e.target.value),localStorage.setItem("label",e.target.value)}),[]),le=c.a.useCallback((function(e){Q(e.target.value)}),[]),ue=c.a.useCallback(Object(N.a)(C.a.mark((function e(){var t,n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(te(!0),n={id:null!==(t=null===l||void 0===l?void 0:l.id)&&void 0!==t?t:0,type:L,name:S,value:M,date:_,labelId:H,groupId:s,comments:W},f(""),o!==Ue.EDIT||!O(l)){e.next=18;break}return e.prev=4,e.next=7,new Ye(h).update(n);case 7:u(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(4),f(a("EXPENSE.ERROR"));case 13:return e.prev=13,te(!1),e.finish(13);case 16:e.next=31;break;case 18:return te(!0),e.prev=19,e.next=22,new Ye(h).add(n);case 22:u(),e.next=28;break;case 25:e.prev=25,e.t1=e.catch(19),f(a("EXPENSE.ERROR"));case 28:return e.prev=28,te(!1),e.finish(28);case 31:case"end":return e.stop()}}),e,null,[[4,10,13,16],[19,25,28,31]])}))),[L,S,M,_,H,W,a,h,u,l,s,o]);c.a.useEffect((function(){if(n)if(z(m),f(""),l)x(null===l||void 0===l?void 0:l.type),D(null===l||void 0===l?void 0:l.name),w(null===l||void 0===l?void 0:l.value),G(null===l||void 0===l?void 0:l.date),X(null===l||void 0===l?void 0:l.label.id),Q(null===l||void 0===l?void 0:l.comments);else{x(Me.OUTCOMING),D(""),w(void 0),G(new Date);var e=localStorage.getItem("label");O(e)&&m.some((function(t){return t.id===+e}))?X(+e):X(m.length>0?m[0].id:void 0),Q("")}}),[l,n,m]);var ie=c.a.useMemo((function(){return!(!ee&&!O(d)&&O(S)&&O(M)&&O(_)&&O(H))}),[d,S,M,_,H,ee]),se=c.a.useMemo((function(){return K.map((function(e){return c.a.createElement("option",{key:e.id,value:e.id},e.name)}))}),[K]),me=c.a.useMemo((function(){return o===Ue.DUPLICATE?a("EXPENSE.MODAL.DUPLICATE_TITLE"):o===Ue.EDIT?a("EXPENSE.MODAL.EDIT_TITLE"):a("EXPENSE.MODAL.ADD_TITLE")}),[o,a]),Ee=c.a.useMemo((function(){return o===Ue.DUPLICATE?a("EXPENSE.MODAL.DUPLICATE_ACTION"):o===Ue.EDIT?a("EXPENSE.MODAL.EDIT_ACTION"):a("EXPENSE.MODAL.ADD_ACTION")}),[o,a]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(qe,{show:e.show,size:"lg",title:me,onHide:e.onHide,onAction:ue,actionText:Ee,actionDisable:ie},c.a.createElement(fe,{message:d,type:"danger"}),c.a.createElement(pe.a,null,c.a.createElement(pe.a.Group,{controlId:"formLabel"},c.a.createElement(pe.a.Label,null,a("EXPENSE.MODAL.TYPE")),c.a.createElement(pe.a.Control,{as:"select",value:null!==L&&void 0!==L?L:"",onChange:ae},c.a.createElement("option",{key:Me.OUTCOMING,value:Me.OUTCOMING},a("EXPENSE.OUTCOMING")),c.a.createElement("option",{key:Me.INCOMING,value:Me.INCOMING},a("EXPENSE.INCOMING")))),c.a.createElement(pe.a.Group,{controlId:"formName"},c.a.createElement(pe.a.Label,null,a("EXPENSE.MODAL.NAME")),c.a.createElement(pe.a.Control,{"data-testid":"expense-name-field",type:"text",value:S,placeholder:a("EXPENSE.MODAL.NAME_PLACEHOLDER"),onChange:ne})),c.a.createElement(pe.a.Group,{controlId:"formValue"},c.a.createElement(pe.a.Label,null,a("EXPENSE.MODAL.VALUE")),c.a.createElement(pe.a.Control,{"data-testid":"expense-value-field",type:"number",value:null!==M&&void 0!==M?M:"",placeholder:a("EXPENSE.MODAL.VALUE_PLACEHOLDER"),onChange:re})),c.a.createElement(pe.a.Group,{controlId:"formDate"},c.a.createElement(pe.a.Label,null,a("EXPENSE.MODAL.DATE")),c.a.createElement(pe.a.Control,{"data-testid":"expense-date-field",type:"date",value:Object(Ke.a)(new Date(_),a("EXPENSE.FIELD_DATE_FORMAT")),onChange:ce})),c.a.createElement(pe.a.Group,{controlId:"formLabel"},c.a.createElement(pe.a.Label,null,a("EXPENSE.MODAL.LABEL")),c.a.createElement(pe.a.Control,{as:"select",value:null!==H&&void 0!==H?H:"",onChange:oe},se)),c.a.createElement(pe.a.Group,{controlId:"formComments"},c.a.createElement(pe.a.Label,null,a("EXPENSE.MODAL.COMMENTS")),c.a.createElement(pe.a.Control,{"data-testid":"expense-comments-field",as:"textarea",rows:2,value:W,placeholder:a("EXPENSE.MODAL.COMMENTS_PLACEHOLDER"),onChange:le})))))}));function nt(){var e=Object(I.a)(["\n    .no-margin {\n        margin: 0px;\n    };\n    canvas {\n        max-width: 500px;\n    };\n    .red-text {\n        color: #dc3545;\n    }\n"]);return nt=function(){return e},e}var rt=Object(L.b)(nt()),ct=c.a.memo((function(e){var t=Object(j.a)(),a=Object(g.a)(t,1)[0],n=Object(r.useContext)(Ie),o=c.a.useState(A.get()),l=Object(g.a)(o,1)[0],u=c.a.useState(""),i=Object(g.a)(u,2),s=i[0],m=i[1],E=c.a.useState(!1),p=Object(g.a)(E,2),d=p[0],f=p[1],b=c.a.useState([]),h=Object(g.a)(b,2),v=h[0],T=h[1],L=c.a.useState(),x=Object(g.a)(L,2),k=x[0],R=x[1],S=c.a.useState(!1),D=Object(g.a)(S,2),y=D[0],I=D[1],M=c.a.useState(Ue.ADD),w=Object(g.a)(M,2),P=w[0],U=w[1],_=c.a.useState(!1),G=Object(g.a)(_,2),F=G[0],B=G[1];c.a.useEffect((function(){n.isLoading||function(){var e=Object(N.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(""),f(!0),e.prev=2,e.next=5,new Ye(l).getAllFull(n.group,n.month,n.year);case 5:t=e.sent,T(t),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),T([]),m(a("LABEL.ERROR"));case 13:return e.prev=13,f(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[2,9,13,16]])})));return function(){return e.apply(this,arguments)}}()()}),[n,l,a,F]);var H=c.a.useCallback((function(){R(void 0),U(Ue.ADD),I(!0)}),[]),X=c.a.useCallback((function(e){R(v.find((function(t){return t.id===e}))),U(Ue.EDIT),I(!0)}),[v]),V=c.a.useCallback((function(e){R(v.find((function(t){return t.id===e}))),U(Ue.DUPLICATE),I(!0)}),[v]),Y=c.a.useCallback(function(){var e=Object(N.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new Ye(l).remove(t);case 3:setTimeout((function(){B(!F)}),l.requestDelay),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),m(a("LABEL.ERROR"));case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}(),[l,a,F]),K=c.a.useCallback((function(){I(!1)}),[]),z=c.a.useCallback((function(){I(!1),setTimeout((function(){B(!F)}),l.requestDelay)}),[l,F]),J=c.a.useMemo((function(){return v.filter((function(e){return e.type===+Me.INCOMING}))}),[v]),q=c.a.useMemo((function(){return v.filter((function(e){return e.type===+Me.OUTCOMING}))}),[v]),W=c.a.useMemo((function(){return n.group!==Ne.group&&O(n.groups)&&O(n.labels)?0!==v.length||O(s)?c.a.createElement(fe,{message:s,type:"danger"}):c.a.createElement(fe,{message:a("EXPENSE.EMPTY"),type:"warning"}):c.a.createElement(fe,{message:a("EXPENSE.EMPTY_GROUP"),type:"warning"})}),[v,s,a,n]),Q=c.a.useMemo((function(){return d||n.isLoading||!O(n.groups)||!O(n.labels)}),[d,n]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(rt,null),c.a.createElement(Pe,null),c.a.createElement(Te,{title:a("EXPENSE.TITLE"),action:a("EXPENSE.ADD"),onAction:H,disableAction:Q}),W,c.a.createElement(Se,{isLoading:d||n.isLoading},c.a.createElement(Ae.a,{defaultActiveKey:"summary"},c.a.createElement(ve.a,{eventKey:"summary",title:a("EXPENSE.SUMMARY")},c.a.createElement(tt,{incoming:J,outcoming:q})),c.a.createElement(ve.a,{eventKey:"incoming",title:a("EXPENSE.INCOMING")},c.a.createElement(et,{items:J,onEdit:X,onDuplicate:V,onDelete:Y})),c.a.createElement(ve.a,{eventKey:"outcoming",title:a("EXPENSE.OUTCOMING")},c.a.createElement(et,{items:q,onEdit:X,onDuplicate:V,onDelete:Y})))),c.a.createElement(at,{show:y,type:P,expense:k,onHide:K,onAction:z}))})),ot=function(e){Object(Y.a)(a,e);var t=Object(K.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).config=e,n.baseUrl="/api/group",n}return Object(d.a)(a,[{key:"getAllFull",value:function(){var e=Object(N.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config.apiUrl!==E.FIREBASE){e.next=3;break}e.next=8;break;case 3:if(this.config.apiUrl!==E.LOCAL_STORAGE){e.next=6;break}e.next=8;break;case 6:if(this.config.apiUrl!==E.TOTAL_FAKE){e.next=8;break}return e.abrupt("return",this.resolveMockData(Ge));case 8:return e.next=10,this.get(this.baseUrl+"/full",{user:t});case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAll",value:function(){var e=Object(N.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config.apiUrl!==E.FIREBASE){e.next=3;break}e.next=8;break;case 3:if(this.config.apiUrl!==E.LOCAL_STORAGE){e.next=6;break}e.next=8;break;case 6:if(this.config.apiUrl!==E.TOTAL_FAKE){e.next=8;break}return e.abrupt("return",this.resolveMockData(_e));case 8:return e.next=10,this.get(this.baseUrl);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Object(N.a)(C.a.mark((function e(t){var a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config.apiUrl!==E.FIREBASE){e.next=3;break}e.next=8;break;case 3:if(this.config.apiUrl!==E.LOCAL_STORAGE){e.next=6;break}e.next=8;break;case 6:if(this.config.apiUrl!==E.TOTAL_FAKE){e.next=8;break}return e.abrupt("return",this.resolveMockData(_e[0]));case 8:return e.next=10,this.post(this.baseUrl,{},Object(n.a)(Object(n.a)({},t),{},{users:null===(a=t.users)||void 0===a?void 0:a.map((function(e){return{id:e}}))}));case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=Object(N.a)(C.a.mark((function e(t){var a;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config.apiUrl!==E.FIREBASE){e.next=3;break}e.next=8;break;case 3:if(this.config.apiUrl!==E.LOCAL_STORAGE){e.next=6;break}e.next=8;break;case 6:if(this.config.apiUrl!==E.TOTAL_FAKE){e.next=8;break}return e.abrupt("return",this.resolveMockData(void 0));case 8:return e.next=10,this.put(this.baseUrl,{},Object(n.a)(Object(n.a)({},t),{},{users:null===(a=t.users)||void 0===a?void 0:a.map((function(e){return{id:e}}))}));case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"remove",value:function(){var e=Object(N.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config.apiUrl!==E.FIREBASE){e.next=3;break}e.next=8;break;case 3:if(this.config.apiUrl!==E.LOCAL_STORAGE){e.next=6;break}e.next=8;break;case 6:if(this.config.apiUrl!==E.TOTAL_FAKE){e.next=8;break}return e.abrupt("return",this.resolveMockData(void 0));case 8:return e.next=10,this.delete(this.baseUrl+"/"+t);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),a}(q),lt=c.a.memo((function(e){var t=Object(j.a)(),a=Object(g.a)(t,1)[0],n=Object(r.useContext)(V).user,o=c.a.useState(""),l=Object(g.a)(o,2),u=l[0],i=l[1],s=c.a.useState(A.get()),m=Object(g.a)(s,1)[0],E=c.a.useState(""),p=Object(g.a)(E,2),d=p[0],f=p[1],b=c.a.useState([]),h=Object(g.a)(b,2),v=h[0],T=h[1],L=c.a.useState([]),x=Object(g.a)(L,2),k=x[0],R=x[1],S=c.a.useState(!1),D=Object(g.a)(S,2),y=D[0],I=D[1],M=c.a.useState(!1),w=Object(g.a)(M,2),P=w[0],U=w[1],_=c.a.useCallback((function(e){f(e.target.value)}),[]),G=c.a.useCallback((function(e){T(Array.from(e.target.selectedOptions,(function(e){return e.value})))}),[]),F=c.a.useCallback(Object(N.a)(C.a.mark((function t(){var n;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(U(!0),i(""),!O(e.group)){t.next=17;break}return t.prev=3,t.next=6,new ot(m).update({id:null===(n=e.group)||void 0===n?void 0:n.id,name:d,users:v});case 6:e.onAction(),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(3),i(a("GROUP.ERROR"));case 12:return t.prev=12,U(!1),t.finish(12);case 15:t.next=30;break;case 17:return U(!0),t.prev=18,t.next=21,new ot(m).add({name:d,users:v});case 21:e.onAction(),t.next=27;break;case 24:t.prev=24,t.t1=t.catch(18),i(a("GROUP.ERROR"));case 27:return t.prev=27,U(!1),t.finish(27);case 30:case"end":return t.stop()}}),t,null,[[3,9,12,15],[18,24,27,30]])}))),[d,v,a,m,e]);c.a.useEffect((function(){var t,a;e.show&&(e.group?(f(null===(t=e.group)||void 0===t?void 0:t.name),T(null===(a=e.group)||void 0===a?void 0:a.users.map((function(e){return e.id})))):(f(""),n&&T([n.uid])))}),[e,n]),c.a.useEffect((function(){(function(){var e=Object(N.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return I(!0),i(""),e.prev=2,e.next=5,new W(m).getAll();case 5:t=e.sent,R(t),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),i(a("GROUP.ERROR"));case 12:return e.prev=12,I(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[2,9,12,15]])})));return function(){return e.apply(this,arguments)}})()()}),[a,m]);var B=c.a.useMemo((function(){return!!P||(!!O(u)||(!O(d)||!O(v)))}),[u,d,v,P]),H=c.a.useMemo((function(){return k.map((function(e){return(null===n||void 0===n?void 0:n.uid)===e.id?c.a.createElement("option",{key:e.id,value:e.id},a("GROUP.YOU")):c.a.createElement("option",{key:e.id,value:e.id},"".concat(e.displayName," (").concat(e.email,")"))}))}),[k,n,a]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(qe,{show:e.show,size:"lg",title:O(e.group)?a("GROUP.MODAL.EDIT_TITLE"):a("GROUP.MODAL.ADD_TITLE"),onHide:e.onHide,onAction:F,actionText:O(e.group)?a("GROUP.MODAL.EDIT_ACTION"):a("GROUP.MODAL.ADD_ACTION"),actionDisable:B},c.a.createElement(fe,{message:u,type:"danger"}),c.a.createElement(pe.a,null,c.a.createElement(pe.a.Group,{controlId:"exampleForm.ControlInput1"},c.a.createElement(pe.a.Label,null,a("GROUP.MODAL.NAME")),c.a.createElement(pe.a.Control,{"data-testid":"group-name-field",type:"text",value:d,placeholder:a("GROUP.MODAL.NAME_PLACEHOLDER"),onChange:_})),c.a.createElement(pe.a.Group,{controlId:"exampleForm.ControlSelect2"},c.a.createElement(pe.a.Label,null,a("GROUP.MODAL.USERS")),c.a.createElement(pe.a.Control,{"data-testid":"group-users-field",as:"select",multiple:!0,value:v,readOnly:y&&O(u),onChange:G},H)))))}));function ut(){var e=Object(I.a)([""]);return ut=function(){return e},e}var it,st=Object(L.b)(ut()),mt=c.a.memo((function(e){var t=Object(j.a)(),a=Object(g.a)(t,1)[0],n=Object(r.useContext)(V),o=n.user,l=n.isReady,u=Object(r.useContext)(Ie).reloadGroups,i=c.a.useState(A.get()),s=Object(g.a)(i,1)[0],m=c.a.useState(!1),E=Object(g.a)(m,2),p=E[0],d=E[1],f=c.a.useState(),b=Object(g.a)(f,2),h=b[0],v=b[1],T=c.a.useState([]),L=Object(g.a)(T,2),x=L[0],k=L[1],R=c.a.useState(""),S=Object(g.a)(R,2),D=S[0],y=S[1],I=c.a.useState(!1),M=Object(g.a)(I,2),w=M[0],P=M[1],U=c.a.useState(!1),_=Object(g.a)(U,2),G=_[0],F=_[1],B=c.a.useCallback((function(){v(void 0),P(!0)}),[]),H=c.a.useCallback((function(e){v(x.find((function(t){return t.id===e}))),P(!0)}),[x]),X=c.a.useCallback(function(){var e=Object(N.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return y(""),e.prev=1,e.next=4,new ot(s).remove(t);case 4:setTimeout((function(){u(),F(!G)}),s.requestDelay),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),y(a("GROUP.ERROR"));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),[s,G,a,u]),Y=c.a.useCallback((function(){P(!1)}),[]),K=c.a.useCallback((function(){P(!1),setTimeout((function(){u(),F(!G)}),s.requestDelay)}),[s,G,u]);c.a.useEffect((function(){l&&(y(""),function(){var e=Object(N.a)(C.a.mark((function e(){var t,n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.prev=1,e.next=4,new ot(s).getAllFull(null!==(t=null===o||void 0===o?void 0:o.uid)&&void 0!==t?t:"");case 4:n=e.sent,k(n),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),k([]),y(a("GROUP.ERROR"));case 12:return e.prev=12,d(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,8,12,15]])})));return function(){return e.apply(this,arguments)}}()())}),[l,s,o,G,a]);var z=c.a.useMemo((function(){return p||0!==x.length||O(D)?O(D)?c.a.createElement(fe,{message:D,type:"danger"}):x.map((function(e,t){return c.a.createElement(Ze,{key:e.id,id:e.id,name:e.name,onEdit:H,onDelete:X},c.a.createElement("div",{key:"GROUP_USERS_".concat(t),className:"d-flex flex-wrap justify-content-start"},e.users.map((function(e,n){return c.a.createElement("small",{key:"GROUP_SMALL_".concat(t,"_").concat(n),className:"mr-2"},o&&o.uid===e.id?a("GROUP.YOU"):ee(e))}))))})):c.a.createElement(fe,{message:a("GROUP.EMPTY"),type:"warning"})}),[o,p,D,x,H,X,a]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(st,null),c.a.createElement(Te,{title:a("GROUP.TITLE"),action:a("GROUP.ADD"),onAction:B,disableAction:p}),c.a.createElement(Se,{isLoading:p},z),c.a.createElement(lt,{show:w,group:h,onHide:Y,onAction:K}))})),Et=a(194),pt=(a(362),a(195)),dt=a(77),ft=function(e){Object(Y.a)(a,e);var t=Object(K.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).config=e,n.baseUrl="/api/label",n}return Object(d.a)(a,[{key:"getAllFull",value:function(){var e=Object(N.a)(C.a.mark((function e(t,a,n){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config.apiUrl!==E.FIREBASE){e.next=3;break}e.next=8;break;case 3:if(this.config.apiUrl!==E.LOCAL_STORAGE){e.next=6;break}e.next=8;break;case 6:if(this.config.apiUrl!==E.TOTAL_FAKE){e.next=8;break}return e.abrupt("return",this.resolveMockData(Be));case 8:return e.next=10,this.get(this.baseUrl+"/full",{group:t,month:a,year:n});case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(t,a,n){return e.apply(this,arguments)}}()},{key:"getAll",value:function(){var e=Object(N.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config.apiUrl!==E.FIREBASE){e.next=3;break}e.next=8;break;case 3:if(this.config.apiUrl!==E.LOCAL_STORAGE){e.next=6;break}e.next=8;break;case 6:if(this.config.apiUrl!==E.TOTAL_FAKE){e.next=8;break}return e.abrupt("return",this.resolveMockData(Fe));case 8:return e.next=10,this.get(this.baseUrl,{group:t});case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Object(N.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config.apiUrl!==E.FIREBASE){e.next=3;break}e.next=8;break;case 3:if(this.config.apiUrl!==E.LOCAL_STORAGE){e.next=6;break}e.next=8;break;case 6:if(this.config.apiUrl!==E.TOTAL_FAKE){e.next=8;break}return e.abrupt("return",this.resolveMockData(Fe[0]));case 8:return e.next=10,this.post(this.baseUrl,{group:t.groupId},t);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=Object(N.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config.apiUrl!==E.FIREBASE){e.next=3;break}e.next=8;break;case 3:if(this.config.apiUrl!==E.LOCAL_STORAGE){e.next=6;break}e.next=8;break;case 6:if(this.config.apiUrl!==E.TOTAL_FAKE){e.next=8;break}return e.abrupt("return",this.resolveMockData(void 0));case 8:return e.next=10,this.put(this.baseUrl,{},t);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"remove",value:function(){var e=Object(N.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.config.apiUrl!==E.FIREBASE){e.next=3;break}e.next=8;break;case 3:if(this.config.apiUrl!==E.LOCAL_STORAGE){e.next=6;break}e.next=8;break;case 6:if(this.config.apiUrl!==E.TOTAL_FAKE){e.next=8;break}return e.abrupt("return",this.resolveMockData(void 0));case 8:return e.next=10,this.delete(this.baseUrl+"/"+t);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),a}(q),bt=c.a.memo((function(e){var t=Object(j.a)(),a=Object(g.a)(t,1)[0],o=e.show,l=e.label,u=Object(r.useContext)(Ie).group,i=c.a.useState(""),s=Object(g.a)(i,2),m=s[0],E=s[1],p=c.a.useState(A.get()),d=Object(g.a)(p,1)[0],f=c.a.useState(""),b=Object(g.a)(f,2),h=b[0],v=b[1],T=c.a.useState(!1),L=Object(g.a)(T,2),x=L[0],k=L[1],R=c.a.useCallback((function(e){v(e.target.value)}),[]),S=c.a.useCallback(Object(N.a)(C.a.mark((function t(){return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(k(!0),E(""),!O(e.label)){t.next=17;break}return t.prev=3,t.next=6,new ft(d).update(Object(n.a)(Object(n.a)({},e.label),{},{name:h}));case 6:e.onAction(),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(3),E(a("LABEL.ERROR"));case 12:return t.prev=12,k(!1),t.finish(12);case 15:t.next=30;break;case 17:return k(!0),t.prev=18,t.next=21,new ft(d).add({name:h,groupId:u});case 21:e.onAction(),t.next=27;break;case 24:t.prev=24,t.t1=t.catch(18),E(a("LABEL.ERROR"));case 27:return t.prev=27,k(!1),t.finish(27);case 30:case"end":return t.stop()}}),t,null,[[3,9,12,15],[18,24,27,30]])}))),[h,a,d,e,u]);c.a.useEffect((function(){var e;o&&v(l&&null!==(e=null===l||void 0===l?void 0:l.name)&&void 0!==e?e:"")}),[o,l]);var D=c.a.useMemo((function(){return!(!x&&!O(m)&&O(h))}),[m,h,x]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(qe,{show:e.show,size:"lg",title:O(e.label)?a("LABEL.MODAL.EDIT_TITLE"):a("LABEL.MODAL.ADD_TITLE"),onHide:e.onHide,onAction:S,actionText:O(e.label)?a("LABEL.MODAL.EDIT_ACTION"):a("LABEL.MODAL.ADD_ACTION"),actionDisable:D},c.a.createElement(fe,{message:m,type:"danger"}),c.a.createElement(pe.a,null,c.a.createElement(pe.a.Group,{controlId:"exampleForm.ControlInput1"},c.a.createElement(pe.a.Label,null,a("LABEL.MODAL.NAME")),c.a.createElement(pe.a.Control,{"data-testid":"label-name-field",type:"text",value:h,placeholder:a("LABEL.MODAL.NAME_PLACEHOLDER"),onChange:R})))))}));function Ot(){var e=Object(I.a)(["\n    .no-margin {\n        margin: 0px;\n    };\n    canvas {\n        max-width: 500px;\n    };\n"]);return Ot=function(){return e},e}!function(e){e[e.CURRENT_MONTH=1]="CURRENT_MONTH",e[e.LAST_MONTH=2]="LAST_MONTH",e[e.AVERAGE=3]="AVERAGE"}(it||(it={}));var ht,vt=Object(L.b)(Ot()),At=c.a.memo((function(e){var t=Object(j.a)(),a=Object(g.a)(t,1)[0],n=Object(r.useContext)(Ie),o=n.isLoading,l=n.group,u=n.groups,i=n.month,s=n.year,m=n.reloadLabels,E=c.a.useState(A.get()),p=Object(g.a)(E,1)[0],d=c.a.useState(""),f=Object(g.a)(d,2),b=f[0],h=f[1],v=c.a.useState(!1),T=Object(g.a)(v,2),L=T[0],x=T[1],k=c.a.useState([]),R=Object(g.a)(k,2),S=R[0],D=R[1],y=c.a.useState(),I=Object(g.a)(y,2),M=I[0],w=I[1],P=c.a.useState(!1),U=Object(g.a)(P,2),_=U[0],G=U[1],F=c.a.useState(!1),B=Object(g.a)(F,2),H=B[0],X=B[1],V=c.a.useState(it.CURRENT_MONTH),Y=Object(g.a)(V,2),K=Y[0],z=Y[1];c.a.useEffect((function(){o||function(){var e=Object(N.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),h(""),e.prev=2,e.next=5,new ft(p).getAllFull(l,i,s);case 5:t=e.sent,D(t),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),D([]),h(a("LABEL.ERROR"));case 13:return e.prev=13,x(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[2,9,13,16]])})));return function(){return e.apply(this,arguments)}}()()}),[o,l,i,s,p,a,H]);var J=c.a.useCallback((function(){w(void 0),G(!0)}),[]),q=c.a.useCallback((function(e){w(S.find((function(t){return t.id===e}))),G(!0)}),[S]),W=c.a.useCallback(function(){var e=Object(N.a)(C.a.mark((function e(t){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(""),e.prev=1,e.next=4,new ft(p).remove(t);case 4:setTimeout((function(){m(),X(!H)}),p.requestDelay),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),h(a("LABEL.ERROR"));case 10:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}(),[p,a,H,m]),Q=c.a.useCallback((function(){G(!1)}),[]),$=c.a.useCallback((function(){G(!1),setTimeout((function(){m(),X(!H)}),p.requestDelay)}),[p,H,m]),Z=c.a.useCallback((function(e){z(e)}),[]),ee=c.a.useMemo((function(){return S.map((function(e){var t=e.currValue>e.lastValue||e.currValue>e.avgValue?"text-danger":"",n=e.lastValue>e.avgValue?"text-danger":"";return c.a.createElement(Ze,{key:e.id,id:e.id,name:e.name,onEdit:q,onDelete:W},c.a.createElement("div",{className:"d-flex justify-content-between"},c.a.createElement("h6",{className:"no-margin ".concat(t)},c.a.createElement("small",null,c.a.createElement("small",null,a("LABEL.CURRENT_MONTH"))),c.a.createElement("br",null),c.a.createElement("small",null,e.currValue.toFixed(2))),c.a.createElement("h6",{className:"no-margin ".concat(n)},c.a.createElement("small",null,c.a.createElement("small",null,a("LABEL.LAST_MONTH"))),c.a.createElement("br",null),c.a.createElement("small",null,e.lastValue.toFixed(2))),c.a.createElement("h6",{className:"no-margin"},c.a.createElement("small",null,c.a.createElement("small",null,a("LABEL.AVERAGE"))),c.a.createElement("br",null),c.a.createElement("small",null,e.avgValue.toFixed(2)))))}))}),[S,q,W,a]),te=c.a.useMemo((function(){return c.a.createElement(Et.Pie,{key:K,data:S.length>0?{labels:S.map((function(e){return e.name})),datasets:[{data:S.map((function(e){return K===it.CURRENT_MONTH?e.currValue:K===it.LAST_MONTH?e.lastValue:e.avgValue})),borderWidth:0}]}:{labels:["Empty"],datasets:[{data:[1],borderWidth:0}]},options:{plugins:{colorschemes:{scheme:"office.Excel16"}}},width:100,height:100})}),[S,K]),ae=c.a.useMemo((function(){return l===Ne.group?c.a.createElement(fe,{message:a("LABEL.EMPTY_GROUP"),type:"warning"}):L||o||0!==S.length||O(b)?c.a.createElement(fe,{message:b,type:"danger"}):c.a.createElement(fe,{message:a("LABEL.EMPTY"),type:"warning"})}),[b,l,L,o,S,a]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(vt,null),c.a.createElement(Pe,null),c.a.createElement(Te,{title:a("LABEL.TITLE"),action:a("LABEL.ADD"),onAction:J,disableAction:L||o||!O(u)}),ae,c.a.createElement(Se,{isLoading:L||o},c.a.createElement(Ae.a,{defaultActiveKey:"items"},c.a.createElement(ve.a,{eventKey:"items",title:a("LABEL.TAB_ITEMS")},ee),c.a.createElement(ve.a,{eventKey:"graph",title:a("LABEL.TAB_GRAPH")},c.a.createElement("div",{className:"m-2 d-flex justify-content-center"},c.a.createElement(pt.a,{type:"radio",name:"options",value:K,onChange:Z},c.a.createElement(dt.a,{value:it.CURRENT_MONTH},a("LABEL.CURRENT_MONTH")),c.a.createElement(dt.a,{value:it.LAST_MONTH},a("LABEL.LAST_MONTH")),c.a.createElement(dt.a,{value:it.AVERAGE},a("LABEL.AVERAGE")))),c.a.createElement("div",{className:"d-flex justify-content-center"},te)))),c.a.createElement(bt,{show:_,label:M,onHide:Q,onAction:$}))})),gt=c.a.memo((function(e){var t=Object(r.useContext)(V),a=Object(j.a)(),n=Object(g.a)(a,1)[0],o=c.a.useState(""),l=Object(g.a)(o,2),u=l[0],i=l[1],s=c.a.useState(!1),m=Object(g.a)(s,2),E=m[0],p=m[1],d=c.a.useState(A.get()),f=Object(g.a)(d,1)[0],b=c.a.useState(""),O=Object(g.a)(b,2),h=O[0],v=O[1],T=c.a.useCallback((function(e){t.setDarkTheme(e.target.checked)}),[t]),L=c.a.useCallback((function(e){i(e.target.value)}),[]),x=c.a.useCallback(Object(N.a)(C.a.mark((function e(){return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),v(""),e.prev=2,e.next=5,Z(f,t.user,u);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),v(n("SETTINGS.ERROR"));case 10:return e.prev=10,p(!1),e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[2,7,10,13]])}))),[u,f,t.user,n]);return c.a.useEffect((function(){var e,a;i(null!==(e=null===(a=t.user)||void 0===a?void 0:a.displayName)&&void 0!==e?e:"")}),[t.user]),c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"m-2 d-flex justify-content-center"},c.a.createElement("div",{className:"col-xs-12 col-sm-8 col-md-6"},c.a.createElement(Te,{title:n("SETTINGS.TITLE"),action:n("SETTINGS.UPDATE"),onAction:x,disableAction:E}),c.a.createElement(fe,{message:h,type:"danger"}),c.a.createElement(pe.a,null,c.a.createElement(pe.a.Check,{className:"mb-2",type:"switch",id:"custom-switch",label:n("SETTINGS.DARK_THEME"),checked:t.isDarkTheme,onChange:T}),c.a.createElement(pe.a.Group,{controlId:"formBasicEmail"},c.a.createElement(pe.a.Label,null,n("SETTINGS.DISPLAY_NAME")),c.a.createElement(pe.a.Control,{type:"text",placeholder:n("SETTINGS.DISPLAY_NAME_PLACEHOLDER"),value:u,onChange:L}))))))})),Tt=a(196),Lt=function(e){var t=e.component;e.path,Object(Tt.a)(e,["component","path"]);return Object(r.useContext)(V).user?c.a.createElement(t,null):c.a.createElement(M.a,{to:"/auth"})},xt=a(193),kt=a(368),Rt=c.a.memo((function(e){var t,a=Object(j.a)(),o=Object(g.a)(a,1)[0],l=Object(r.useContext)(Ie),u=l.isLoading,i=l.groups,s=l.group,m=l.labels,E=c.a.useState(A.get()),p=Object(g.a)(E,1)[0];!function(e){e.NOT_PROCESSED="to do",e.PROCESSING="doing",e.PROCESSED="done",e.ERROR="error"}(t||(t={}));var d=c.a.useState(!1),f=Object(g.a)(d,2),b=f[0],h=f[1],v=c.a.useState(s),T=Object(g.a)(v,2),L=T[0],x=T[1],k=c.a.useState(""),R=Object(g.a)(k,2),S=R[0],D=R[1],y=c.a.useState([]),I=Object(g.a)(y,2),M=I[0],w=I[1],P=c.a.useState([]),U=Object(g.a)(P,2),_=U[0],G=U[1],F=c.a.useState(";"),B=Object(g.a)(F,2),H=B[0],X=B[1],V=c.a.useState(""),Y=Object(g.a)(V,2),K=Y[0],z=Y[1],J=c.a.useState(0),q=Object(g.a)(J,2),W=q[0],Q=q[1],$=c.a.useState(0),Z=Object(g.a)($,2),ee=Z[0],te=Z[1],ae=c.a.useMemo((function(){return i.map((function(e){return c.a.createElement("option",{key:"GROUP_"+e.id,value:e.id},e.name)}))}),[i]),ne=c.a.useMemo((function(){return!(O(H)&&!b&&!u)}),[H,b,u]),re=c.a.useCallback(Object(N.a)(C.a.mark((function e(){var a,r;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:h(!0),Q(M.length),te(0),a=C.a.mark((function e(a){var r,c,l;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=M[a],_[a]=t.PROCESSING,G(Object(n.a)({},_)),Object(xt.a)(r.date)){e.next=7;break}return _[a]=t.ERROR,G(Object(n.a)({},_)),e.abrupt("return","continue");case 7:if(c=m.find((function(e){return e.name.trim().toLowerCase()===r.label.name.trim().toLowerCase()})),O(c)){e.next=23;break}return e.prev=9,e.next=12,new ft(p).add({name:r.label.name.trim(),groupId:L});case 12:c=e.sent,m.push(c),e.next=23;break;case 16:return e.prev=16,e.t0=e.catch(9),_[a]=t.ERROR,G(Object(n.a)({},_)),te(a+1),z(o("IMPORT.ERROR")),e.abrupt("return","continue");case 23:return e.prev=23,e.next=26,new Ye(p).add(Object(n.a)(Object(n.a)({},r),{},{labelId:null===(l=c)||void 0===l?void 0:l.id}));case 26:e.next=35;break;case 28:return e.prev=28,e.t1=e.catch(23),_[a]=t.ERROR,G(Object(n.a)({},_)),te(a+1),z(o("IMPORT.ERROR")),e.abrupt("return","continue");case 35:_[a]=t.PROCESSED,G(Object(n.a)({},_)),te(a+1);case 38:case"end":return e.stop()}}),e,null,[[9,16],[23,28]])})),r=0;case 5:if(!(r<M.length)){e.next=13;break}return e.delegateYield(a(r),"t0",7);case 7:if("continue"!==e.t0){e.next=10;break}return e.abrupt("continue",10);case 10:r++,e.next=5;break;case 13:h(!1);case 14:case"end":return e.stop()}}),e)}))),[o,L,m,M,p,_,t.ERROR,t.PROCESSING,t.PROCESSED]),ce=c.a.useCallback((function(e){x(+e.target.value)}),[]),oe=c.a.useCallback((function(e){X(e.target.value)}),[]),le=c.a.useCallback((function(e){D(e.target.value)}),[]);c.a.useEffect((function(){if(O(H))try{var e=function(e,t,a,n,r){var c=[];try{t.split(a).forEach((function(t){var a=t.split(n);a.length<5||c.push({id:0,type:+a[0],name:a[1],value:+a[2],date:Object(kt.a)(a[3],r,new Date),label:{id:0,name:a[4],groupId:e},groupId:e,comments:a[5]})}))}catch(o){return[]}return c}(L,S,"\n",H,o("EXPENSE.DATE_FORMAT"));G(e.map((function(e){return t.NOT_PROCESSED}))),w(e)}catch(a){w([])}else w([])}),[H,S,L,o,t.NOT_PROCESSED]);var ue=c.a.useMemo((function(){if(!b)return c.a.createElement(c.a.Fragment,null);var e=0===W||0===ee?0:ee/W*100,t={width:"".concat(e.toFixed(0),"%")};return c.a.createElement("div",{className:"card mb-2"},c.a.createElement("div",{className:"card-body"},c.a.createElement("div",{className:"progress"},c.a.createElement("div",{className:"progress-bar progress-bar-striped ".concat(O(K)?"bg-danger":"bg-success"),role:"progressbar",style:t,"aria-valuenow":e,"aria-valuemin":0,"aria-valuemax":100},"".concat(ee,"/").concat(W)))))}),[b,K,ee,W]),ie=c.a.useMemo((function(){return M.map((function(e,a){return c.a.createElement("tr",{key:a},c.a.createElement("th",{scope:"row"},a+1),c.a.createElement("td",{className:_[a]===t.ERROR?"text-danger":_[a]===t.PROCESSED?"text-success":""},_[a].toString()),c.a.createElement("td",null,e.type===Me.INCOMING?o("EXPENSE.INCOMING"):o("EXPENSE.OUTCOMING")),c.a.createElement("td",null,e.name),c.a.createElement("td",null,e.value.toFixed(2)),c.a.createElement("td",null,Object(xt.a)(e.date)?Object(Ke.a)(new Date(e.date),o("IMPORT.TABLE.DATE_FORMAT")):o("IMPORT.TABLE.INVALID_DATE")),c.a.createElement("td",null,e.label.name),c.a.createElement("td",null,e.comments))}))}),[M,_,o,t.ERROR,t.PROCESSED]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(Te,{title:o("IMPORT.TITLE"),action:o("IMPORT.ACTION"),onAction:re,disableAction:ne}),c.a.createElement(fe,{message:K,type:"danger"}),c.a.createElement(fe,{message:u||0!==i.length?"":o("EXPORT.EMPTY_GROUP"),type:"warning"}),c.a.createElement(pe.a,null,c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-sm-12 col-md-6 col-lg-4"},c.a.createElement(pe.a.Group,null,c.a.createElement(pe.a.Label,null,o("IMPORT.GROUP")),c.a.createElement(pe.a.Control,{as:"select",value:L,onChange:ce,"data-testid":"import-group-field"},ae))),c.a.createElement("div",{className:"col-sm-12 col-md-6 col-lg-4"},c.a.createElement(pe.a.Group,null,c.a.createElement(pe.a.Label,null,o("IMPORT.SEPARATOR")),c.a.createElement(pe.a.Control,{type:"text",value:H,onChange:oe,"data-testid":"import-separator-field"}))),c.a.createElement("div",{className:"col-sm-12"},c.a.createElement(pe.a.Group,{controlId:"formImportData"},c.a.createElement(pe.a.Label,null,o("IMPORT.DATA")),c.a.createElement(pe.a.Text,{className:"text-muted"},o("IMPORT.DATA_TEXT")),c.a.createElement(pe.a.Control,{as:"textarea",rows:10,placeholder:o("IMPORT.DATA_PLACEHOLDER"),value:S,onChange:le,"data-testid":"import-data-field"}))))),ue,c.a.createElement("div",{className:"table-responsive"},c.a.createElement("table",{className:"table table-striped"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",{scope:"col"},o("IMPORT.TABLE.NUMBER")),c.a.createElement("th",{scope:"col"},o("IMPORT.TABLE.STATUS")),c.a.createElement("th",{scope:"col"},o("IMPORT.TABLE.TYPE")),c.a.createElement("th",{scope:"col"},o("IMPORT.TABLE.NAME")),c.a.createElement("th",{scope:"col"},o("IMPORT.TABLE.VALUE")),c.a.createElement("th",{scope:"col"},o("IMPORT.TABLE.DATE")),c.a.createElement("th",{scope:"col"},o("IMPORT.TABLE.LABEL")),c.a.createElement("th",{scope:"col"},o("IMPORT.TABLE.COMMENTS")))),c.a.createElement("tbody",null,ie))))})),St=c.a.memo((function(e){var t=Object(j.a)(),a=Object(g.a)(t,1)[0],n=Object(r.useContext)(Ie),o=n.group,l=n.groups,u=n.labels,i=n.isLoading,s=c.a.useState(A.get()),m=Object(g.a)(s,1)[0],E=c.a.useState(!1),p=Object(g.a)(E,2),d=p[0],f=p[1],b=c.a.useState(o),h=Object(g.a)(b,2),v=h[0],T=h[1],L=c.a.useState(";"),x=Object(g.a)(L,2),k=x[0],R=x[1],S=c.a.useState(""),D=Object(g.a)(S,2),y=D[0],I=D[1],M=c.a.useState(""),w=Object(g.a)(M,2),P=w[0],U=w[1],_=c.a.useState(""),G=Object(g.a)(_,2),F=G[0],B=G[1],H=c.a.useMemo((function(){return l.map((function(e){return c.a.createElement("option",{key:"GROUP_"+e.id,value:e.id},e.name)}))}),[l]),X=c.a.useMemo((function(){return!(O(k)&&!d&&!i)}),[k,d,i]),V=c.a.useCallback(Object(N.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),B(""),I(""),U(""),e.prev=4,e.next=7,new Ye(m).getAll(v);case 7:0===(t=e.sent).length?B(a("EXPORT.EMPTY")):U(t.map((function(e){var t,n,r=Object(Ke.a)(new Date(e.date),a("EXPENSE.DATE_FORMAT")),c=null!==(t=null===(n=u.find((function(t){return t.id===e.labelId})))||void 0===n?void 0:n.name.trim())&&void 0!==t?t:e.labelId,o=[e.type,e.name.trim(),e.value,r,c].join(k);return O(e.comments)?"".concat(o).concat(k).concat(e.comments.trim()):o})).join("\n")),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),I(a("EXPORT.ERROR"));case 14:return e.prev=14,f(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[4,11,14,17]])}))),[k,v,m,u,a]),Y=c.a.useCallback((function(e){T(+e.target.value)}),[]),K=c.a.useCallback((function(e){R(e.target.value)}),[]);return c.a.useEffect((function(){T(o)}),[o]),c.a.createElement(c.a.Fragment,null,c.a.createElement(Te,{title:a("EXPORT.TITLE"),action:a("EXPORT.ACTION"),onAction:V,disableAction:X}),c.a.createElement(fe,{message:i||0!==l.length?"":a("EXPORT.EMPTY_GROUP"),type:"warning"}),c.a.createElement(fe,{message:F,type:"warning"}),c.a.createElement(fe,{message:y,type:"danger"}),c.a.createElement(Se,{isLoading:d,text:a("EXPORT.EXPORTING")},c.a.createElement(pe.a,null,c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-sm-12 col-md-6 col-lg-4"},c.a.createElement(pe.a.Group,null,c.a.createElement(pe.a.Label,null,a("EXPORT.GROUP")),c.a.createElement(pe.a.Control,{as:"select",value:v,onChange:Y,"data-testid":"export-group-field"},H))),c.a.createElement("div",{className:"col-sm-12 col-md-6 col-lg-4"},c.a.createElement(pe.a.Group,null,c.a.createElement(pe.a.Label,null,a("EXPORT.SEPARATOR")),c.a.createElement(pe.a.Control,{type:"text",value:k,onChange:K,"data-testid":"export-separator-field"}))),c.a.createElement("div",{className:"col-sm-12"},c.a.createElement(pe.a.Group,{controlId:"formExportData"},c.a.createElement(pe.a.Label,null,a("EXPORT.DATA")),c.a.createElement(pe.a.Text,{className:"text-muted"},a("EXPORT.DATA_TEXT")),c.a.createElement(pe.a.Control,{className:"text-dark",as:"textarea","aria-label":"data-input",rows:10,placeholder:a("EXPORT.DATA_PLACEHOLDER"),value:P,readOnly:!0,"data-testid":"export-data-field"})))))))})),Dt=c.a.memo((function(e){var t,a=Object(r.useContext)(V).isReady,n=Object(M.g)(),o=Object(M.h)(),l=c.a.useState(A.get()),u=Object(g.a)(l,1)[0],i=c.a.useState(!0),s=Object(g.a)(i,2),m=s[0],E=s[1],p=c.a.useState(!0),d=Object(g.a)(p,2),f=d[0],b=d[1],h=c.a.useState(!0),v=Object(g.a)(h,2),T=v[0],L=v[1],x=c.a.useState(!0),k=Object(g.a)(x,2),R=k[0],S=k[1],D=c.a.useState(!0),y=Object(g.a)(D,2),I=y[0],j=y[1],w=c.a.useState(!0),P=Object(g.a)(w,2),U=P[0],_=P[1],F=c.a.useState(!0),H=Object(g.a)(F,2),X=H[0],Y=H[1],K=c.a.useMemo((function(){return m||f||T||R||I||U||X}),[m,f,T,R,I,U,X]),z=c.a.useState([]),J=Object(g.a)(z,2),q=J[0],W=J[1],Q=c.a.useState([]),$=Object(g.a)(Q,2),Z=$[0],ee=$[1],te=c.a.useState([]),ae=Object(g.a)(te,2),ne=ae[0],re=ae[1],ce=c.a.useState(!0),oe=Object(g.a)(ce,2),le=oe[0],ue=oe[1],se=c.a.useState(!0),me=Object(g.a)(se,2),Ee=me[0],pe=me[1],de=c.a.useState(),fe=Object(g.a)(de,2),be=fe[0],Oe=fe[1],ve=c.a.useState(),Ae=Object(g.a)(ve,2),ge=Ae[0],Te=Ae[1],Le=c.a.useState(),xe=Object(g.a)(Le,2),ke=xe[0],Re=xe[1],Se=c.a.useMemo((function(){var e=JSON.stringify(ie.a.parse(o.search));return JSON.parse(e)}),[o]);c.a.useEffect((function(){le&&function(){var e=Object(N.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],a){e.next=4;break}return ee(t),e.abrupt("return");case 4:return E(!0),e.prev=5,e.next=8,new ot(u).getAll();case 8:t=e.sent,e.next=14;break;case 11:e.prev=11,e.t0=e.catch(5),t=[];case 14:ee(t),E(!1),ue(!le);case 18:case"end":return e.stop()}}),e,null,[[5,11]])})));return function(){return e.apply(this,arguments)}}()()}),[a,u,le]),c.a.useEffect((function(){if(!a||!O(Z))return Oe(void 0),void S(!1);var e;S(!0);var t=localStorage.getItem("group");O(Se.group)&&Z.some((function(e){return e.id===+Se.group}))?e=Z.find((function(e){return e.id===+Se.group})):O(t)&&Z.some((function(e){return e.id===+t}))?e=Z.find((function(e){return e.id===+t})):O(Z)&&(e=Z[0]),Oe(e),e&&localStorage.setItem("group",e.id.toString()),S(!1)}),[Z,a,Se.group]),c.a.useEffect((function(){Ee&&function(){var e=Object(N.a)(C.a.mark((function e(){var t,n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],a&&O(be)){e.next=5;break}return W(t),b(!1),e.abrupt("return");case 5:return b(!0),e.prev=6,e.next=9,new ft(u).getAll(null!==(n=null===be||void 0===be?void 0:be.id)&&void 0!==n?n:0);case 9:t=e.sent,e.next=15;break;case 12:e.prev=12,e.t0=e.catch(6),t=[];case 15:W(t),b(!1),pe(!Ee);case 19:case"end":return e.stop()}}),e,null,[[6,12]])})));return function(){return e.apply(this,arguments)}}()()}),[a,u,be,Ee]),c.a.useEffect((function(){(function(){var e=Object(N.a)(C.a.mark((function e(){var t,n;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=[],a&&O(be)){e.next=5;break}return re(t),L(!1),e.abrupt("return");case 5:return L(!0),e.prev=6,e.next=9,new Ye(u).getYears(null!==(n=null===be||void 0===be?void 0:be.id)&&void 0!==n?n:0);case 9:t=e.sent,e.next=15;break;case 12:e.prev=12,e.t0=e.catch(6),t=[];case 15:O(t)||(t=[(new Date).getFullYear()]),re(t),L(!1);case 19:case"end":return e.stop()}}),e,null,[[6,12]])})));return function(){return e.apply(this,arguments)}})()()}),[a,u,be]),c.a.useEffect((function(){if(a&&O(ne)){_(!0);var e=(new Date).getFullYear(),t=localStorage.getItem("year");O(Se.year)&&ne.some((function(e){return e===+Se.year}))?e=+Se.year:O(t)&&ne.some((function(e){return e===+t}))&&(e=+t),Re(e),localStorage.setItem("year",e.toString()),_(!1)}else _(!1)}),[ne,a,Se.year]),c.a.useEffect((function(){if(a){j(!0);var e=(new Date).getMonth(),t=localStorage.getItem("month");O(Se.month)&&Se.month>=1&&Se.month<=12?e=Se.month:O(t)&&+t>=1&&+t<=12&&(e=+t),Te(e),localStorage.setItem("month",e.toString()),j(!1)}}),[a,Se.month]),c.a.useEffect((function(){a&&O(be)&&O(ke)&&O(ge)&&!R&&!I&&!U?(Y(!0),n.push({pathname:o.pathname,search:ie.a.stringify({group:null===be||void 0===be?void 0:be.id,month:ge,year:ke})}),Y(!1)):Y(!1)}),[a,be,ge,ke,n,o.pathname,R,I,U]);var De=c.a.useCallback((function(){pe(!Ee)}),[Ee]),ye=c.a.useCallback((function(){ue(!le),pe(!Ee)}),[le,Ee]),Ce=c.a.useMemo((function(){return a}),[a]);return c.a.createElement(c.a.Fragment,null,c.a.createElement(Ie.Provider,{value:{isLoading:K,labels:q,groups:Z,years:ne,group:null!==(t=null===be||void 0===be?void 0:be.id)&&void 0!==t?t:0,month:null!==ge&&void 0!==ge?ge:0,year:null!==ke&&void 0!==ke?ke:0,reloadLabels:De,reloadGroups:ye}},c.a.createElement(G.a,{className:"mt-2 pl-1 pr-1"},c.a.createElement(M.d,null,Ce&&c.a.createElement(Lt,{key:B.group,path:B.group,component:mt}),Ce&&c.a.createElement(Lt,{key:B.label,path:B.label,component:At}),Ce&&c.a.createElement(Lt,{key:B.expense,path:B.expense,component:ct}),Ce&&c.a.createElement(Lt,{key:B.settings,path:B.settings,component:gt}),Ce&&c.a.createElement(Lt,{key:B.import,path:B.import,component:Rt}),Ce&&c.a.createElement(Lt,{key:B.export,path:B.export,component:St}),c.a.createElement(M.b,{key:B.auth,path:B.auth,component:he}),c.a.createElement(M.b,{key:B.home,exact:!0,path:B.home},c.a.createElement(c.a.Fragment,null,c.a.createElement("h3",null,"HOME"),c.a.createElement("h6",null,"Build Version: ",u.buildVersion))),a&&c.a.createElement(M.b,{key:"*",path:"*"},c.a.createElement("h1",null," 404 "))))))})),yt=c.a.memo((function(e){var t=Object(D.a)(Object(u.auth)()),a=Object(g.a)(t,2),n=a[0],r=a[1],o=S()("(prefers-color-scheme: dark)"),l=c.a.useState(A.get()),i=Object(g.a)(l,1)[0],s=c.a.useState(),m=Object(g.a)(s,2),E=m[0],p=m[1],d=c.a.useState(!1),f=Object(g.a)(d,2),b=f[0],h=f[1],v=c.a.useCallback((function(e){p(e)}),[]),x=c.a.useMemo((function(){var e=o;return O(localStorage.getItem("darkTheme"))&&(e=JSON.parse(localStorage.getItem("darkTheme")),p(e)),O(E)&&E!==e&&(p(e=E),localStorage.setItem("darkTheme",e.toString())),e?le:oe}),[E,o]);return c.a.useEffect((function(){!r&&n&&O(n)&&n.getIdTokenResult().then((function(e){k.a.defaults.headers.common.Authorization=e.token,new W(i).addOrUpdate({id:n.uid,email:n.email,displayName:n.displayName,photoUrl:n.photoURL}),h(!0)}))}),[n,r,i]),c.a.createElement(c.a.Fragment,null,c.a.createElement(L.a,{theme:x},c.a.createElement(c.a.Fragment,null,c.a.createElement(ce,null),c.a.createElement(V.Provider,{value:{user:n,initialising:r,isReady:b,isDarkTheme:null===E||void 0===E||E,setDarkTheme:v}},i.useHashRouter&&c.a.createElement(T.b,{basename:"/"},c.a.createElement(ne,null),c.a.createElement(Dt,null)),!i.useHashRouter&&c.a.createElement(T.a,{basename:"/"},c.a.createElement(ne,null),c.a.createElement(Dt,null))))))})),Ct=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=new v;return a=Object(n.a)(Object(n.a)({},a),{},{buildVersion:h("117",t.buildVersion,a.buildVersion),apiUrl:h("TOTAL_FAKE",t.apiUrl,a.apiUrl),useHashRouter:"true"===h("true",null===t||void 0===t||null===(e=t.useHashRouter)||void 0===e?void 0:e.toString(),a.useHashRouter.toString())}),A.set(Object(n.a)(Object(n.a)({},a),t)),A.get()}();Object(u.initializeApp)(Object(n.a)({},(ht=h("lfmachadodasilva-dev",Ct.firebaseProject),{apiKey:h("AIzaSyDMDE7eTQbjwkQglMJf5KnFtMr48-pAoVM",Ct.firebaseApiKey),authDomain:"".concat(ht,".firebaseapp.com"),databaseURL:"https://".concat(ht,".firebaseio.com"),projectId:ht,storageBucket:ht,messagingSenderId:"my-sender-id"}))),l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(yt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[197,1,2]]]);
//# sourceMappingURL=main.11cf7e6f.chunk.js.map